# 商品バンドルの作成

Liferay Commerceは、 **Product bundles** の作成を[Product Options](./using-product-options.md)を使用してサポートしています。 オプションでは、シンプル、仮想、グループであれ、現在の商品を他のSKUとリンクさせる値を定義することができます。 定義すると、顧客は商品をカートに入れる際に、異なるオプション値を選択することができます。

コンピュータのハードウェアの販売会社を例に挙げてみましょう。 顧客は、一般的なケース、電源、マザーボード、OSシステムを備えた特定のコンピューターモデルを選択することができますが、その他のハードウェア（CPU、GPU、RAM、ストレージなど）は自分で選択しなければなりません。 各商品のバリアントには、選択された部品に応じた価格が設定されています。 合計金額は、現在の商品の価格に、選択された値の価格を加えて算出されます。

```{note}
Liferay Commerceでは、商品バンドルに加えて、複数のSKUを組み合わせて販売するためのグループ商品が用意されています。 この商品タイプは、顧客の利便性や特別なプロモーションのためにSKUをグループ化します。 商品バンドルとは異なり、グループ商品にはそれぞれのSKUがあり、最終価格はそれぞれのエントリー価格によって決定されます。 詳しくは [グループ商品の作成](../product-types/creating-a-grouped-product.md) を参照してください。
```

以下の手順に従って、商品バンドルを作成します：

1. ［**グローバルメニュー**］を開き、［**Commerce**］タブをクリックして、［**商品管理**］&rarr; ［**商品**］に移動します。

1. バンドルのベースとなる商品として使用したい **商品** をクリックして、［**オプション**］タブに移動します。

1. ［**Add Options**］フィールドに、新しいバンドルオプションの **名前** を入力し、［**新規作成**］をクリックします。

   新しいオプションのテンプレートが作成され、デフォルトのオプション設定を使用して商品に適用されます。

   ```{tip}
   また、グローバルメニューのCommerceタブにある*オプション*ページでオプションテンプレートを作成することもできます。 この方法は、よく使われるタイプのバンドルに適しています。 詳しくは、 [商品オプションの使用](./using-product-options.md) を参照してください。
   ```

   ![商品のオプションタブに移動し、バンドル用の新しいオプションを作成します。](./creating-product-bundles/images/01.png)

1. 新しい［**Option**］をクリックして、その詳細や値を編集します。

1. 以下のオプションの設定を行います：

   * **説明**(オプショナル): ローカライズ済みの **説明** を追加する。
   * **Position** : オプションの優先順位を設定し、他のオプションとの相対的な表示順序を決定します。
   * **ファセット・ナビゲーションで利用する** : オプションが商品の検索結果をフィルタリングするために使用できるかどうかを判断します。
   * **Required** ：商品をカートに入れる前に、ユーザーがオプション値を選択する必要があるかどうかを決定します。
   * ［**SKU コントリビューター**］: オプション値が独自の商品のSKUの生成に使用されるかどうかを判断します。
   * **項目タイプ** : Optionに使用するフィールドのタイプを選択します。
   * **価格の種類** : オプション値に **静的** と **動的** のどちらの価格を使用するかを選択します。

      ```{note}
      *動的*はリンク先のSKUの価格を値に使用し、*静的*は値に直接設定された固定価格を使用します。 動的価格と静的価格は現在の商品の基本価格に追加されます。

      また、商品バンドルは*価格の種類*の属性を使用しているため、*１つだけ選択*と*リストから選択*のフィールドタイプしか使用できません。
      ```

   ![このフォームは、オプションの設定を構成するために使用されます。](./creating-product-bundles/images/02.png)

1. 値までスクロールダウンし、［**Add**］ボタン（![Add Button](../../../images/icon-add.png)）をクリックして、以下の値の詳細を入力してください：

   * **名前** ：値に使用する表示名を設定します。 SKUコントリビューターが有効になっている場合、この名前は値のSKUに使用されます。
   * **位置** ：値の重要度を設定し、オプションのフィールドでの配置を決定します。
   * **キー** : このフィールドは、名前フィールドに合わせて自動生成されますが、独立して設定することもできます。

   必要な値がすべて追加されるまでこの作業を繰り返します。

   ![このフォームを使用して、作成したオプションに値を追加します。](./creating-product-bundles/images/03.png)

1. 作成したら、値をクリックして以下の追加設定にアクセスします：

   * **デフォルト** ：オプションが選択された値をデフォルトとするかどうかを決定します。
   * **差分価格**(静的のみ)：値の具体的な価格を設定します。
   * **商品** :  既存のSKUを値にリンクし、その数量を指定します。

   ```{important}
   オプションの各値は特有でなければなりません。 つまり、同じ商品と数量の組み合わせを、同じオプションの複数の値に使用することはできません。 ただし、商品に追加される他のオプションには同じ値を使用することができます。

   また、バンドルの値は、他の商品バンドルや、*必須の*オプションを持つ商品、あるいは*サブスクリプション*を有効にした商品にはリンクすることはできません。 バンドルが*動的*価格を使用している場合、*承認済み*商品インスタンスにのみリンクすることができます。
   ```

1. （オプショナル）オプションのSKUコントリビューターが有効になっている場合、商品のページの［**SKU**]タブに移動し、Addボタンをクリックして、[**SKU のすべての組み合わせを生成**]を選択します。

   これにより、オプション値ごとに新しいSKUが生成され、SKUタブで編集することができます。

   ```{important}
   この機能を有効にすると、オプションでRequiredが有効になっていなくても、顧客は必ず値を選択しなければなりません。
   ```

1. 商品バンドルが商品の表示ページに表示されていることを確認してください。

![顧客は、商品の表示ページにある商品バンドルオプションから選択することができます。](./creating-product-bundles/images/04.png)

## 関連トピック

* [商品オプションの使用](./using-product-options.md)
