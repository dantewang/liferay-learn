# 商品バリアントのSKU作成

Liferay Commerceでは、複数のSKUを商品に追加して商品バリアントを表すことができます。 これを行うためには、商品には少なくとも1つの[オプション](../products/using-product-options.md)と **SKUコントリビューター** が有効になっている必要があります。 その後、オプションの定義された値を使用して、商品の複数の有効なSKUを手動または自動で作成することができます。 SKUが作成されると、各SKUは、商品詳細ウィジェットに表示される商品の購入可能なバージョンを表します。

![商品バリアントは、商品詳細ウィジェットに表示されます。](./creating-skus-for-product-variants/images/01.png)

```{note}
商品オプションがない場合、1つの商品に対して同時に1つのSKUしか有効にできません。
```

```{tip}
商品オプションの値は、SKUの作成に使用する前に確定することを強くお勧めします。 詳しくは、[商品オプションの使用](./using-product-options.md) を参照してください。
```

## 複数のSKUを自動的に生成

1つの商品に複数のSKUを生成して有効にするには、以下の手順に従ってください：

1. **グローバルメニュー**（![Global Menu](../../../images/icon-applications-menu.png)）を開き、 ［**Commerce**］ タブをクリックして、 ［**Products**］ に移動します。

1. SKUコントリビューターが有効になっているオプションが1つ以上ある商品をクリックして、［**SKUs**］タブに移動します。

1. **追加** ボタン（![Add Button](../../../images/icon-add.png)）をクリックし、 ［**Generate All SKU Combinations**］ を選択します。

   ![［SKUのすべての組み合わせを生成］を選択します。](./creating-skus-for-product-variants/images/02.png)

   SKUはオプション値ごとに自動的に生成されます。 これらのSKUは、値の名前を使用し、基本価格や在庫なしで作成されます。 SKUを構成するには、SKUの **アクション** ボタン（![Actions Button](../../../images/icon-actions.png))をクリックし、 ［**編集**］ を選択します。 詳しくは [SKU Fields Reference](#sku-fields-reference) を参照してください。

   ![生成されたSKUを編集します。](./creating-skus-for-product-variants/images/03.png)

1. 完了したら、 ［**Publish**］ をクリックします。

```{important}
在庫の各商品は、少なくとも1つのSKUに関連付けられている必要があります。
```

## 商品にSKUを手動で追加する

以下の手順に従って、個々のオプション値の商品SKUを手動で作成します。

   ```{important}
   SKUコントリビューターが有効になっている間は、手動で作成された各SKUをオプション値にマッピングする必要があります。
   ```

1. **グローバルメニュー**（![Global Menu](../../../images/icon-applications-menu.png)）を開き、 ［**Commerce**］ タブをクリックして、 ［**Products**］ に移動します。

1. SKUコントリビューターが有効になっているオプションが1つ以上ある商品をクリックして、［**SKUs**］タブに移動します。

1. **追加** ボタン（![Add Button](../../../images/icon-add.png)）をクリックして、 ［**Add SKU**］ を選択します。

   ![［SKUを追加］を選択します。](./creating-skus-for-product-variants/images/04.png)

1. SKUのフィールドを設定します。 詳しくは [SKU Fields Reference](#sku-fields-reference) を参照してください。

   ![SKUの設定を行います。](./creating-skus-for-product-variants/images/05.png)

1. 完了したら、 ［**Publish**］ をクリックします。

## SKU在庫の追加

Allow Back Ordersが有効な場合、基本価格が設定されたすべての公開SKUは、商品詳細ウィジェットで顧客がすぐに購入できるようになります。 ただし、［バックオーダーを許可］が無効になっている場合は、最初にSKUに在庫を追加して、購入できるようにする必要があります。 詳しくは、 [在庫管理](../../../inventory-management.md) をご覧ください。

![商品のSKUごとに在庫を追加します。](./creating-skus-for-product-variants/images/06.png)

```{note}
すべてのSKUの在庫が0で、［バックオーダーを許可］が無効になっている場合、商品詳細ウィジェットに商品のバリアントが表示されません。 ただし、1つのSKUのみが0になった場合は、すべてのバリアントが表示されます。 

［*バックオーダーを許可*］が有効になっている場合、在庫に関係なく、すべてのオプションが商品詳細ウィジェットに表示されます。 
```

## SKUフィールドリファレンス

### 詳細

| 項目                  | 説明                                               |
|:------------------- |:------------------------------------------------ |
| SKU（必須）             | 商品バリアントのSKUを入力してください。                            |
| \[オプションフィールド\] (必須) | SKUコントリビューターが有効な場合に、SKUをオプション値にマッピングするために使用されます。 |
| 購入可能                | SKUを購入できるかどうかを決定します。                             |
| 商品識別コード (GTIN)      | SKUにGTINを設定します。                                  |
| 製造者パート番号            | SKUにMPNを設定します。                                   |
| UNSPSC              | SKUに国連の標準商品およびサービスコードを設定します。                     |

### 価格

| 項目        | 説明                             |
|:--------- |:------------------------------ |
| 基本価格      | SKUの基本価格エントリを設定します。            |
| プロモーション価格 | SKUの基本価格の項目に対して、プロモーション価格を設定する |
| コスト       | ネット計算に使用されるSKUコストを設定します。       |

```{note}
Liferay DXP 7.4 U42/GA42以前では、Promotion PriceはSale Priceと呼ばれていました。
```

### 配送情報の個別設定

これらのフィールドは、個々のSKUの商品レベルの仕様を上書きし、出荷時に使用されます。

| 項目 | 説明            |
|:-- |:------------- |
| 幅  | 商品の幅を上書きします。  |
| 高さ | 商品の高さを上書きします。 |
| 深さ | 商品の奥行を上書きします。 |
| 重さ | 商品の重量を上書きします。 |

### 別紙

| 項目       | 説明                               |
|:-------- |:-------------------------------- |
| 公開されました  | SKUを閲覧可能にし、購入できるようにします。          |
| 公開開始日時   | SKUがサイト内に表示され、購入できるようになる時期を決めます。 |
| 有効期限     | SKUが購入できなくなる時期を決めます。             |
| 期限を設定しない | SKUが自動的に公開終了になるようにできるかどうかを決定します。 |

## 追加情報

* [商品の概要](./products-overview.md)
* [商品オプションの使用](./using-product-options.md)
* [商品レベルの情報を上書きする](./overriding-product-level-information.md)
