# 가격 소개

Liferay Commerce는 제품 가격을 미세 조정할 수 있는 강력한 가격 책정 시스템을 제공합니다. 단일 제품 SKU에 대해 여러 가격 항목을 정의하고 각 가격을 받을 수 있는 계정, 계정 그룹 및 채널을 결정할 수 있습니다. 동일한 SKU에 대해 여러 가격 엔터티가 있는 경우 Commerce의 가격 책정 엔진은 각 채널 고객에 대해 사용해야 하는 엔터티를 계산합니다.

다음 문서에서는 상거래 가격에 대한 개요와 고객을 위해 제품 및 주문 가격이 결정되는 방법을 제공합니다.

* [상업 가격 책정 시스템의 구성 요소](#components-of-commerces-pricing-system)
* [커머스에서 제품 가격을 계산하는 방법](#how-commerce-calculates-product-prices)
* [커머스에서 주문 가격을 계산하는 방법](#how-commerce-calculates-order-prices)

```{note}
다음 개요에서는 Commerce Pricing Engine v2.0+에 대해 설명합니다. 이 엔진 버전은 Commerce 3.0+ 및 Portal/DXP 7.3+에 사용되는 기본 알고리즘입니다. Commerce 2.1.x 및 이전 버전은 기본적으로 Commerce의 [Pricing Engine v1.0](#pricing-engine-v1-0-reference)을 사용합니다. 원하는 경우 인스턴스에 사용되는 [가격 엔진 버전을 변경](#enabling-pricing-engine-v2-0-in-commerce-2-1-x)할 수 있습니다.
```

## 상업 가격 책정 시스템의 구성 요소

Commerce에서 모든 제품은 카탈로그에 저장되며 각 카탈로그에는 기본 [기본 가격 목록](#base-price-list) 및 [기본 판촉 목록](#base-promotion-list)이 있습니다. 이 목록은 카탈로그에 포함된 모든 제품 SKU의 기본 가격 항목을 저장하는 데 사용되며 모든 고객이 사용할 수 있습니다. 또한 사용자 정의 [가격표](#price-lists) 및 [판촉 목록](#promotion-lists) 을 생성하여 더 대상이 지정되고 구성 가능한 가격 엔터티를 정의할 수 있습니다. 각 항목의 일부로 수량에 따라 제품에 대한 특별 가격을 설정하는 [가격 계층](#price-tiers) 을 정의할 수도 있습니다. 마지막으로 가격 항목을 재정의하지 않고 위에 적용되는 [개의 할인](#discounts) 을 생성합니다.

### 기준 가격표

기본 가격 목록은 카탈로그의 모든 제품 SKU에 대한 시작 가격 항목을 저장합니다. 이러한 항목은 재정의가 적용되지 않을 때 각 SKU에 사용되는 표준 통화 및 가격을 설정합니다. 이 목록은 모든 카탈로그에 대해 자동으로 생성되며 모든 계정 및 채널에서 사용할 수 있습니다. 자세한 내용은 [제품 기본 가격 설정](./setting-a-products-base-price.md) 을 참조하십시오.

   ![기본 가격 목록은 카탈로그의 모든 제품 SKU에 대한 시작 가격 항목을 저장합니다.](./introduction-to-pricing/images/02.png)

### 기본 프로모션 목록

기본 판촉 목록은 카탈로그의 모든 제품 SKU에 대한 기본 판촉 가격 항목을 저장합니다. SKU에 적용될 때 기본 판촉 가격 항목이 모든 고객의 기본 가격보다 우선합니다. 이 목록은 모든 카탈로그에 대해 자동으로 생성되며 모든 계정 및 채널에서 사용할 수 있습니다. 자세한 내용은 [프로모션 기본 목록 참조](./promoting-products/promotion-base-list-reference.md) 을 참조하십시오.

   ![기본 판촉 목록은 카탈로그의 모든 제품 SKU에 대한 기본 판촉 가격 항목을 저장합니다.](./introduction-to-pricing/images/03.png)

### 가격 목록

사용자 지정 가격 목록은 특정 제품에 대한 가격 항목을 저장하며 적격 고객에게만 제공됩니다. 이러한 목록은 기본 가격표와 다른 통화를 사용할 수 있으며 카탈로그 제품의 전부 또는 일부만 포함할 수 있습니다. 가격 목록 항목은 적격 고객에 대한 SKU의 기본 가격을 재정의합니다. 또한 [가격 수정자](./using-price-modifiers.md) 을 정의하여 특정 가격 항목을 수정합니다. 자세한 내용은 [가격 목록 만들기](./creating-a-price-list.md) 을 참조하십시오.

   ![사용자 지정 가격 목록을 사용하여 더 많은 대상 가격 항목을 저장하십시오.](./introduction-to-pricing/images/04.png)

### 프로모션 목록

맞춤형 판촉 목록은 특정 제품에 대한 판촉 가격 항목을 저장하며 적격 고객에게만 제공됩니다. 이러한 목록은 기본 가격표와 다른 통화를 사용할 수 있으며 수동으로 선택한 제품만 포함할 수 있습니다. 적용되면 적격 사용자에 대한 SKU의 다른 가격 항목(예: 기본 가격, 계층 가격)을 재정의합니다. 이 목록에서 특정 가격 항목을 수정하기 위해 [가격 수정자](./using-price-modifiers.md) 도 정의합니다. 활성화되어 있는 동안 원래 가격과 프로모션 가격이 제품 페이지에 함께 표시되어 구매자가 가격 인하를 볼 수 있습니다. 자세한 내용은 [판촉 만들기](./promoting-products/creating-a-promotion.md) 을 참조하십시오.

   ![맞춤형 판촉 목록을 사용하여 대상 판촉 가격 항목을 저장하십시오.](./introduction-to-pricing/images/05.png)

```{note}
Liferay DXP 7.4 U42/GA42 이전에는 프로모션 가격을 판매 가격이라고 했습니다.
```

### 가격 등급

가격 계층은 가격 항목 내에서 직접 설정되며 최소 수량 요구 사항을 충족하는 주문에 대해 특정 가격을 정의합니다. 이러한 가격은 할인된 주문 옵션으로 고객에게 표시됩니다. 자세한 내용은 [가격 계층](./using-price-tiers.md) 사용을 참조하십시오.

### 할인

할인은 가격 위에 적용되며 대체하지 않고 수정합니다. 기존 가격 항목 내에서 정의하거나 별도의 엔터티로 생성하여 제품, 제품 그룹, 범주, 배송비, 소계 또는 합계를 대상으로 하는 데 사용할 수 있습니다. 자세한 내용은 [할인 소개](./promoting-products/introduction-to-discounts.md) 을 참조하십시오.

   ![할인 만들기는 가격 위에 적용되며 대체하지 않고 수정합니다.](./introduction-to-pricing/images/06.png)

## 커머스에서 제품 가격을 계산하는 방법

Commerce의 가격 책정 알고리즘은 각 가격 책정 구성 요소가 채널의 SKU 가격에 기여하는 방식을 결정합니다. 알고리즘이 가격 요청을 수신하면 Commerce는 먼저 제품의 *단가* 및 *판촉 가격*을 계산합니다. 그런 다음 이 가격은 채널 고객이 사용할 수 있는</em> 가격을 결정하는 *사용됩니다.
<!--TASK: Consider adding details about net/gross price types and how taxes are calculated-->

</p>

### SKU의 단가 계산

SKU의 단가를 계산할 때 Commerce는 먼저 목록의 적격성에 따라 채널 및 고객에게 적용 가능한 가격 목록을 검색합니다.

* 적용 가능한 가격 목록이 있는 경우 Commerce는 제품 SKU에 대한 가격 항목을 검색합니다.

  * SKU에 대한 항목이 있는 경우 알고리즘은 기존 가격 수정자를 항목에 적용하고 SKU의 단가에 대한 합계를 사용합니다.

  * SKU에 대한 항목이 없는 경우 알고리즘은 기존 가격 수정자를 SKU의 기본 가격 목록 항목에 적용하고 SKU의 단가에 대한 합계를 사용합니다.

* 적용 가능한 가격 목록이 없는 경우 SKU의 기본 가격 목록 항목이 SKU의 단가에 사용됩니다.

```{note}
이 프로세스 중에 Commerce는 적용 가능한 계층 가격도 확인합니다. 존재하는 경우 해당 가격이 특정 수량에 대한 기본 정가 대신 사용됩니다.
```

### SKU의 프로모션 가격 계산

SKU의 단가를 계산한 후 Commerce는 SKU의 판촉 가격을 계산합니다. 이 계산은 두 가지 예외를 제외하고 기본적으로 단가를 계산하는 프로세스와 동일합니다.

* 적용 가능한 판촉 목록에 SKU에 대한 가격 항목이 없는 경우 기존 가격 수정자가 단가에 적용되고 총액이 판촉 가격에 사용됩니다.

* 해당 프로모션 목록이 없고 기본 프로모션 목록이 0으로 설정된 경우 프로모션 가격이 0으로 설정됩니다.

### SKU의 최종 가격 계산

단위 및 판촉 가격이 계산되면 Commerce는 두 가격을 비교하고 둘 중 더 나은 가격을 선택합니다. 그런 다음 가격 책정 알고리즘은 적용 가능한 모든 할인을 검색하여 최상의 SKU 가격에 적용합니다. 합계는 SKU의 최종 가격(고객이 제품을 구매하는 데 사용하는 가격)입니다.

## 커머스에서 주문 가격을 계산하는 방법

주문 가격을 계산할 때 Commerce는 먼저 배송비를 검색하고 배송을 대상으로 하는 모든 할인을 적용합니다.

그런 다음 Commerce는 소계를 결정하기 위해 주문에 포함된 모든 SKU의 최종 가격을 합산합니다. 그런 다음 소계를 대상으로 하는 모든 할인이 적용됩니다.

마지막으로 Commerce는 할인된 배송비와 할인된 소계를 합산하여 주문 총액을 구합니다. 그런 다음 합계를 대상으로 하는 모든 할인이 적용됩니다.

## 가격 책정 엔진 v1.0 참조

| 가격 책정 방식                       | 개요                                       | 기본 가격을 무시합니까? | 어디에 설정되어 있습니까? | 누구에게 적용됩니까?                       |     무엇에 적용됩니까?      |
|:------------------------------ |:---------------------------------------- |:-------------:|:-------------- |:--------------------------------- |:-------------------:|
| 기준 가격                          | 기본 가격                                    |   해당 사항 없음    | 제품 SKU         | 모든 구매자                            |       제품 SKU        |
| 기본 프로모션                        | 할인된 가격                                   |      그렇다      | 제품 SKU         | 모든 구매자                            |       제품 SKU        |
| 정가표(정가, 정가 프로모션)               | 제품 및 구매자별 특별 가격(또는 통화)                   |      그렇다      | 가격 목록          | 선택된 구매자(계정 & 계정 그룹)               |      개별 제품 SKU      |
| 계층화된 가격 목록(계층화된 가격, 계층화된 프로모션) | 제품 및 구매자당 특별 가격(또는 통화) _대량 수량_           |      그렇다      | 가격 목록          | 선택된 구매자(계정 & 계정 그룹)               |      개별 제품 SKU      |
| 할인                             | 제품 또는 구매자 그룹의 가격 수정(수량 제한 및 쿠폰 코드 사용 가능) |      부정       | 할인             | 선정된 바이어 (계정 & 계정 그룹 또는 일정 자격 충족자) | 제품 그룹(또는 개별 제품 SKU) |

```{note}
Commerce Pricing Engine v1.0에서 가격 항목에는 SKU, 표준 가격 및 판촉 가격의 세 가지 구성 요소가 포함됩니다. v2.0에서 각각은 별도의 엔터티입니다.
```

![가격 계층 다이어그램](./introduction-to-pricing/images/01.png)

## Commerce 2.1.x에서 Pricing Engine v2.0 활성화

기본적으로 Commerce 2.1.x 및 이전 버전은 Commerce Pricing Engine v1.0을 사용합니다. Commerce Pricing Engine v2.0을 활성화하려면 다음 단계를 따르십시오.

1. 제어판을 열고 *시스템 설정* &rarr; *상거래* &rarr; *가격 책정*로 이동합니다.

1. 왼쪽 패널에서 *Commerce Pricing Configuration* 을 클릭합니다.

1. *Pricing Calculation Key* 필드에서 `v1.0` 을 `v2.0` 으로 바꿉니다.

1. *저장*을 클릭합니다.

Liferay 인스턴스의 모든 가격 계산에 Pricing Engine v2.0을 사용하도록 Commerce가 업데이트되었습니다.

## 추가 정보

* [제품의 기본 가격 설정](./setting-a-products-base-price.md)
* [가격표 생성](./creating-a-price-list.md)
* [가격 목록에 제품 추가](./adding-products-to-a-price-list.md)
* [가격 계층 사용](./adding-products-to-a-price-list.md)
* [할인 만들기](./promoting-products/creating-a-discount.md)
