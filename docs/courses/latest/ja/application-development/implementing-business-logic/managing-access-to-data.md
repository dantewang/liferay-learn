# データへのアクセス管理

Delectable Bonsaiは、すべての正規ユーザーがディストリビューター申請を行えるようにしたいと考えています。 また、限られた従業員が提出されたすべての申請書を閲覧し、評価に記入できるようにしたいとも考えている。 ここでは、「ユーザー」ロールに基本的な「ディストリビューター申請」権限を割り当て、申請書のレビューを担当する内部ロールを作成します。

## ユーザーによるディストリビューター申請

1. **グローバルメニュー**（![Global Menu](../../images/icon-applications-menu.png)）を開き、 ［**コントロールパネル**］ タブに移動して、 ［**ロール**］ をクリックします。

1. **User** ロールを編集します。

1. **Define Permissions** タブに行き、これらのパーミッションを追加する：

   | 権限                                                    |
   |:----------------------------------------------------- |
   | ディストリビューターアプリケーション見る                                  |
   | ディストリビューター・アプリケーション > ディストリビューター・アプリケーション：削除          |
   | ディストリビューター募集 > ディストリビューター募集：更新                        |
   | ディストリビューターアプリケーション > ディストリビューターアプリケーションオブジェクトエントリーの追加 |

   ![これらの権限をUserロールに追加してください。](./managing-access-to-data/images/01.png)

1. ［**Save**］ をクリックします。

1. Userロールに必要な権限があることを確認します。

   ![Userロールに必要な権限があることを確認します。](./managing-access-to-data/images/02.png)

## ディストリビューター申請を審査するロールの作成

1. **グローバルメニュー**（![Global Menu](../../images/icon-applications-menu.png)）を開き、 ［**コントロールパネル**］ タブに移動して、 ［**ロール**］ をクリックします。

1. **追加**（![Add Button](../../images/icon-add.png)） をクリックします。

1. これらの詳細を入力し、 **Save** をクリックします：

   | 項目   | 値                                                                                                                                                                       |
   |:---- |:----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | タイプ  | 標準                                                                                                                                                                      |
   | タイトル | ビジネス開発スペシャリスト                                                                                                                                                           |
   | 説明   | 事業開発スペシャリストは、Delectable Bonsaiの成長機会を特定し、評価する役割を担っています。 この仕事には、ディストリビューターの申請書を評価し、評価書に記入し、申請者が当社の目標に合致し、Delectable Bonsaiの市場浸透目標を促進するための流通能力を有しているかどうかに基づいて推薦することが含まれます。 |
   | キー   | ビジネス開発スペシャリスト                                                                                                                                                           |

   ![ビジネス開発スペシャリストの役割を作る。](./managing-access-to-data/images/03.png)

1. **Define Permissions** タブに行き、これらの権限を追加し、 **Save** をクリックする：

   * ディストリビューター

      | 権限                                |
      |:--------------------------------- |
      | ディストリビューターアプリケーションコントロールパネルへのアクセス |
      | ディストリビューターアプリケーション見る              |
      | ディストリビューター募集 > ディストリビューター募集：更新    |
      | ディストリビューター募集 > ディストリビューター募集：見る    |

   * アプリケーション評価

      | 権限                                     |
      |:-------------------------------------- |
      | アプリケーションの評価コントロールパネルからのアクセス            |
      | アプリケーションの評価見る                          |
      | アプリケーション評価 > アプリケーション評価：ディスカッションの追加    |
      | アプリケーション評価 > アプリケーション評価：削除             |
      | アプリケーション評価 > アプリケーション評価：ディスカッションの削除    |
      | アプリケーション評価 > アプリケーション評価：更新             |
      | アプリケーション評価 > アプリケーション評価：更新ディスカッション     |
      | アプリケーション評価 > アプリケーション評価：見る             |
      | アプリケーション評価 > アプリケーション評価：オブジェクトエントリーの追加 |

   Liferay は自動的に Portal：View Control Panel Menuパーミッションを割り当てます。

   ![ディストリビューター・アプリケーションおよびアプリケーション評価オブジェクトの権限を割り当てます。](./managing-access-to-data/images/04.png)

1. このプロセスを繰り返して2つ目のロールを作成し、同じ権限を割り当てます：

   | 項目   | 値                                                     |
   |:---- |:----------------------------------------------------- |
   | 種類   | 標準                                                    |
   | タイトル | 事業開発マネージャー                                            |
   | 説明   | ビジネス・ディベロップメント・マネージャーは、ディストリビューター申請書の最終審査と承認に責任を負います。 |
   | キー   | 事業開発マネージャー                                            |

1. テスト目的で、 **Assignees** タブに移動し、このロールをデフォルトの `test@liferay.com` パワー・ユーザーに割り当てます。

   ![デフォルトの test@liferay.com パワーユーザーにビジネス開発マネージャーの役割を割り当てます。](./managing-access-to-data/images/05.png)

Delectable Bonsaiは、ビジネス開発チームのメンバーにこれらのロールを割り当てることができ、彼らは提出されたアプリケーションを表示し、評価を作成し、アプリケーションを承認または拒否することができます。

![あなたには2つの役割があるはずです：事業開発スペシャリストと事業開発マネージャーだ。](./managing-access-to-data/images/06.png)

今、Delectable Bonsaiは、審査過程における各申請の状態を追跡したいと考えている。

次へ [ステート・フィールドの定義](./defining-a-state-field.md)

## 関連コンセプト

* [権限設定フレームワークの統合](https://learn.liferay.com/w/dxp/building-applications/objects/understanding-object-integrations/permissions-framework-integration)
