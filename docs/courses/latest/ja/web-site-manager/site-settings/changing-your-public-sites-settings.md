# 公開サイトの設定変更

公開Clarityサイトに最初の変更を加えたので、サイト固有の設定を変更する準備ができました。

インスタンス設定の変更が完了したので、カイルは残りの変更を自分で行う必要はない。 作業を始める前に一度ログアウトし、公開サイト管理者であるPreston Palmerとしてログインし直してください。

## サイトの説明を追加する

今、クラリティのサイトには、パブリック・マーケットプレイスとしての目的に見合った説明が必要だ。

1. クラリティのサイトへ戻る

   `localhost:8080/web/guest` にアクセスすると、セルフホスト・インスタンスのデフォルト・サイトにリダイレクトされる。

1. サイト・メニューで、 **構成** &rarr; **サイト設定** をクリックする。

1. サイト設定ページで、 **サイト設定** をクリックします。

   ![サイトの一般設定にアクセスするには、 [サイト設定]をクリックします。](./changing-your-public-sites-settings/images/01.png)

1. **説明** フィールドに記入してください："クラリティで理想のメガネを見つけよう！"

1. ［**保存**］ をクリックします。

## サイト・メンバーシップの設定を調べる

この画面の下部には、サイト・メンバーシップに関する2つのコントロールがあります：

**Membership Type** : あなたのサイトでのメンバーシップの仕組みを定義します。 ユーザーがサイトに参加できる (**オープン**)、サイトは見えるがユーザーが参加をリクエストしなければならない (**制限付き**)、またはユーザーが特別にサイトに招待されなければならず、それ以外は見ることができない (**プライベート**)。

**Allow Manual Membership Management** : ユーザーをサイトに手動で追加または削除できるかどうかを選択します。

後でプライベート・イントラネットやエクストラネットのサイトを作るときには、もっと制限の多い会員タイプが適切だろう。

このサイトでは、どんなユーザーでもアカウント登録ができるように、デフォルトのオプションのままにしておきます。

## 役割によるメニューアクセスの制限

次に、サイトの主要メニューへのアクセスを制限します。 コントロールメニュー（画面上部のメニューバー）を無効にすると、左側のサイトメニューにもアクセスできなくなります。

デフォルトでは、あなたのサイトに参加する新しいメンバーは、これらのパーミッションを持つ [ロールを持っていないため、これらのメニューにアクセスすることはできません](https://learn.liferay.com/web/guest/w/dxp/users-and-permissions/roles-and-permissions/understanding-roles-and-permissions) 。 ただし、公開Clarityサイトはこの設定を使用して、メニューへのアクセスを許可するロールを慎重に選択する必要があります。

1. サイト構成ページで、サイト・スコープの下にある **メニュー・アクセス** をクリックします。

1. **Show Control Menu by Role** のチェックボックスをクリックします。

   ![コントロールメニューへのアクセスを制限することで、コントロールメニューとサイトメニューへのアクセスを許可するロールを特別に選択することができます。](./changing-your-public-sites-settings/images/02.png)

1. ［**Save**］ をクリックします。

これにより、サイト上で特別に選択されたロールを持つユーザー（デフォルトでは、グローバル管理者またはサイト管理者のみ）だけが、これらの重要なメニューを見ることができるようになります。 今のところ、新しいロールは追加しないでください。

## サイトURLの変更

フレンドリーURLとは、URLのスラッシュ（`/`）の後の部分で、特定のサイトへ誘導するものです。 クラリティサイトのフレンドリーURLをより適切なものに設定します。

1. Site Configuration（サイト構成）ページで、Site Scope（サイト・スコープ）の下にある **Site URL** 。

1. **Friendly URL** フィールドで、デフォルト値 (`/guest`) を新しい値に置き換える： `/p`。

1. ［**保存**］ をクリックします。

これで、 `/p` が公開サイトのURLに付加され、 [以前のインスタンス設定変更](./changing-the-default-sites-name-and-logo.md#change-other-important-instance-settings) のおかげで、ホームページが正しくリダイレクトされるようになった。

## クッキーの設定を調べる

次に、ユーザーがサイトのクッキーを受け入れるか拒否するかの設定を調べます。

1. ページ上部の **戻る** ボタンをクリックすると、サイト設定メニューに戻ります。

1. **クッキー** をクリックする。

   ![特定のオプションのクッキーとその説明の設定にアクセスするには、クッキーをクリックします。](./changing-your-public-sites-settings/images/03.png)

ここでは、上部のチェックボックスがバナーと同意パネルを有効にし、ユーザーが明示的クッキー同意モードでオプトインするクッキーをよりコントロールできるようにしています。

バナーは、ユーザーがサイトのクッキーを受け入れていない場合に通知し、なぜクッキーが必要なのかを説明します。オプションで、 **Decline All** 。 同意パネルは、ユーザーがどの種類のクッキーをオプトインするかを確認し、選択するのに役立ちます。

クラリティのサイトでは、バナーと同意パネルを適切に設定するために、会社のプライバシーポリシーを説明したウェブページが必要になります。 今のところ、このオプションはオフのままにしておく。

## アクセシビリティ・メニューを有効にする

クラリティ・サイトのアクセシビリティ・メニューを有効にすることで、ユーザーはサイトの動作を微調整して、アクセスしやすく、読みやすくすることができます。

1. サイト設定メニューに戻るには、ページ上部の「戻る」ボタンをクリックしてください。

1. **アクセシビリティ** をクリックする。

   ![アクセシビリティをクリックして、アクセシビリティメニューを有効にします。](./changing-your-public-sites-settings/images/04.png)

1. **Enable Accessibility Menu** チェックボックスをオンにします。

1. ［**Save**］ をクリックします。

このオプションを有効にすると、サイトのページを表示しているユーザーは、タブキーを使用して、 「**アクセシビリティ・メニューを開く**」 ボタンを表示できます。 このボタンをクリックすると、アクセシビリティ・オプションのポップアップ・モーダルが表示されます。

![アクセシビリティ・メニューには、すべてのリンクに下線を引くなど、サイトの動作をニーズに合わせて改善するためのさまざまなオプションが用意されています。](./changing-your-public-sites-settings/images/05.png)

　 公開ウェブサイトの設定に関するこのモジュールは完了しました。

次に、 [サイトのページ作成に取り掛かろう](../creating-pages.md)。

## 関連コンセプト

* [DXPのナビゲート](https://learn.liferay.com/web/guest/w/dxp/getting-started/navigating-dxp)
* [サイト設定リファレンス](https://learn.liferay.com/web/guest/w/dxp/site-building/site-settings/site-settings-ui-reference)
* [ロールと権限について](https://learn.liferay.com/web/guest/w/dxp/users-and-permissions/roles-and-permissions/understanding-roles-and-permissions)
