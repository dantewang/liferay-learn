# Liferay オブジェクトの作成

**概要**

* 高レベルのLiferayデモには、基本的な機能を紹介するビルド済みのObjectのデモを含める必要があります。
* このセクションでは、ゼロからオブジェクトを作成する方法について詳しく説明します。
  * オブジェクトに関するより詳細な学習機会を提供
  * プロスペクトとのより詳細な技術デモのためのフレームワークを提供する。

## Liferay オブジェクトについて学ぶ

Liferay Objects はデータのコンテナと考えることができます。 様々なソースからデータを保存し、取り出すために使用することができる。 オブジェクトは高度に設定可能で、ユーザーはアプリケーションの特定のニーズを満たすために、カスタムフィールド、リレーションシップ、メソッドを定義することができます。

## オブジェクトの作成

![新しいオブジェクトの作成を開始するには、Label（ラベル）、Plural Label（複数形のラベル）、Object Name（オブジェクト名）を定義します。](./creating-objects/images/01.png)

オブジェクトを作成する最初のステップは、ドラフト・オブジェクトである。 オブジェクトドラフトは、オブジェクトアプリケーションを作成するために必要なデータを格納するアプリケーションテンプレートです。 次の手順に従って、オブジェクトドラフトを作成します。

1. グローバルメニューを開き、 **コントロールパネル** タブを開き、 **オブジェクト** をクリックします。
2. **Add** ボタンをクリックする。
3. これらの詳細をオブジェクトドラフトに記入してください。
    1. ［**Label**］ ：オブジェクト管理およびサポートされているアプリケーションコンテキスト（ワークフロー、表示ページテンプレート、フォームなど）でオブジェクトを識別します。
    2. ［**Plural Label**］ ：UIでのオブジェクトアプリケーションの表示名を決定します。
    3. **オブジェクト名** : オブジェクトの定義名を決定し、オブジェクトが公開されると変更できません。
4. **Save** をクリックする。

保存されると、設定やデータ要素のない空白のオブジェクトドラフトが作成されます。 オブジェクト・ドラフトは、オブジェクト管理UIでシステム・オブジェクトと一緒に見ることができる。 作成プロセスを終了するには、オブジェクトドラフトを [](https://learn.liferay.com/w/dxp/building-applications/objects/creating-and-managing-objects/creating-objects?p **l** back **url=%2Fsearch%3Fq%3DObjects&highlight=Objects#editing-object-drafts) に編集し、 [](https://learn.liferay.com/w/dxp/building-applications/objects/creating-and-managing-objects/creating-objects?p** l **back** url=%2Fsearch%3Fq%3DObjects&highlight=Objects#publishing-object-drafts) を Liferay インスタンスに公開する必要があります。

## オブジェクトの編集と公開

![オブジェクトの編集には、詳細、フィールド、リレーションシップ、レイアウト、アクション、ビュー、バリデーション、ステートマネージャのタブがあります。](./creating-objects/images/02.png)

オブジェクトをパブリッシュする前に、要素を追加し、その設定を構成する必要があります。 これには、フィールドの追加、バリデーションの定義、データ範囲の設定などが含まれます。

オブジェクトドラフトを編集するには、次の手順に従います。

1. オブジェクト管理ページから、新しく作成したオブジェクトのドラフトをクリックして、編集を開始します。 オブジェクトの機能と設定オプションは、［Details］、［Fields］、［Relationships］、［Layouts］、［Actions］、［Views］、［Validations］、［State Manager］のタブにまとめられています。
1. カスタムフィールドを追加するには、 **Fields** タブをクリックします。 各フィールドは、特定のタイプの値を格納するためのデータベースカラムを表します。 [オブジェクトへのフィールドの追加](https://learn.liferay.com/w/dxp/building-applications/objects/creating-and-managing-objects/fields/adding-fields-to-objects)を参照。 デフォルトでは、すべてのオブジェクトに次のシステムフィールド、［Author］、［Create Date］、［External Reference Code］、［ID］、［Modified Date］および［Status］が含まれます。
1. オブジェクト・スコープを「会社」にする。 オブジェクトは、オブジェクトのデータがどのように保存されるかを決定する。
    * **Company**（デフォルト）：Company によってスコープされた場合、オブジェクトのデータは Liferay インスタンスごとに保存されます。
    * **Site** : Site によってスコープされた場合、オブジェクトのデータは Site ごとに保存されます。
1. オブジェクトのページ・ウィジェットを表示する。 有効になっている間、オブジェクトのウィジェットをサイトページに追加できます。 [サイトにおけるオブジェクト・ウィジェットの展開](https://learn.liferay.com/w/dxp/building-applications/objects/deploying-object-widgets-to-sites)を参照。
1. ［Save］をクリックします。

設定と編集が終わると、オブジェクトは [](https://learn.liferay.com/w/dxp/building-applications/objects/creating-and-managing-objects/creating-objects)にパブリッシュできる。

Liferayは、Liferay UIや開発者がすぐに使用できるObjectの要素を大量に作成しているからです。 公開プロセスには、次の操作が含まれます。

* データベース・テーブルが、ドラフトのデータ定義とともにオブジェクト用に作成される。
* CRUD操作用に新しいヘッドレスAPIが自動的に作成されます。
* オブジェクトのエントリーを表示するためのコレクション・プロバイダが作成される。
* オブジェクトに対してページウィジェットが作成されます。
* オブジェクトはInfoフレームワークと統合されているため、表示ページテンプレートのコンテンツタイプとしてオブジェクトを選択できます。
* このオブジェクトはPermissionsフレームワークと統合されているので、新しいアプリケーションとそのリソースのパーミッションを管理することができます。
* オブジェクトはワークフローフレームワークと統合されているため、オブジェクトのカスタムワークフローを構成できます。
* オブジェクトはフォームと統合されているため、データストレージオプションとしてオブジェクトを選択できます。

オブジェクト機能がなければ、これらのステップをすべてコードを書いて実行しなければならないからだ。 作成された要素により、ユーザーはオブジェクトを表示したり、オブジェクトにエントリを追加したり、それらのエントリをコレクション表示にリスト表示したり、個々のオブジェクトエントリを表示ページに表示したりすることができます。

## オブジェクトのUIを作成する

![オブジェクトがパブリッシュされると、ウィジェットと全く同じように、どのページにもデプロイすることができます。](./creating-objects/images/03.png)

ビジネスアプリケーションのデータモデルが定義されたら、次のステップはLiferayのウィジェットフレームワークを使ってユーザーインターフェースを作成することです。 これには、アプリケーションのデータの表示と管理に使われるウィジェットの定義と、実装に必要なカスタム・ユーザー・インターフェイス・コンポーネントの定義が含まれる。

**ページへのウィジェットの追加**

* 公開オブジェクトで[ウィジェットを表示]が有効になっている場合、そのウィジェットはウィジェットメニューの[オブジェクト]の下に表示されます。
* このウィジェットは、他のページ・ウィジェットと同様に、サイト・ページに追加することができます。
* ウィジェットの[オプション]ボタンをクリックして、追加機能と設定オプションにアクセスします。

LiferayオブジェクトはFormsアプリケーションと統合されているので、ユーザー入力を受け取ってオブジェクトエントリを作成するためのフォームを設計することができます。 これを行うには、まず新しいフォームを追加し、オブジェクトのストレージタイプを使用するように設定します。 次に、必要なオブジェクトを選択し、フォームをデザインし、そのフィールドを選択したオブジェクトのフィールドにマッピングします。 \

詳しくは [Using Forms with Objects](https://learn.liferay.com/w/dxp/building-applications/objects/using-forms-with-objects#using-forms-with-objects) を参照してください。

## ヘッドレス・オブジェクト

![オブジェクト用のヘッドレスAPIは自動的に作成され、API Explorerを使ってブラウズできます。](./creating-objects/images/04.png)

```{note}
ヘッドレスAPIについての議論は、聴衆が適切な、そして主に技術的な性質のものである場合にのみ、デモに含めるのがベストである。 Objectsの主な利点は、開発の必要なくビジネス・アプリケーションを構築できることだ。 ヘッドレスAPIについて主にビジネスの聴衆と議論することは、混乱を引き起こし、このメッセージを希薄にする可能性がある。
```

技術系の聴衆には、さらに以下のような話題も提供する：

* ヘッドレスAPIはカスタムオブジェクト用に自動的に作成されます。
* 新しいAPIは、Liferayインスタンスの/o/api URLを使って調べることができます。
* ヘッドレスAPIの一般的な使用例は、オブジェクト用のカスタムJavaScriptクライアント拡張UIを開発することです。
* ヘッドレスAPIは、外部システムとオブジェクトの統合を可能にするために使用することもできる。

LiferayのヘッドレスAPI全般についての詳細は [Consuming REST Services](https://learn.liferay.com/w/dxp/headless-delivery/consuming-apis/consuming-rest-services#consuming-rest-services)を参照してください。

## 高度な機能

![State ManagerはLiferay Objectsのワークフローを定義する方法を提供します。](./creating-objects/images/05.png)

上記で説明した追加学習や、より深く掘り下げた可能性のあるデモのステップでも、Objectsで実現できることの表面はかすった程度だ。 デモ用のオブジェクトを作成するのに十分な情報が含まれている。

あらかじめ用意されたデモに、見込み客が共感できるものを加えれば、デモはより魅力的なものになり、成功の可能性が高まる！

しかし、Objectsには、高度なビジネス・アプリケーションに使用できる多くの機能が含まれている：

* 他のカスタム・オブジェクト、システム・オブジェクト（ユーザー、アカウントなど）、さらにはオブジェクト自体との1対多、多対多のリレーションシップを追加することができます。 例えば、同じテーブル内の "関連する "オブジェクト・エントリーを表示するリレーションシップを作成することができる。
* レイアウトを簡単に定義して、オブジェクトエントリーの表示方法をコントロールすることができます。
* アクションによって、オブジェクトをユーザーに割り当てたり、オブジェクトに関する通知を送信したりすることができます。
* 正しい情報がキャプチャされていることを確認するために、バリデーションを定義することができる。
* ステート・マネージャーは、オブジェクトが完全なビジネス・プロセスを通じてどのように進行するかを制御するワークフローを構築するために使用することができます。

ユーザーがオブジェクト・エントリーを作成するための優れたユーザー・インターフェースは、フォーム統合、フォーム・コンテナー、フォーム・フラグメントなどで構築できる。

また、前述したように、自動生成されたヘッドレスAPIを使用して、クライアント拡張機能として完全にカスタムなUIを構築することもできる。

## 概要

Liferayのデモの効果を最大化し、プラットフォームで提供されるLow-Code/No-Code機能を紹介する機会を提供するために、必ずLiferay Objectsのデモを含めてください。

Liferay Objectsが提供する：

* カスタムアプリケーションを作成するための、素早く簡単でコード不要なアプローチ。
* 以下を含む包括的な能力：
  * データモデルの定義
  * ユーザーインターフェースの作成
  * 自動生成API
  * クライアント拡張機能による消費
  * 外部システムとの統合
* データ管理への標準的なモジュール式アプローチ - より優れたアプリケーションを迅速に構築。

このラーニングパスは、事前に構築されたデモを使用することを目的としていますが、Objectsは、そのデモに機能を追加するための迅速かつ簡単な（コードなしの！）方法を提供します。 完全なアプリケーションとしてではなく、自分たちの特定のニーズに合わせてプラットフォームをいかに迅速に拡張できるかを示すために、見込み客が持っている要件に沿ったものを作ることを目指そう。

ここに記載されている内容と Objects ドキュメントのリファレンスを参考にして、Object を使用したビジネス アプリケーションの構築を開始する方法を学んでください。

おめでとうございます-これでこのモジュールは終わりです。 次のモジュールは、 [Liferay](../extending-liferay.md)を拡張するために存在する機会を高いレベルでカバーします。
