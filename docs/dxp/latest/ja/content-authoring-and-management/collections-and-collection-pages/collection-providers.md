---
---
# コレクションプロバイダー

コレクションプロバイダは、ページに表示するアイテムをコレクションにグループ化します。 また、情報フレームワークを使ってアイテムを必要なコレクションにグループ化することもできます。

```{note}
items_という用語は、商品やカテゴリーなどのコンテンツ以上のものを指すことができ、それらは現在のサイトやLiferayインスタンスの外に配置することができます。
```

## デフォルト・コレクション・プロバイダー

以下のコレクション・プロバイダは、すぐに利用可能で、同じ名前のウィジェットと同じように機能します：

* 最も閲覧されたアセット：現在のサイトで最も閲覧されたアセットを多いものから順に表示します。
* 格付けの高い資産：格付けの高い資産から低い資産へと表示されます。
* 最近のコンテンツ：最近更新されたアセットを最新のものから順に表示します。

![コレクション表示フラグメントを設定する際、Most Viewed Assets、Highest Rated Assets、Recent Contentなどのコレクションプロバイダを選択できます。](./collection-providers/images/01.png)

いくつかのコレクションプロバイダは、Liferayのアプリケーションによって自動的に作成されます。 例:

* オブジェクトがパブリッシュされると、Liferayはそのオブジェクトのコレクションプロバイダを作成します。 詳細は、 [Using Collection Provider for Objects](../../building-applications/objects/displaying-object-entries.md#using-the-collection-provider-for-objects) を参照してください。
* [Liferay DXP] 検索ブループリントが公開されると、Liferayはそのためのコレクションプロバイダを作成します。 詳細については、検索ブループリントを使用した [コレクション](../../using-search/liferay-enterprise-search/search-experiences/search-blueprints/collections-with-search-blueprints.md) を参照してください。

## 関連項目コレクションプロバイダー

関連アイテムコレクションプロバイダは、表示されているメインアイテムに関連するアイテムのリストを表示します。 これらのコレクション・プロバイダーには2つの方法でアクセスできる：

1. コレクション表示フラグメントを表示ページに追加する。

1. コンテンツページのコレクション表示フラグメントの中にコレクションを入れ子にする。

![コレクション表示フラグメントを構成するとき、Related Items コレクションプロバイダを選択できます。](./collection-providers/images/02.png)

**Related Assets:** 表示されているメインアイテムに関連するアイテムを表示します。

**このアイテムのカテゴリー:** 現在のアイテムまたはアセットのカテゴリーを表示します。

**同じ語彙のカテゴリーを持つアイテム:** は、表示中のメインアセットと同じ語彙のアイテムを表示します。 例えば、メインアセットに *football*というカテゴリがあり、 *football* が *sports* vocabulary の一部である場合、 *sports* vocabulary の下にある他のすべてのカテゴリが表示されます。

**同じカテゴリのアイテム:** は、表示中のメインアイテムと同じカテゴリのアイテムを表示します。 例えば、メインアイテムに *football*というカテゴリーがある場合、同じカテゴリーのアイテムが表示される。 *詳細ルール*の下にある _同じ語彙の任意のカテゴリー_ または _特定のカテゴリー_ を選択することで、結果をさらに絞り込むことができます。

![同じカテゴリを持つアイテムでは、アイテムの種類を選択する必要があります。](./collection-providers/images/04.png)

**リレーションシップのあるオブジェクト:** (オブジェクトを表示している時)表示中のオブジェクトとリレーションシップのある他のオブジェクトを表示します。 メイン・オブジェクトが持つすべてのリレーションシップに対して、新しい関連項目コレクション・プロバイダが表示されます。 例えば、メインオブジェクトが *country* で、 [one-to-many relationship](../../building-applications/objects/creating-and-managing-objects/relationships/defining-object-relationships.md) with a *city* object (with many cities mapped to one country)の場合、その国エントリーに関連するすべてのcityオブジェクトエントリーが表示されます。

### 同じカテゴリーを持つアイテムの高度なルール

表示された項目は、その種類に基づいてフィルタリングしながら、さらに絞り込むことができます。

![同じカテゴリのアイテムを持つプロバイダを設定する場合、ドロップダウンから高度なルールを選択できます。](./collection-providers/images/03.png)

**Any Category of Same Vocabulary:** メインアセットと同じ語彙のカテゴリーを持つすべてのアイテムを表示します。 たとえば、メインアセットに *football* というカテゴリがある場合、 *sports* という語彙に含まれる他のすべてのアイテムが表示されます。

**A Specific Category:** リストをさらに絞り込むための追加カテゴリーからの結果を表示します。 たとえば、 *速報*という追加のカテゴリーを追加して、 *サッカー* と *速報*というカテゴリーのアセットを表示することができます。

```{tip}
デフォルトでは、親カテゴリーを選択すると、自動的にその子カテゴリーが選択されます。 これはコントロールパネルの*インスタンス設定*で変更できます。
```
