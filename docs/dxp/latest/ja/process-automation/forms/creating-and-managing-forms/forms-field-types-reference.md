# フォーム項目タイプのリファレンス

Liferayフォームアプリケーションには、フォームに追加する多くの項目タイプと要素が含まれています。 利用可能な要素を発見するために

1. _プロダクトメニュー_（![Product Menu](../../../images/icon-product-menu.png)）を開き、サイト管理メニューのコンパスアイコン（![Compass](../../../images/icon-compass.png)）をクリックします。 フォームを作成するサイトを選択します。
1. _［コンテンツ & データ］_ &rarr; _ ［Form］_をクリックします。
1. _追加_ボタン（![Add](../../../images/icon-add.png)）をクリックします。 フォームビルダービューが表示されます。
1. _追加_ボタン（![Add](../../../images/icon-add.png)）をもう一度クリックして、_［要素を追加］_サイドバーを表示します（まだ開いていない場合）。

![多くの便利なフォーム要素があります。](./forms-field-types-reference/images/01.png)

```{note}
**フォームフィールドのグループ化と反復性：**フォームフィールドは、フォーム全体で使用するためにグループ化することができます（[要素セット](./reusing-sets-of-form-elements.md)を使用）またはフォーム内のフィールドグループに作成することができます。 フィールドを他のフィールドの上にドロップして、フィールドグループを作成します。 さらに、各フィールドの設定で_repeatable_をマークすることで、フォームのエンドユーザーがそのフィールドをフォーム内に複製することができます。 
```

## フィールド設定の概要

フォームビルダーで新しいフィールドを追加したり、既存のフィールドをクリックすると、フィールド設定エディタのサイドバーが表示されます。 使用できる設定オプションは、項目タイプによって異なります。

すべてのフォームフィールドには、ベーシックとアドバンスの少なくとも2つの設定タイプがあります。 多くのフォームは、基本的な設定だけで [](../creating-and-managing-forms/creating-forms.md) 、以下のようなものが作成可能です。

- label
- [プレースホルダテキスト](../creating-and-managing-forms/providing-help-text-and-predefined-values.md)
- ひっす
- [ヘルプテキスト](../creating-and-managing-forms/providing-help-text-and-predefined-values.md)

また、分野別の基本構成も追加されています。

![［リストから選択］フィールドには、いくつかの基本設定があります。](./forms-field-types-reference/images/15.png)

アドバンスト・コンフィギュレーションは以下の通りです。
- [事前定義値](../creating-and-managing-forms/providing-help-text-and-predefined-values.md)
- サーチコンフィギュレーション
- そのフィールドが繰り返し使用可能かどうか
- システム／プログラム・フィールド・リファレンス
- フィールドの確認
- フィールドが非表示であるかどうか

さらに分野別の詳細設定もあります。

![テキストフィールドにはいくつかの詳細設定があります。](./forms-field-types-reference/images/14.png)

### 非表示のフィールド

時には、外部ソース（ [REST データプロバイダ](../data-providers/using-the-rest-data-provider-to-populate-form-options.md)など）からの情報を、 [フォームルール](../form-rules/form-rules-overview.md)をトリガするためにのみ使用されるフォームフィールドに渡すことが有用です。 この場合、フィールドの非表示設定（Liferay 7.4の新機能）を使用します。

### フィールド確認

フィールド確認は、バージョン7.4以降のLiferayフォームでサポートされています。 確認フィールドは、フォームビルダーでフォーム本体に直接追加するフィールドではなく、1行のテキストまたは数値フィールドを _［確認が必要］_ に設定した場合にのみフォームに表示されます（フィールドの詳細設定セクションを使用）。 このフィールドでは、重要なデータを持つフィールドが正しく入力されるようにします（例えば、メールアドレスのフィールドなど）。

![確認フィールドは、ユーザーが正しい情報を入力していることを確認するのに役立ちます。](./forms-field-types-reference/images/21.png)

確認フィールドを有効にすると、新しい設定オプションが表示されます。

**方向：** 垂直（デフォルト）または水平を選択して、確認フィールドを元のフィールドの下に表示するか、横に表示するかを決定します。

**ラベル：** 元のフィールドラベルのプレフィックスを選択します。 デフォルト値はConfirmなので、Email Addressというフィールドの確認フィールドのラベルは、 _Confirm Email Address_となります。

**エラーメッセージ：** 確認するフィールドに応じて、より具体的なエラーメッセージを提供することができます。

![確認フィールドは構成可能です。](./forms-field-types-reference/images/22.png)

ユーザーが有効な形式で情報を入力できるようにするための情報は、 [テキストおよび数値フィールドエントリの検証](validating-text-and-numeric-field-entries.md) を参照してください。

### フィールド名、フィールドID、およびフィールドの参照

Liferay 7.3の最初のリリースでは、編集可能な構成のフィールド名が削除され、読み取り専用のフィールド IDが各フィールドの［アドバンス］タブに含まれるようになりました。 しかし、Liferay 7.3では、編集可能な代替品であるフィールド参照が利用できるようになりました。 プログラムでフィールドを参照する場合は、7.2のフィールド名の値と7.3以降のフィールド参照を使用します。

![フィールド参照の設定では、フォームビルダーがフィールドの人間が読めるシステム名を設定することができます。](./forms-field-types-reference/images/20.png)

## フォームのフィールドと要素

### パラグラフ

パラグラフフィールドは、フォーム作成者が入力した静的なテキストをフォーム上に表示します。 ユーザーは説明文フィールドにデータを入力しません。 これは、指示が長い場合に役立ちます。

![段落フィールドを使用して、フォーマットされたテキストのより長いブロックを提供できます。](./forms-field-types-reference/images/18.png)

説明文フィールドは単なるプレーンテキストではありません。 埋め込み式のコンテンツエディターを使って、リッチコンテンツを作成します。

![コンテンツエディタを使用して、段落フィールドにリッチコンテンツを作成します。](./forms-field-types-reference/images/19.png)

### テキスト項目

ユーザーはこれらのフィールドに自由形式のテキストを入力します。 たとえば、氏名フィールドはテキストフィールドです。 デフォルトでは、テキストフィールドはすべての入力を1行のテキストに保持します。 より長い応答に対応するには、[この例のように](./creating-forms.md)テキストフィールドを構成するときに複数行設定を選択します。 テキストフィールドの[検証オプション](./validating-text-and-numeric-field-entries.md)を使用して、ユーザーが入力できるテキスト（1〜10の数字、電子メールアドレスなど）を制限できます。

![複数行のテキストフィールドでは、ユーザーが複数の行を入力することができます。](./forms-field-types-reference/images/03.png)

### プルダウン

ユーザーは、選択肢のリストから1つ（または許可されている場合は複数）のオプションを選択します。 選択肢は手動で入力するか、[データプロバイダー](../data-providers/data-providers-overview.md)によって自動的に入力されます。 たとえば、居住国フィールドは、Countries of the Worldデータプロバイダーによって入力されたリストフィールドから選択できます。

![フォームの選択リストフィールドには、選択するオプションのドロップダウンリストがユーザーに表示されます。 ](./forms-field-types-reference/images/04.png)

### ラジオボタン

ユーザーは、ラジオボタンを使用して、フォームに表示されたオプションのリストから1つのオプションを選択します。

![単一選択フィールドは、ユーザーに複数の選択肢を表示し、その中から1つだけを選択できるようになっています。](./forms-field-types-reference/images/05.png)

### ブール値

ユーザーは、チェックボックスやスイッチを有効にしたり無効にしたりして、表示されたテキストに対する `true` または `false` の応答を記録します。

![ブールフィールドはユーザーに単一のオプションを表示し、ユーザーが応答でtrueまたはfalseを選択できるようにします。](./forms-field-types-reference/images/17.png)

### 日付

ユーザーは日付ピッカーを使用して日付を選択します。

![日付ピッカーは、日付を選択するための便利な方法を提供します。](./forms-field-types-reference/images/06.png)

Liferay 7.4では、日付フィールドの詳細設定に入力値の検証が含まれています。 [フィールドの詳細設定の検証オプション](./validating-text-and-numeric-field-entries.md)を使用して、ユーザーが入力できる日付（1〜10の数字、電子メールアドレスなど）を制限できます。

![日付フィールドの検証ルールを入力します。](./forms-field-types-reference/images/26.png)

### 日時

Liferay 7.4で追加された、ユーザーが日付と時刻の両方を1つのフィールドに入力する機能です。

![日時フィールドは、有効な日付と時間帯を組み合わせたものです。](./forms-field-types-reference/images/28.png)

日時フィールドは、 `DD/MM/YYYY HH:MM [AM/PM]`のフォーマットで入力します。 例えば、 `01/06/1981 12:15 PM` は1981年1月6日、午後12時15分です。 日時のピッカーを使用するか、ユーザーがフィールドに直接日付を入力することができます。

### 複数選択

ユーザーは、チェックボックス（または設定されている場合はトグル）から1つ以上のオプションを選択します。

![複数選択フィールドでは、ユーザーが表示された選択肢の中から複数選択することができます。](./forms-field-types-reference/images/07.png)

### グリッド

ユーザーは、ラジオボタンを使用して、行と列に配置されたオプションから選択します。 行ごとに1つの選択を行うことができます。 これは、複数の質問に同じ回答メトリックが必要な場合に役立ちます。

![グリッドフィールドでは、ユーザーが同じ回答オプションのリストから複数の問い合わせに回答できます。 ](./forms-field-types-reference/images/08.png)

### 数値

ユーザーは数値データ（整数または小数）を数値フィールドに入力します。 数字以外の入力は受け付けません。

![数値フィールドは、ユーザーの入力を数字（整数または小数）に限定します。](./forms-field-types-reference/images/09.png)

数値フィールドには、興味深い詳細なフィールド設定があります。

- [**確認要求**](#field-confirmation) ユーザがデータを正しく入る性を保証します。
- **[入力値の検証](./validating-text-and-numeric-field-entries.md)** ユーザーの入力を事前に設定された要件に制限します。 ![数値入力を検証します。](./forms-field-types-reference/images/25.png)
- **[入力マスク](./validating-text-and-numeric-field-entries.md#masking-numeric-fields)** は、ユーザーが数値データを入力する際に、正しいフォーマットを表示させることができます。

### アップロード

アップロードフィールドを使用すると、ユーザーはローカルファイルシステムからファイルをアップロードできます。 ログインしているユーザーは、以前にアップロードしたファイルから選択するか、新しいファイルをアップロードできます。

```{note}
7.2でログインすると、ユーザーはドキュメントとメディアライブラリから既存のファイルを選択するか、ローカルファイルシステムからファイルをアップロードすることを選択できます。
```

![アップロードフィールドでは、ユーザーがファイルをアップロードしたり、既存のドキュメントとメディアのエントリーから選択することができます。](./forms-field-types-reference/images/10.png)

Liferay 7.3 (DXP FP1およびCE GA7 )以降、認証されていないゲストユーザーにファイルのアップロードを許可することができます。 フォームフィールドの設定でゲストのアップロードを有効にします。

![ゲストにファイルのアップロードを許可するかどうかを選択できます。](./forms-field-types-reference/images/16.png)

アップロードされたドキュメントは、 [ドキュメントとメディアリポジトリ](./../../../system-administration/file-storage.md)非表示フォルダに保存されます。 ドキュメントとメディアアプリケーションで表示するには、以下の[ポータルプロパティ](../../../installation-and-upgrades/reference/portal-properties.md)を `portal-ext.properties` ファイルに設定します。

```properties
dl.show.hidden.mount.folders=true
```

コントロールパネル：［システム設定］&rarr; ［フォーム（コンテンツとデータ）］ &rarr; ［フォーム］で、または、`com.liferay.dynamic.data.mapping.form.web.internal.configuration.DDMFormWebConfiguration.config`という名前の[設定ファイル](../../../system-administration/configuring-liferay/configuration-files-and-factories/using-configuration-files.md)を作成して、ゲストのアップロード動作を設定します。

```{tip}
[インスタンススコープ](../../../system-administration/configuring-liferay/understanding-configuration-scope.md#scope-definitions)でフォームアプリケーションを設定するには、Instance Settingsのフォームエントリーを使用します。
```

**Guest Upload File Extensions（`guestUploadFileExtensions`）：** 受け入れられるファイル拡張子のコンマ区切りリストを入力します。  デフォルトでは以下のリストがサポートされています：`doc`、`docx`、`jpeg`、`jpg`、`pdf`、`png`、`ppt`、`pptx`、`tiff`、`txt`、`xls`、および`xlsx`。

**Guest Upload Maximum file Size（`guestUploadMaximumFileSize`）：**ゲストユーザがアップロードフィールドからアップロードできるファイルの最大サイズを設定します。 これは、ドキュメントとメディアアプリケーションの設定で、認証されたユーザーに対して設定され、システム全体の制限は、アップロードサーブレットリクエストシステム設定エントリーの［合計最大アップロードリクエストサイズ］というフィールドで定義されます。 デフォルトでは25MBに設定されています。

**Maximum Repetitions for Upload Fields（`maximumRepetitionsForUploadFields`）：**フィールドが繰り返し可能に設定されている場合、ユーザーがフィールドをフォームに追加できる最大回数を設定します (ゲスト ユーザーとログインしたユーザーに同じように適用されます)。 デフォルトでは5に設定されています。

**Maximum Submissions for Guest Upload Fields（`maximumSubmissionsForGuestUploadFields`）：**ゲストが使用可能なアップロード フィールドを含むフォームを、ゲスト ユーザーが送信できる最大回数を設定します。 ゲストユーザーのIPアドレスは、送信数の記録のために使用されます。 デフォルトでは5に設定されています。

### 画像

ユーザーは、［Web Content Images］、［Documents and Media］ライブラリから画像ファイル（`.gif`、`.jpeg`、`.jpg`、`.png`）を選択したり、ローカルファイルシステムから画像ファイルをアップロードしたりすることができます。

![画像フィールドでは、ユーザーが画像をアップロードしたり、ドキュメントとメディア内にある画像やWebコンテンツ画像から選択することができます。](./forms-field-types-reference/images/11.png)

```{important}
ゲストユーザーは、画像へのアクセスやアップロードができません。 認証されたユーザーのみがフォームにアクセスできる場合を除き、このフィールドは使用しないでください。
```

画像を追加した後、ユーザーは画像の追加フィールドである _説明_を記入することができます。 画像フィールドがオプションの場合、使い方は簡単で、画像もその説明も必要ありません。 ただし、他のフォームフィールドと同様に、画像フィールドは必須とマークすることができます。 画像フィールドが必須である場合、フォームビルダーは説明を必須とするか任意とするかを選択することができます。

![必須画像フィールドの説明フィールドは、必須または任意とすることができます。](./forms-field-types-reference/images/27.png)

### 色

ユーザーは、カラーピッカーから色を選択するか、コードを直接入力することで、色の16進コードを入力することができます。

![色フィールドでは、カラーピッカーで色フォームを選択すると、その色の16進数を入力することができます。](./forms-field-types-reference/images/13.png)

### リッチテキスト

ユーザーは、リッチテキストコンテンツ（フォーマットされたテキスト、埋め込まれた画像、添付ファイルなど）をフォームフィールドに入力することができます。

![リッチテキストフィールドでは、ユーザーは画像を埋め込んだフォーマット済みのテキストをフォームに書き込むことができます。 ](./forms-field-types-reference/images/12.png)

### 位置を検索

Liferay 7.4以降の［ロケーションの検索］フィールドを使用して、フォームユーザーから有効なアドレスを簡単に収集します。

![［ロケーションの検索］フィールドには、Google PlacesAPIキーが必要です。](./forms-field-types-reference/images/23.png)

詳細については、 [検索場所フィールドを使う](using-the-search-location-field.md)を参照してください。

## 追加情報

- [フォームの作成](./creating-forms.md)
