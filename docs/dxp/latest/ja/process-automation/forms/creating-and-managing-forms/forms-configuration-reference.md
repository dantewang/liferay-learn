# フォーム構成リファレンス

ここでは、フォームの全構成の概要を説明していますので、必要な構成をすぐに見つけることができます。

## フォームオプション

サイト間でフォームをエクスポートおよびインポートすることができます。 **エクスポート/インポート** にメニューにアクセスするには、 ［**サイト管理**］ &rarr; ［**コンテンツおよびデータ**］ &rarr; ［**フォーム**］ 右上の![Options](../../../images/icon-options.png)アイコンをクリックし、 ［**エクスポート/インポート**］ をクリックします。

![フォームをエクスポートおよびインポートできます。](./forms-configuration-reference/images/01.png)

詳しくは、 [フォームのエクスポートとインポート](./exporting-and-importing-forms.md) および [サイトのページとコンテンツのエクスポート/インポート](../../../site-building/sites/exporting-importing-site-pages-and-content.md) を参照してください。

## フォームの設定

各フォームにはそれぞれ設定メニューがあります。

設定メニューを表示するには、目的のフォームを選択します（例： **ゲスト調査のフィードバック**）。 右上の![Settings](../../../images/icon-settings.png)アイコンをクリックします。

### フォームオプション

![設定メニューには、以下の項目があります。](./forms-configuration-reference/images/02.png)

| セクション                    | 項目                                                                 | <div style="width:290px">説明                                                                                                                                                  |
|:------------------------ |:------------------------------------------------------------------ |:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| General (Automatic Copy) | 認証を求める                                                             | フォームを送信する前に回答者にサインインを要求します。                                                                                                                                                   |
| General (Automatic Copy) | キャプチャ                                                              | フォームを送信する際にCAPTCHAの質問に回答する必要があります。                                                                                                                                            |
| General (Automatic Copy) | 回答を自動保存                                                            | 回答者がフォームを入力する際に、定期的にフォームを自動保存します。                                                                                                                                             |
| General (Automatic Copy) | ストレージの種類                                                           | 送信済みレコードを管理するための [ストレージアダプター](../developer-guide/understanding-form-storage-adapters.md) を設定します。                                                                              |
| General (Automatic Copy) | [ワークフロー](./advanced-forms-usage/using-forms-with-a-workflow.md)の選択 | フォームの送信を確認するためのワークフロー定義を選択します。ワークフローはデフォルトでは無効になっています。                                                                                                                        |
| パーソナライゼーション              | フォーム送信完了時のリダイレクト先URL                                               | フォームの送信が成功した場合のリダイレクトURLを指定します。                                                                                                                                               |
| パーソナライゼーション              | ボタンラベルを送信                                                          | Submitボタンのラベルを、特定のユースケースに適したものに変更します（例： **Vote** または **Register**）。                                                                                                               |
| 通知                       | 各エントリーのメール通知を送信します。                                                | フォームレコードが送信されるたびに、 [メール通知](../sharing-forms-and-managing-submissions/configuring-form-notifications.md) をフォーム作成者に送信するかどうかを指定します。                                              |
| [Liferay 7.4のみ] 申請       | ユーザーごとに 1 回の送信に制限されています。                                           | ログインしているユーザーに対して、複数のフォーム送信を許可しません。 また、この場合、ユーザーがフォームに入力する際に認証される必要があります。                                                                                                      |
| [Liferay 7.4のみ] 申請       | 回答者に一部の結果を表示します。                                                   | 回答者に、フォームの現在の [フォームレポート](../sharing-forms-and-managing-submissions/form-reports.md#show-partial-results-to-form-respondents) データを表示できるようにします。 この機能を有効にすると、機密情報を送信しないように警告します。 |
| [Liferay 7.4のみ] 申請       | 有効期限／期限を設定しない                                                      | フォームの有効期限を設定します。 この日を過ぎると、送信はできません。 フォームのユーザーには、フォームへのアクセス時に有効期限切れの通知が表示されます。 有効期限を選択するには、 ［**期限を設定しない**］ の設定を無効化する必要があります。                                                     |

### メール通知設定

ここでは、フォームエントリーが送信されるたびに通知メールを送信するようにフォームアプリを設定できます。 まずはメールサーバーを設定する必要があります。詳しくは[メールサーバーへの接続](../../../installation-and-upgrades/setting-up-liferay/configuring-mail.md)を参照してください。

![フォームに通知機能を追加することができます。](./forms-configuration-reference/images/03.png)

| 項目         | 説明                                                             |
|:---------- |:-------------------------------------------------------------- |
| 送信者名       | 送信者の名前。これは、サイト名、フォーム名、または受信者に有益なその他の情報にできます。                   |
| 送信者メールアドレス | 送信者のメールアドレス。`noreply@example.com`を使用して、受信者が返信できないようにすることができます。 |
| 送信先アドレス    | 受信者のメールアドレス（例：`test@example.com`)                              |
| 件名         | 有益な件名にすることで、受信者はメールの内容を把握しやすくなります。                             |

詳しくは、 [フォーム通知の設定](../sharing-forms-and-managing-submissions/configuring-form-notifications.md) を参照してください。

## フォームウィジェットの設定

サイトページに配置されている **フォーム** ウィジェットを設定することができます。 ［**設定**］ メニューにアクセスするには、ウィジェットのタイトルの横にある![Options](../../../images/icon-app-options.png)アイコン &rarr; ［**設定**］ をクリックします。

### 設定

ここでは、このウィジェットで使用する目的のフォームを選択できます。

![このウィジェットで使用するフォームを選択します。](./forms-configuration-reference/images/04.png)

### 共有

ここでは、このアプリケーションをDXP以外のプラットフォームに埋め込むことができます。

![フォームアプリを組み込むプラットフォームを選択します。](./forms-configuration-reference/images/05.png)

### 範囲

ここでは、ウィジェットのスコープを［グローバル］［サイト］［ページ］から変更できます。

![フォームウィジェットのスコープを選択します。](./forms-configuration-reference/images/06.png)

## インスタンス設定

インスタンス設定の Forms 設定エントリは、システム設定の Forms エントリと同じです (下記参照)。 詳細については、 [設定スコープ](../../../system-administration/configuring-liferay/understanding-configuration-scope.md) についてを参照してください。

各構成プロパティの説明については、 [システム設定](#system-settings) を参照してください。

## システム設定

現在、システムレベルのFormsの設定項目は1つしかありません。 Liferay UIでプロパティを設定するには、以下の方法があります。

1. **グローバルメニュー**（![global icon](../../../images/icon-applications-menu.png)）→ [**コントロールパネル**] に移動します。
1. ［**システム設定**］ をクリックします。
1. ［**コンテンツとデータ**］ セクションで ［**フォーム**］ をクリックします。

![［システム設定］メニューでフォームを構成します。](./forms-configuration-reference/images/07.png)

また、バッキング `DDMFormWebConfiguration` サービスを、 `.config` という名前のファイルで設定することもできます。

```
com.liferay.dynamic.data.mapping.form.web.internal.configuration.DDMFormWebConfiguration.config
```

`Liferay Home/osgi/configs`に配置してください。 詳細は、[構成ファイルの使用](../../../system-administration/configuring-liferay/configuration-files-and-factories/using-configuration-files.md) を参照してください。

| 項目                                                      | 説明                                                                                                                                                                                          |
|:------------------------------------------------------- |:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 自動保存間隔 (`autosaveInterval`)                             | フォームの自動保存を行う時間を分単位で設定します。0に設定すると自動保存は行われません。                                                                                                                                                |
| CSVエクスポート(`csvExport`)                                  | 管理者がフォームエントリーをCSVとしてダウンロードできるかどうかを決定します。                                                                                                                                                    |
| 既定の表示モード (`defaultDisplayView`)                         | 検索コンテナでのフォームの表示方法を設定します。                                                                                                                                                                    |
| ゲストアップロードファイル拡張子（`guestUploadFileExtensions`）           | 受け入れられるファイル拡張子のコンマ区切りリストを入力します。 デフォルトでは以下のリストがサポートされています：`doc`、`docx`、`jpeg`、`jpg`、`pdf`、`png`、`ppt`、`pptx`、`tiff`、`txt`、`xls`、および`xlsx`。                                                   |
| ゲストアップロードの最大ファイルサイズ（`guestUploadMaximumFileSize`）       | ゲストユーザーがアップロード欄からアップロードできる最大ファイルサイズを設定します。 これは、ドキュメントとメディアアプリケーションの設定で、認証されたユーザーに対して設定され、システム全体の制限は、アップロードサーブレットリクエストシステム設定エントリーの［合計最大アップロードリクエストサイズ］というフィールドで定義されます。 デフォルトでは25MBに設定されています。 |
| アップロードフィールドの最大繰り返し（`maximumRepetitionsForUploadFields`） | フィールドが反復可能に設定されている場合、ユーザーがフォームにフィールドを追加できる最大回数を設定します（ゲストユーザーとログインユーザーに同じように適用されます）。 デフォルトでは5に設定されています。                                                                                      |
| ゲストアップロードフィールドの最大送信数``）                                 | ゲストユーザーがゲスト対応のアップロードフィールドを含むフォームを送信できる最大回数を設定します。 ゲストユーザーのIPアドレスは、送信数の記録のために使用されます。 デフォルトでは5に設定されています。                                                                                      |

## 追加情報

* [フォーム権限リファレンス](./forms-permissions-reference.md)
