# データ定義の作成

データ定義を作成するには：

1. *［コンテンツとデータ］* &rarr; *［動的データリスト］*へ行きます。

1. 右上のオプションアイコン（![Options](../../../images/icon-options.png)）をクリックし、 *［データ定義の管理］*をクリックします。

    ![既存のデータ定義のリストが表示されます。](./creating-data-definitions/images/01.png)

    ［データ定義］画面が表示されます。 表には、既存のデータ定義が一覧表示されます。 連絡先、イベント、在庫などの一般的なユースケースには、いくつかの定義が埋め込まれています。

1. *追加* アイコン (![Add](../../../images/icon-add.png)) をクリックすると、新しいデータ定義の作成が始まります。 これにより、［新しいデータ定義］フォームが開きます。

1. データ定義に名前を付けます。 定義の名前は、定義を使用する動的データリストに入力するすべてのユーザーに表示されることに注意してください。 フォームの［詳細］セクションを展開し、説明を入力します。

    ![データ定義の名前を入力します。](./creating-data-definitions/images/02.png)

    フォームの詳細セクションには、親データ定義フィールドも含まれています。 このオプションのフィールドでは、既存のデータ定義（親）を選択して、新しいデータ定義（子）の基礎を形成できます。 子定義は親のフィールドと設定を継承し、それらをカスタマイズできます。 子定義から動的データリストを作成すると、親定義と子定義のフィールドが含まれます。 これにより、共通の定義（親）を特殊な定義（子）の基礎として使用できます。

    親定義を選択するには、［Parent Data Definition］フィールドの下にある *［選択］* ボタンをクリックしてから、表示されるダイアログで既存の定義を選択します。

1. フォームの［詳細］セクションの下にあるデータ定義デザイナのデータ定義のフィールドを追加します。 デザイナのデフォルトの［表示］タブでは、WYSIWYGエディタで定義を作成できます。 ［ソース］タブをクリックして、定義の基になるJSONを操作できますが、WYSIWYGエディターを使用する方がはるかに簡単です。

    ![データ定義に関連付けるフィールドを選択します。](./creating-data-definitions/images/03.png)

    ［表示］タブで、 *［フィールド］*タブをクリックします。 一方には項目タイプを表すアイコンが表示され、もう一方にはデータ定義のキャンバスが表示されます。 項目タイプを定義に追加するには、そのアイコンを選択し、キャンバスにドラッグアンドドロップします。 すでにキャンバス上にあるフィールドにフィールドをドラッグすることで、既存のフィールドに新しいフィールドをネストできます。 キャンバス上のフィールドにマウスオーバーすると、フィールドアクションのアイコンが表示されます。 *複製* アイコン（ ![Duplicate](../../../images/icon-duplicate.png)）をクリックすると、現在のフィールドの複製が作成され、現在のフィールドの下に追加されます。 *ゴミ箱* アイコン（ ![Trash](../../../images/icon-trash.png)）をクリックすると、フィールドが削除されます。 使用可能なフィールドの詳細については、 [フィールドタイプリファレンス](#field-types-reference)を参照してください。

1. フィールドのプロパティを編集して、使用目的を反映させます。 たとえば、テキストフィールドのデフォルトのラベルはTextです。 これは、Eメールなどのカスタム値に変更できます。 まず、キャンバス上のフィールドを選択します。 これにより、左側の［設定］タブが自動的に選択されます。 また、フィールドのコグアイコン（![Cog](../../../images/icon-cog.png)）をクリックして［設定］タブにアクセスすることもできます。

    ![デフォルト値を変更するには、フィールドのラベルをダブルクリックします。](./creating-data-definitions/images/04.png)

    フィールドプロパティを編集するには、［設定］テーブルでその値をダブルクリックし、新しい値を入力します。 詳細については、 [フィールドプロパティリファレンス](#field-properties-reference) を参照してください。

    データ定義のフィールド値を、サポートされているすべてのロケールに翻訳することができます。 翻訳のフィールド値を指定するには、ロケールを表すフラグを選択し、ロケールのフィールド値を入力します。

1. 完了したら、*［保存］*をクリックします。 次に、新しいデータ定義がテーブルに表示されます。

## 項目タイプリファレンス

データ定義を作成するときは、次の項目タイプを使用できます。

| 項目タイプ       | 説明                                                                                                     |
|:----------- |:------------------------------------------------------------------------------------------------------ |
| ブール値        | チェックボックス                                                                                               |
| 色           | 色を指定します                                                                                                |
| 日付          | 日付を入力します。 日付フィールドには有効な日付フォーマットが必要ですが、手動で日付を入力する必要はありません。 日付フィールドを選択すると、ミニカレンダーがポップアップし、日付を選択することができます。 |
| 小数          | 10進数を入力します。 値は`double`として永続化されます。                                                                      |
| ドキュメントとメディア | ［ドキュメントとメディア］ライブラリからファイルを選択します[^1]                                                                     |
| 位置情報        | 場所をユーザーのフォームエントリに関連付けます。                                                                               |
| HTML        | WYSIWYGエディターを使用してHTMLコンテンツを記述・表示する領域                                                                   |
| 整数          | 整数を入力します。 値は`INT`として永続化されます。                                                                           |
| ページへのリンク    | 同じサイト内の別のページにリンクします。                                                                                   |
| 数値          | 10進数または整数を入力します。 入力の種類に応じて、値は、 `double` または `int`として永続されます。                                            |
| ラジオ         | クリックできるオプションを表示します。 オプションの数はデフォルトでは3つですが、これはカスタマイズ可能です。 一度に選択できるオプションは1つだけです                           |
| 選択          | これはラジオフィールドと同じですが、オプションは非表示であり、ドロップダウンメニューからアクセスする必要がある点が異なります。                                        |
| テキスト        | 1行のテキストを入力します。                                                                                         |
| テキストエリア     | これは、複数行のテキストや段落を入力できることを除けば、テキストフィールドと同じです。                                                            |
| Webコンテンツ    | Webコンテンツを選択します。                                                                                        |

## フィールドプロパティリファレンス

 次のプロパティを変更できます。 これらのプロパティの一部は、特定のフィールドタイプでのみ使用できることに注意してください。

| プロパティ    | 説明                                                                                               |
|:-------- |:------------------------------------------------------------------------------------------------ |
| タイプ      | フィールドのタイプ（テキスト、ラジオなど）。 この設定を編集することはできませんが、表示テンプレートで参照することができます。                                  |
| 項目ラベル    | フィールドの表示名                                                                                        |
| ラベルを表示   | フィールドラベルが表示されているかどうか                                                                             |
| 必須       | ユーザーがフィールドに入力する必要があるかどうか（ブールフィールドでは使用できません）                                                      |
| 名前       | フィールドの内部識別子を表します。 この値を表示テンプレートで使用することで、フィールドのデータを読み取ることができます。 この値は自動的に生成されますが、必要に応じて変更することができます。 |
| 初期値      | フィールドのデフォルト値                                                                                     |
| チップ      | ツールチップに表示するテキスト                                                                                  |
| インデックス可能 | フィールドが検索用にインデックスされているかどうか                                                                        |
| ローカライズ可能 | フィールドを翻訳できるかどうか                                                                                  |
| 繰り返し可能   | ユーザーがフィールドのコピーを作成できるかどうか                                                                         |
| 複数       | ユーザーが複数のオプションを選択できるかどうか。 これは、選択フィールドでのみ使用できます                                                    |
| オプション    | ［ラジオ］フィールドと[選択]フィールドで選択できるオプション。 オプションを追加および削除したり、各オプションの表示名と値を編集したりできます                         |

[^1]: DDLで追加されたドキュメントは、DDLの権限を継承しません。 代わりに、アップロードされたドキュメントのドキュメントとメディアの設定によって権限が定義されます。 つまり、厳しく制限されたDDLにアップロードされたドキュメントは、DDLレコードよりもアクセスしやすくなる可能性があるのです。
