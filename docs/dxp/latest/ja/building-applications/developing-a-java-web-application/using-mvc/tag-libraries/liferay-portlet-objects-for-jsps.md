# JSP用Liferayポートレットオブジェクト

JSPの中に `<liferay-portlet:defineObjects>` というタグがあることにお気づきでしょうか？  [theme:defineObjects](./liferay-theme-objects-for-jsps.md)タグと同様に、このタグをJSPに含めると、いくつかの変数にアクセスできるようになり、この場合、ポートレットに関する有用な情報を返すことができます。 なお、JSR-286仕様では、ポートレットのライフサイクルとして、processAction、processEvent、render、serveResourceの4つのメソッドを定義しています。 `<portlet:defineObjects/>` タグで定義される変数のいくつかは、ポートレットのライフサイクルの適切なフェーズにJSPが含まれていた場合にのみ、JSPから利用可能になります。 これらのオブジェクトは、以下の表で説明されています。

| オブジェクト                                                                                                                                                                                    | Description                                                                                                                                                                                               |
|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `ActionRequest actionRequest`                                                                                                                                                             | アクションを処理するためにポートレットに送信されたリクエストを表します。 `actionRequest`は、JSPがアクション処理フェーズに含まれていた場合のみJSPで利用可能です。                                                                                                               |
| `ActionResponse actionResponse`                                                                                                                                                           | アクションリクエストに対するポートレットの応答を表します。 `actionResponse`は、JSPがアクション処理フェーズに含まれていた場合のみJSPで利用可能です。                                                                                                                     |
| `EventRequest eventRequest`                                                                                                                                                               | イベントを処理するためにポートレットに送信されるリクエストを表します。 `eventRequest`は、JSPがイベント処理フェーズに含まれていた場合のみJSPで利用可能です。                                                                                                                  |
| `EventResponse eventResponse`                                                                                                                                                             | イベントリクエストに対するポートレットの応答を表します。 `eventResponse`は、JSPがイベント処理フェーズに含まれていた場合のみJSPで利用可能です。                                                                                                                        |
| `HeaderRequest headerRequest`                                                                                                                                                             | ポートレットのHTMLヘッダまたはHEADセクションを処理するためにポートレットに送信されるリクエストを表します。 `headerRequest`は、JSPがヘッダー処理フェーズに含まれていた場合のみJSPで利用可能です。                                                                                           |
| `HeaderResponse headerResponse`                                                                                                                                                           | ヘッダーリクエストに対するポートレットの応答を表します。 `headerResponse`は、JSPがヘッダー処理フェーズに含まれていた場合のみJSPで利用可能です。                                                                                                                       |
| [`LiferayPortletRequest liferayPortletRequest`](https://resources.learn.liferay.com/reference/latest/en/dxp/javadocs/portal-kernel/com/liferay/portal/kernel/portlet/LiferayPortletRequest.html)    | `HttpServletRequest`、`Portlet`、およびポートレット名とライフサイクル値へのアクセスを提供します。 `liferayPortletRequest`は、すべてのポートレットフェーズで利用可能です。                                                                                           |
| [`LiferayPortletResponse liferayPortletResponse`](https://resources.learn.liferay.com/reference/latest/en/dxp/javadocs/portal-kernel/com/liferay/portal/kernel/portlet/LiferayPortletResponse.html) | ポータルに返されるプロパティを含み、プロパティを追加または変更する手段を提供します。 `liferayPortletResponse`は、すべてのポートレットフェーズで利用可能です。                                                                                                               |
| `RenderRequest renderRequest`                                                                                                                                                             | ポートレットを描画するために、ポートレットに送信されたリクエストを表します。 `renderRequest`は、JSPがレンダーリクエストフェーズで含まれていた場合のみJSPで利用可能です。                                                                                                           |
| `RenderResponse renderResponse`                                                                                                                                                           | ポートレットがポータルに応答を送信する際に補助するオブジェクトを表します。 `renderResponse`は、JSPがレンダーリクエストフェーズで含まれていた場合のみJSPで利用可能です。                                                                                                           |
| `ResourceRequest resourceRequest`                                                                                                                                                         | リソースを描画するためにポートレットに送信されたリクエストを表します。 `resourceRequest`は、JSPがリソース提供フェーズで含まれていた場合のみJSPで利用可能です。                                                                                                               |
| `ResourceResponse resourceResponse`                                                                                                                                                       | ポートレットがリソースを描画する際に補助するオブジェクトを表します。 `resourceResponse`は、JSPがリソース提供フェーズに含まれていた場合のみJSPで利用可能です。                                                                                                               |
| `PortletConfig portletConfig`                                                                                                                                                             | ポートレットの名前、初期化パラメータ、リソースバンドル、アプリケーションコンテキストを含むポートレットの設定を表します。 `portletConfig`は、それが含まれるリクエスト処理フェーズにかかわらず、常にポートレットJSPで利用可能です。                                                                                |
| `PortletPreferences portletPreferences`                                                                                                                                                   | ポートレットの設定へのアクセスを提供します。 `portletPreferences`は、それが含まれるリクエスト処理フェーズにかかわらず、常にポートレットJSPで利用可能です。                                                                                                                 |
| `Map<String, String[]> portletPreferencesValues`                                                                                                                                    | `portletPreferences.getMap()`呼び出しと同等のマップを提供するか、ポートレットのルック&フィールが存在しない場合は空のマップを提供します。                                                                                                                       |
| `PortletSession portletSession`                                                                                                                                                           | 複数のリクエストにまたがってユーザーを識別する方法と、ユーザーに関する一時的な情報を保存する方法を提供します。 `portletSession`は、各ユーザークライアントに対して作成されます。 `portletSession`は、それが含まれるリクエスト処理フェーズにかかわらず、常にポートレットJSPで利用可能です。 `portletSession`は、セッションが存在しない場合は`null`です。 |
| `Map<String, Object> portletSessionScope`                                                                                                                                           | `PortletSession.getAtrributeMap()`呼び出しと同等のマップ、またはセッション属性が存在しない場合は、空のマップを提供します。                                                                                                                            |

詳しくは、 [Portlet 3.0 API Javadoc](https://resources.learn.liferay.com/reference/latest/en/portlet-api/index.html) をご覧ください。
