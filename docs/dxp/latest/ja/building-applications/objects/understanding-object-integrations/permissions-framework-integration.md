# 権限設定フレームワークの統合

{bdg-secondary}`Liferay 7.4以降で利用可能`

公開されたオブジェクトは、Liferayの権限設定フレームワークと自動的に統合されます。 [アプリケーション](#application-permissions) および [リソース](#resource-permissions) 権限で、オブジェクトとそのエントリーへのユーザー アクセスを管理できます。 ロールベースのアクセス制御により、適切なユーザーのみがアプリケーションのデータを表示・使用できるようにすることができます。

デフォルトでは、カスタムオブジェクトの権限は、ユーザーロールに自動的に割り当てられません。 これは、誤ってオブジェクトデータが露出することを防ぐためです。 アクセス権を付与するには、必要なロールにオブジェクトのアクセス権を手動で割り当てます。

ロール権限を定義する際、アクティブオブジェクトがスコープとパネルカテゴリキーに従って表示されます。

```{tip}
サイトスコープのオブジェクトでは、すべてのサイトに対して権限を付与するか、特定のサイトに対してのみ権限を付与するかを決定することができます。
```

```{important}
アカウントと組織のロールは、アカウント制限が有効になっているオブジェクトでのみサポートされています。 それ以外の場合は、オブジェクトの権限の割り当てに標準ロールとサイトロールのみを使用することができます。 詳細は、 [アカウント制限とユーザーロール](../creating-and-managing-objects/using-system-objects-with-custom-objects/restricting-access-to-object-data-by-account.md#account-restriction-and-user-roles) を参照してください。
```

## アプリケーションの権限

アプリケーションの権限は公開オブジェクト自体へのアクセス権限を付与するもので、 [リソース関連の権限は含まれません](#resource-permissions) 。 各オブジェクトには、定義されたスコープに応じて、次の標準アプリケーションの権限が含まれます。

| 権限                                | 説明                                                                                         |
|:--------------------------------- |:------------------------------------------------------------------------------------------ |
| コントロールパネルへのアクセス（**会社スコープのみ**）       | グローバルメニュー（ ![Global Menu](../../../images/icon-applications-menu.png) ）でオブジェクトにアクセスします。    |
| サイトとアセットライブラリ管理にアクセス（**サイトスコープのみ**） | サイトメニュー（ ![Site Menu](../../../images/icon-product-menu.png) ）またはアセットライブラリでオブジェクトにアクセスします。 |
| 設定                                | 該当なし                                                                                       |
| 権限設定                              | オブジェクトに対するアプリケーションの権限を表示し変更します。                                                            |
| 表示設定                              | 該当なし                                                                                       |
| 表示                                | オブジェクトのアプリケーションページを表示します。                                                                  |

## リソース権限

リソース権限は、オブジェクトアプリケーションのリソースを閲覧したり操作したりするためのアクセス権を付与するものです。 これらの権限の中には、 [オブジェクトエントリーの作成に関連](#creating-entries) するものもあれば、 [既存のエントリーに対するアクションを実行する](#acting-on-existing-entries) ものもあります（例：編集、削除）。

### エントリーの作成

| 権限             | 説明                       |
|:-------------- |:------------------------ |
| オブジェクトエントリーを追加 | エントリーを作成します。             |
| 権限の設定          | エントリーの作成に関する権限を表示・管理します。 |

### 既存のエントリーの操作

| 権限            | 説明                                                                                                                                                                                                                                                              |
|:------------- |:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 削除            | エントリーを削除します。                                                                                                                                                                                                                                                    |
| オブジェクトエントリー履歴 | REST APIを使用して、 [エントリーの履歴を照会する](../objects-tutorials/using-apis/using-nestedfields-to-audit-entry-history.md). この権限は、オブジェクト定義で [Entry History が有効になっている間のみ利用可能です](../creating-and-managing-objects/auditing-object-definition-events.md#enabling-entry-history) 。 |
| 権限の設定         | 個々のエントリーの権限を表示・変更します。                                                                                                                                                                                                                                           |
| 更新            | エントリーを更新します。                                                                                                                                                                                                                                                    |
| 表示            | エントリーを参照します。                                                                                                                                                                                                                                                    |

```{note}
オブジェクトエントリーの作成者には、自動的にオーナーロールが割り当てられ、上記の権限が付与されます。
```

リソースパーミッションは、オブジェクトに追加された [スタンドアロンアクション](../creating-and-managing-objects/actions/using-manual-actions.md) それぞれに対して生成されます。 どのロールがアクションをトリガーできるかを管理するのに便利で、 `アクションを使用して命名されます。[actionName]` パターンです。

## 個々のオブジェクトエンティティに対する権限の管理

{bdg-secondary}`7.4 U10+/GA14+の場合`

カスタムオブジェクトを使用すると、個々のデータベースエンティティに対する権限を管理し、オブジェクトデータへのアクセスをコントロールすることができます。

次の手順を実行します：

1. 目的のカスタムオブジェクトに移動します。

1. 目的のエンティティの **アクション** ボタン（![Actions Button](../../../images/icon-actions.png)）をクリックし、 ［**Permissions**］ を選択してください。

   ![目的のエンティティのアクションボタンをクリックし、［権限］を選択します。](./permissions-framework-integration/images/01.png)

1. チェックボックスを使用して、 [エントリーの操作](#acting-on-existing-entries) 権限を必要なロールに付与します。

   ```{note}
   ロール管理アプリケーションで定義された権限は、エンティティレベルで定義された権限をオーバーライドします。
   ```

   ![チェックボックスを使用して、必要なロールに権限を割り当てることができます。](./permissions-framework-integration/images/02.png)

1. ［**Save**］ をクリックします。

## 関連トピック

* [オブジェクト統合を理解する](../understanding-object-integrations.md)
* [オブジェクト概要](../../objects.md)
* [オブジェクトの作成](../creating-and-managing-objects/creating-objects.md)
* [アカウントによるオブジェクトデータへのアクセス制限](../creating-and-managing-objects/using-system-objects-with-custom-objects/restricting-access-to-object-data-by-account.md)
