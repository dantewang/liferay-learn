# アタッチメントフィールド

添付ファイルフィールドは、インスタンスの[ドキュメントライブラリ](../../../../system-administration/file-storage.md)にファイルをアップロードするためのフィールドです。 アップロードされると、ファイルはエントリーの添付ファイルフィールドにリンクされ、各フィールドは一度に1つのファイルにのみリンクされます。 ファイルは、オブジェクト定義（会社やサイトなど）からそのスコープを継承します。 添付された後は、オブジェクトエントリーを表示してファイルをダウンロードしたり、フィールドから削除したりすることができます。 7.4 U45/GA45 以降は、 [オブジェクトのアプリケーションページ](../views/designing-object-views.md)からもエントリーの添付ファイルをダウンロードできます。

![オブジェクトエントリーにファイルを添付する。](./attachment-fields/images/01.png)

```{important}
アセットがオブジェクトのエントリから削除されても、ドキュメントライブラリから削除されない。
```

フィールド作成時に、Request Filesフィールドを使用して、ユーザーがオブジェクトのエントリにファイルをアップロードする方法を決定することができます。

**ユーザーのコンピュータから直接アップロード** ：ユーザーは、オペレーティングシステムのファイルセレクタを使用して、エントリにファイルをアップロードすることができます。 デフォルトでは、このメソッドは、添付ファイル項目用に自動生成されたプライベートフォルダにファイルを保存します。 このフォルダはLiferayのUIには表示されません。 ただし、 ［**Show Files in Documents and Media**］ を有効にすると、アップロードしたファイルはドキュメントとメディアのフォルダーに保存されます。 デフォルトでは、このフォルダはオブジェクト定義の名前を使用しますが、フィールドを構成する際に変更することができます。

**ドキュメントとメディアのアイテムセレクターからアップロードまたは選択してください** ：ドキュメントとメディアにある既存のファイルから選択するか、アイテムセレクターを使用してファイルをアップロードすることができます。 アップロードされたファイルは、ドキュメントとメディアのルートフォルダに保存され、他のファイルと同様に管理することができます。

![Request Files "フィールドは、ユーザーがオブジェクトのエントリにファイルを追加する方法を決定します。](./attachment-fields/images/02.png)

```{note}
必要であれば、この[portal property](../../../installation-and-upgrades/reference/portal-properties.md) をサーバーに追加することによって、ドキュメントとメディアの隠し添付ファイルフィールドフォルダを表示することができます。`dl.show.hidden.mount.folders=true`. 
```

添付ファイルフィールドを作成した後、以下の方法で設定することができます。

| 項目 | 説明 |
| :--- | :--- |
| 許可されたファイル拡張子 | ユーザーが項目にアップロードできるファイルの種類を決定するために、許可されたファイル拡張子のリストを入力します。各拡張子はカンマで区切る必要があります。現在、添付ファイル項目は `jpeg`, `jpg`, `pdf`, `png` ファイルをサポートしています。 |
| 最大ファイルサイズ | このフィールドで受け入れられる最大ファイルサイズを入力します。デフォルト値は100MBです。必要であれば、この値を0に設定して、サーバーの合計最大アップロードリクエストサイズプロパティを使用することができます。|
| ストレージフォルダ (［**ドキュメントとメディアでファイルを表示］用**） | ［ドキュメントとメディア］でアップロードされたファイルが保存される場所を決定するためのフォルダ名を入力します。デフォルトでは、フォルダはオブジェクト定義の名前（例：`/Employee`、`/TimeOffRequest`）を使用します。 |

## 追加情報

* [項目](../fields.md)
* [オブジェクトへのフィールドの追加](./adding-fields-to-objects.md)
* [ファイル ストレージ](../../../../system-administration/file-storage.md)
