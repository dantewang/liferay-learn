# アカウントによるオブジェクトデータへのアクセス制限

{bdg-secondary}`利用可能な Liferay 7.4 U34+/GA34+`

複数のビジネスアカウント [](../../../../users-and-permissions/accounts.md)があるシナリオでは、アカウントごとにオブジェクトエントリへのアクセスを制限することができます。 これを行うには、カスタム・オブジェクトが Account システム・オブジェクトとアクティブな [リレーションシップ](../defining-object-relationships.md) を持っている必要があり、入力データの制限にこのリレーションシップを使用するようにカスタム・オブジェクトを構成する必要があります。 設定が完了すると、カスタムオブジェクトにエントリーを追加する人は、アカウントを選択する必要があります。 このアカウントがエントリーのオーナーとなり、アカウントのメンバーのみがアクセスできるようになります。

![カスタムオブジェクトエントリへのアクセスをアカウントごとに制限することができます。](./restricting-access-to-object-data-by-account/images/01.png)

以下の手順に従って、アカウントを使用してカスタムオブジェクトエントリへのアクセスを制限してください。

1. **グローバルメニュー**（![Global Menu](../../../../images/icon-applications-menu.png)）を開き、 ［**コントロールパネル**］ タブに移動して、 ［**オブジェクト**］ をクリックします。

1. Accountシステム・オブジェクトの編集を開始します。

1. **一対多** または **多対多** のリレーションシップを追加し、Account オブジェクトを目的のカスタムオブジェクトに関連付けます。 詳細については、[オブジェクトリレーションシップの定義](../defining-object-relationships.md)を参照してください。

   ![Accountシステム・オブジェクトを目的のカスタム・オブジェクトに関連付けます。](./restricting-access-to-object-data-by-account/images/02.png)

1. オブジェクトページに戻り、目的のカスタムオブジェクトの編集を開始します。

1. ［Details］タブで、 ［**Account Restriction**］ をアクティブに切り替え、関連するエントリに使用する ［**アカウントリレーションシップ**］ を選択します。

   ![アカウント制限をアクティブに切り替え、使用するアカウントリレーションシップを選択します。](./restricting-access-to-object-data-by-account/images/03.png)

1. ［**Save**］ をクリックします。

これにより、オブジェクトにアカウント選択の必須項目が追加され、エントリーを追加する人はアカウントを選択する必要があります。 利用可能なオプションは、ユーザーのアカウントメンバーシップによって決定されます。 一度設定すると、選択したアカウントのメンバーのみがそのエントリにアクセスできます。

## 追加情報

* [アカウント](../../../../users-and-permissions/accounts.md)
* [システムオブジェクトの拡張](../extending-system-objects.md)
* [オブジェクトリレーションの定義](../defining-object-relationships.md)
* [カスタムオブジェクトからアカウントデータにアクセスする](./accessing-accounts-data-from-custom-objects.md)
