# 定義済み要素変数リファレンス

要素ソースエディタで要素に定義済み変数を追加するには、変数を配置する場所にカーソルを置き、左側のサイドバーで変数をクリックして挿入させます。 Custom JSON Elementでは、エディタに直接変数を入力する必要があります。 各変数のシンタックスは下表のとおりです。

| 値                                         | タイプです。定義                                                                                                                                                           | シンタックス                                  |
|:----------------------------------------- |:------------------------------------------------------------------------------------------------------------------------------------------------------------------ |:--------------------------------------- |
|                                           | <a href="#context" id="context">**CONTEXT**</a>                                                                                                                                          |                                         |
| 企業ID                                      | 番号です。現在のインスタンスの会社IDを返します。                                                                                                                                          | `${context.company_id}`                 |
| ステージンググループである                             | ブール値。現在のサイトがステージングされているかどうかを返す                                                                                                                                     | `${context.is_staging_group}`           |
| 言語設定                                      | テキスト現在の言語の2文字コードを返す（例： `en`）。                                                                                                                                      | `${context.language}`                   |
| 言語 ID                                     | テキスト現在の言語の 4 文字の言語コード (例: `en_US`) を返す。                                                                                                                            | `${context.language_id}`                |
| 翻訳済みレイアウト名                                | テキストローカライズされたページ名を返します                                                                                                                                             | `${context.layout-name-localized}`      |
| ページレイアウト ID                               | 番号を指定します。ページのIDを返す                                                                                                                                                 | `${context.plid}`                       |
| 公開 ID                                     | 番号出版物IDを返す                                                                                                                                                         | `${context.publication_id}`             |
| 範囲グループ ID                                 | 現在のサイトのIDを返す                                                                                                                                                       | `${context.scope_group_id}`             |
|                                           | <a href="#time" id="time">**TIME**</a>                                                                                                                                          |                                         |
| 現在の日付                                     | 日付現在の日付を返す                                                                                                                                                         | `${time.current_date}`                  |
| 現在の月の日                                    | 番号月日を返す                                                                                                                                                            | `${time.current_day_of_month}`          |
| 現在の週の日                                    | 番号です。曜日を返す (_1 = 月曜日_)                                                                                                                                             | `${time.current_day_of_week}`           |
| 現在の年の日                                    | 番号年月日を返す                                                                                                                                                           | `${time.current_day_of_year}`           |
| 現在の時間                                     | 番号現在の時刻を返す                                                                                                                                                         | `${time.current_hour}`                  |
| 現在の年                                      | 番号現在の年号を返す                                                                                                                                                         | `${time.current_year}`                  |
| 時刻                                        | 時間時刻を返す                                                                                                                                                            | `${time.time_of_day}`                   |
| 翻訳済みタイムゾーン名                               | テキストロケール用にローカライズされたタイムゾーンを返す                                                                                                                                       | `${time.time_zone_name_localized}`      |
|                                           | <a href="#user" id="user">**USER**</a>                                                                                                                                          |                                         |
| 有効なセグメントのエントリー ID                         | 番号です。ユーザーのセグメントIDを返す                                                                                                                                               | `${user.active_segment_entry_ids}`      |
| 年齢                                        | 数ユーザーの年齢を年数で返す                                                                                                                                                     | `${user.age}`                           |
| {bdg-secondary}`7.4 U41+` アセットカテゴリーID     | 番号ユーザーのカテゴリのIDを返す                                                                                                                                                  | `${user.asset_category_ids}`            |
| {bdg-secondary}`7.4 U41+` Asset Tag Names | テキストユーザーのタグを返す                                                                                                                                                     | `${user.asset_tag_names}`               |
| 誕生日                                       | 日付ユーザーの生年月日を返します                                                                                                                                                   | `${user.birthday}`                      |
| 作成日時                                      | 日付Liferay でユーザーアカウントが作成された日付を返します。                                                                                                                                 | `${user.create_date}`                   |
| 現在のサイトロール ID                              | 番号を指定します。ユーザーのサイトロールIDを返す                                                                                                                                          | `${user.current_site_role_ids}`         |
| メールドメイン                                   | テキストユーザーのメールドメインを返す                                                                                                                                                | `${user.email_domain}`                  |
| 名                                         | テキストユーザーのファーストネームを返す                                                                                                                                               | `${user.first_name}`                    |
| 氏名                                        | テキストユーザーのフルネームを返す                                                                                                                                                  | `${user.full_name}`                     |
| グループ ID                                   | 番号です。ユーザが所属するサイトのIDを返す                                                                                                                                             | `${user.group_ids}`                     |
| ユーザーID                                    | 番号ユーザーのIDを返す                                                                                                                                                       | `${user.id}`                            |
| 女性である                                     | ブール値。ユーザーが女性の場合、true を返す                                                                                                                                           | `${user.is_female}`                     |
| 性別 X である                                  | ブール値。ユーザーが性別 X である場合、true を返す                                                                                                                                      | `${user.is_gender_x}`                   |
| 男性である                                     | ブール値。ユーザーが男性の場合、true を返す                                                                                                                                           | `${user.is_male}`                       |
| Omniadmin である                             | ブール値です。ユーザーが Omni Admin ユーザー (デフォルトインスタンスのデフォルトユーザー) である場合、true を返します。                                                                                             | `${user.is_omniadmin}`                  |
| ログイン済みである                                 | ブール値。ユーザーがサインインしている場合、true を返す                                                                                                                                     | `${user.is_signed_in}`                  |
| 役職                                        | テキストユーザーの役職名を返す                                                                                                                                                    | `${user.job_title}`                     |
| 言語 ID                                     | テキストユーザーの言語コードを返す（例： `en_US`)                                                                                                                                      | `${user.language_id}`                   |
| 姓                                         | テキストユーザーの姓を返す                                                                                                                                                      | `${user.last_name}`                     |
| {bdg-secondary}`7.4 U41+` 親アセットカテゴリーID    | 数です。ユーザのカテゴリの親カテゴリすべてのIDを返す                                                                                                                                        | `${user.parent_asset_category_ids}`     |
| 標準ロール ID                                  | 数です。ユーザーの通常の役割のための役割IDを返します                                                                                                                                        | `${user.regular_role_ids}`              |
| ユーザーグループID                                | 番号を指定します。当該ユーザーが所属するユーザーグループの ID を返します。                                                                                                                            | `${user.user_group_ids}`                |
|                                           | <a href="#conditional-elements" id="conditional-elements">**conditional elements***</a>                                                                                                                                          |                                         |
| IPスタックシティ                                 | テキスト検索しているIPアドレスの発信元となる都市名を返します。                                                                                                                                   | `${ipstack.city}`                       |
| IPスタック大陸コード                               | テキスト検索対象の IP アドレスの発信元となる大陸コード (例: NA (North America)) を返します。                                                                                                       | `${ipstack.continent_code}`             |
| IPスタック大陸名                                 | テキスト大陸名を返す                                                                                                                                                         | `${ipstack.continent_name}`             |
| IPスタック国コード                                | テキスト国番号を返す（例：米国はUS）                                                                                                                                                | `${ipstack.country_code}`               |
| IPスタック国名                                  | テキスト国名を返す                                                                                                                                                          | `${ipstack.country_name}`               |
| IPスタック Latitude                           | 数値。緯度を10進数で返します。                                                                                                                                                   | `${ipstack.latitude}`                   |
| IPスタック経度                                  | 数値経度を10進数で返します。                                                                                                                                                    | `${ipstack.longitude}`                  |
| IPスタック地域コード                               | テキスト地域コード（例：カリフォルニア州はCA）を返す。                                                                                                                                       | `${ipstack.region_code}`                |
| IPスタックリージョン名                              | テキスト地域名を返す                                                                                                                                                         | `${ipstack.region_name}`                |
| IPスタック郵便番号                                | 番号郵便番号を返す                                                                                                                                                          | `${ipstack.zip}`                        |
| 天気図を開く 気温                                 | 番号温度を返す                                                                                                                                                            | `${openweathermap.temp}`                |
| 天気図を開く 天気予報の説明                            | テキスト天気の説明を返す（例：「晴れ」）。                                                                                                                                              | `${openweathermap.weather_description}` |
| 天気図を開く 天気予報のID                            | 番号です。天気予報の説明に対応する [ID を返す](https://openweathermap.org/weather-conditions#Weather-Condition-Codes-2)                                                                | `${openweathermap.weather_id}`          |
| 天気図を開く メインラベル                             | テキスト天候の [一次識別子を返す (例: Rain; これは OpenWeatherMap の API レスポンスの Main フィールドです](https://openweathermap.org/weather-conditions#Weather-Condition-Codes-2) , 天気 ID に従っています) | `${openweathermap.weather_main}`        |
| オープンウェザーマップ 風速                            | 数値風速をkm/hで返します。                                                                                                                                                    | `${openweathermap.wind_speed}`          |
| User Custom Fields **\*\***              | ユーザーカスタムフィールドの値を返す                                                                                                                                                 | `user.custom.field.[name]`              |

**\*** [Liferay Commerce](https://learn.liferay.com/commerce/latest/ja/installation-and-upgrades/activating-liferay-commerce-enterprise.html) を起動し、Commerce 固有の変数にアクセスします。

**\*** ipstack と OpenWeatherMap の変数にアクセスするには、まず各サービスを有効にする必要があります。 System or Instance Settings &rarr; Platform &rarr; Search Experiences にアクセスします。 有効]チェックボックスをクリックし、設定するサービスの設定を保存します。 OpenWeatherMap サービスは、ipstack サービスが有効になっていることに依存することに注意してください。 ipstack サービスを使用した例については、 [Search Experiencesのパーソナライズ](../personalizing-the-search-experience.md) を参照してください。

**\*\*** これらのすぐに使える変数に加えて、 [Custom Fields](../../../../system-administration/configuring-liferay/adding-custom-fields.md) on user entity も要素内の変数として参照することができます。 例えば、 _Employee_ という名前のユーザーカスタムフィールドは、 `user.custom.field.employee`という要素で参照されます。

## 追加情報

- [エレメントの作成](./creating-elements.md)
- [検索ブループリント 構成リファレンス](../search-blueprints-configuration-reference.md)
- [エレメントの管理](./managing-elements.md)
