# サイトファセット

サイトファセットは、検索結果を特定のサイトに存在するものに絞り込みます。 検索されたキーワードに一致するコンテンツを含む各サイトは、ファセット用語として表示されます。

![サイトファセットの結果の例。](site-facet/images/01.png)

```{important}
サイトファセットが複数のサイトを表示するためには、検索バーが*Everything*を検索するように設定されている必要があります。 すべてを検索しない場合は、現在のサイトだけが検索され、サイトファセットには何も表示されません。 この場合、サイトファセットはページ上で非表示になります。

グローバルに埋め込まれたページトップの検索バーで「すべて」を検索するように設定すると、すべてのページに埋め込まれた検索バーが設定されるだけではありません。 また、ページトップの検索バーの設定が検索ページの検索バーの設定よりも優先されるため、検索ページの検索バーがすべてを検索することが保証されます。 なお、本サイト内の他の検索バーウィジェットについては、この限りではありません。 それぞれ必要に応じて設定する必要があります。
```

グローバル検索バーが無効になっている場合は、すべてを検索するように検索ページの検索バーウィジェットを設定します。

検索範囲を設定するには、

1. 検索バーのオプションアイコン（![Options icon](../../../images/icon-app-options.png)）をクリックし、 ［**設定**］ をクリックします。

   ![［設定］オプションをクリックします。](site-facet/images/02.png)

1. ［スコープ］オプションを ［**Everything**］ に設定します。

   ![ドロップダウンメニューで［Everything ］を選択します。](site-facet/images/03.png)

   完了したら、 ［**保存**］ ボタンをクリックします。

## サイトファセットの設定

サイトファセットを設定するには、ファセットのオプションメニュー（![Click on the options icon of the search bar.](../../../images/icon-app-options.png)）を開き、 ［**設定**］ をクリックします。

![［設定］オプションをクリックします。](site-facet/images/04.png)

**ディスプレイの設定：** **デフォルト** 、 **コンパクトレイアウト** 、 **ラベルレイアウト** の中から選択します。 デフォルトのレイアウトでは、各用語の横にチェックボックスが表示されますが、コンパクトレイアウトでは表示されません。 ラベルレイアウトでは、用語ごとにクリック可能な小さなラベルが表示されます。

［詳細設定］セクションには、追加のオプションが含まれています。

**サイトパラメータ名：** ファセットのURLのパラメーター名を変更します。 デフォルト値は **site** です。

**最大ターム数：** ファセットに一致する用語がいくつ見つかったかに関係なく、表示するファセット用語の最大数を設定します。

**頻度の閾値：** 用語がファセット用語のリストに表示されるために必要な最小頻度を設定します。 たとえば、ファセットの頻度の閾値が3に設定されている場合、一致する結果が2つの用語は用語結果リストに表示されません。

**表示頻度：** 用語頻度を表示するかどうかを選択します。

完了したら、 ［**保存**］ ボタンをクリックします。
