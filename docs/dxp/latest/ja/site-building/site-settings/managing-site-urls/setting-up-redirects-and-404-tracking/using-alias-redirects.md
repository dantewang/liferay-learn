# エイリアスリダイレクトの使用

エイリアス リダイレクトは、絶対的なソースと宛先の URL を明示的に定義します。 予測可能なため、ほとんどのユースケースでエイリアスリダイレクトが推奨されます。 エイリアスリダイレクトは、永久的（301）または一時的（302）なリダイレクトにすることができます。 どちらのタイプも、ユーザーを指定された目的地に自動的に誘導するものですが、それぞれサイトにとってユニークな意味を持っています。 自分の状況に合わせて、どのタイプが最適なのかを検討する。

**Permanent**: 要求されたリソースが永久に再配置されたことを、サイトにアクセスしている検索エンジンや他のツールに知らせるために、301コードを使用します。 検索エンジンは古いURLを新しい目的地に置き換えて検索結果に表示し、ブラウザは新しい目的地を不確定な時間だけキャッシュします。 301コードは、行先URLを無期限に使用する場合にのみ使用してください。 これにより、SEOが向上し、意図しないキャッシュを回避できます。

**Temporary**: 302コードを使用して、要求されたリソースが一時的に移動したことを、サイトにアクセスしている検索エンジンや他のツールに通知します。 302コードは、サイトのランキングに影響を与えずに、A/Bテストを実施したり、問題を修正しながらトラフィックをリダイレクトしたりしたい場合に有効です。 Liferay はデフォルトで 302 コードを使用します。

SEOの各リダイレクトタイプの影響の詳細については、[Optimizing Sites](../../../optimizing-sites.md)を参照してください。 また、テスト時に302コードを使用する方法については、[A/B Testing](../../../optimizing-sites/ab-testing/ab-testing.md)を参照してください。

```{note}
一括してリダイレクトを行う必要がある場合は、[Using Pattern Redirects](./using-pattern-redirects.md) を参照してください。
```

## エイリアスリダイレクトの作成

1. *サイトメニュー* (![Site Menu](../../../../images/icon-product-menu.png)) を開き、 *設定* &rarr; *リダイレクト*を開きます。

   ![RedirectionアプリケーションのAliasesタブに移動します。](./using-alias-redirects/images/01.png)

1. エイリアス] タブで、[ *Add* (![Add button](../../../../images/icon-add.png))] をクリックします。

1. *Source URL* フィールドに一意の相対 URL を入力し、リダイレクトのトリガーとなるリンクを決定します。 入力した値は、その上に表示されるベースURLに追加されます。

   ![[ソースURL]フィールドに一意の相対URLを入力します。](./using-alias-redirects/images/02.png)

1. *［Destination URL］*フィールドに絶対URLを入力して、目的の宛先へのリンクを指定します。

   この宛先は内部または外部にすることができますが、常に絶対URLとして入力する必要があります。 また、 *Check URL* ボタン (![Check URL Button](../../../../images/icon-shortcut.png)) をクリックして、URLを確認することができます。

   ![[行先URL]フィールドに絶対URLを入力します。](./using-alias-redirects/images/03.png)

1. *Type* ドロップダウンメニューを使用して、リダイレクトを恒久的（301）または一時的（302）に定義します。

   ![リダイレクトが永続的か一時的かを判断します。](./using-alias-redirects/images/04.png)

1. *リダイレクトの有効期限* を自動的に設定することができます。 有効期限が切れないように、このフィールドは空のままにします。

   ![リダイレクトの有効期限が切れるかどうかを確認します。](./using-alias-redirects/images/05.png)

1. 完了したら、 *Create* をクリックして、リダイレクトを保存します。

保存されると、Liferayは設定を検証します。 他のリダイレクトが指定したソースURLを指している場合、Liferayはあなたに通知し、リダイレクトチェーンを避けるために既存のリダイレクトを更新するかどうかを尋ねます。 コンフリクトを減らすために、Liferayはユーザーが同じソースURLに対して複数のエイリアスリダイレクトを定義することと、URLを自分自身に直接リダイレクトすることの両方を防止します。

![Liferay は、リダイレクトチェーンを作成するのを避けるのに役立ちます。](./using-alias-redirects/images/06.png)

```{warning}
循環リダイレクトを作らないようにする。 これらは、コンテンツ・フレンドリーURLのリダイレクトを定義する際に簡単に作成できます（例：同じコンテンツに対して異なるフレンドリーURL間でリダイレクトする）。 Liferay はこれらのループを確実に検出することができません。
```

## エイリアス リダイレクトの編集と削除

一度追加したURLリダイレクトは、アクションボタン(![Actions button](../../../../images/icon-actions.png))をクリックして、「編集」または「削除」を選択することで、いつでも編集や削除が可能です。

![リダイレクトはいつでも編集または削除できます。](./using-alias-redirects/images/07.png)

```{note}
リダイレクトに加えられた変更は、古いリダイレクト構成をキャッシュしたブラウザにすぐに表示されない場合があります。
```

## 追加情報

* [404URLのトラッキング](./tracking-404-urls.md)
* [パターンリダイレクトの利用](./using-pattern-redirects.md)
* [バーチャルホストのサイトURLの設定](../configuring-virtual-hosts-site-urls.md)
* [サイトのフレンドリURLを設定する](../configuring-your-sites-friendly-url.md)
