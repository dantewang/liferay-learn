# フラグメントの管理

Liferay DXPは、Liferay UIでフラグメントとフラグメントセットを管理するためのツールを提供しています。 すぐに使用できるツールを使用すると、フラグメントコードをすばやく編集したり、サイト間でフラグメントとセットをエクスポートおよびインポートしたり、セット間でフラグメントを移動およびコピーしたりできます。

```{note}
Liferay DXP 7.4以降の場合、フラグメントコレクションはLiferay UIではフラグメントセットと呼ばれます。
```

## フラグメントセットの管理

フラグメントセットの管理オプションにアクセスするには、次の手順に従います。

1. **サイトメニュー**（![サイトメニュー](../../../../images/icon-product-menu.png)）を開き、 ［**Design**］ &rarr; ［**Fragments**］ に移動します。

    ```{note}
    Liferay DXP/Portal 7.3以前の場合は、*プロダクトメニュー* &rarr; *サイトメニュー* &rarr; *サイトビルダー* &rarr; *ページフラグメント*の下にあります。
    ```

1. **フラグメントセット** のリストで目的のセットを選択し、その **アクション** ボタン（![Actions](../../../../images/icon-actions.png)）をクリックします。

   ![フラグメントセットのアクションボタンをクリックして、管理オプションにアクセスします。](./managing-fragments/images/01.png)

1. アクションを選択します。

   **編集** ：フラグメントセットの名前または説明を変更します。

   **エクスポート** ：セットのフラグメントのコードを`.zip`ファイルとしてダウンロードします。  セットデータを含むフラグメントはエクスポートされません。 フラグメントセットとそのデータをエクスポートするには、フラグメントセットの **アクション** ボタン（![Actions](../../../../images/icon-actions.png)）をクリックして、 ［**エクスポート**］ を選択します。 次に、エクスポートするフラグメントセットを確認します。 各セットは、個別の`.zip`ファイルでダウンロードされます。

   **インポート** ：セットにアップロードする`.zip`ファイルを選択します。 インポート中に、インポートされたコードでセットの既存のフラグメントを上書きする場合は、 ［**Overwrite Existing Files**］ をオンにします。 Liferay DXPで作成されたセット、外部ツールを使用して作成されたセット、またはセットのないページフラグメントをインポートできます。 インポートされたフラグメントに無効なルールがある場合、ドラフトとして自動的に保存されます。

   **削除** ：現在のフラグメントセットとそのすべてのコンテンツを削除します。

```{tip}
ページフラグメントのエクスポートとインポートは、サイト間でフラグメントコードを共有するための推奨される方法です。
```

## 個々のページフラグメントの管理

個々のページフラグメントを管理するには、次の手順に従います。

1. **サイトメニュー**（![サイトメニュー](../../../../images/icon-product-menu.png)）を開き、 ［**Design**］ &rarr; ［**Fragments**］ に移動します。

    ```{note}
    Liferay DXP/Portal 7.3以前の場合は、*プロダクトメニュー* &rarr; *サイトメニュー* &rarr; *サイトビルダー* &rarr; *ページフラグメント*の下にあります。
    ```

1. *フラグメントセット*リストで目的のセットを選択します。

1. 目的のフラグメントの*アクション*ボタン(![Actions](../../../../images/icon-actions.png))をクリックします。

   ![フラグメントのアクションボタンをクリックして、フラグメント管理オプションにアクセスします。](./managing-fragments/images/02.png)

 アクションを選択します：

    **編集**：フラグメントのコードと構成を変更します。

    **名前を変更する**：フラグメントの名前を変更します。

    **移動**：フラグメントを別のフラグメントセットに移動します。

    **コピーを作成**：フラグメントを複製します。 複製されたフラグメントは、末尾に *（コピー）*と 追加された同じ名前を共有します。

    **サムネイルを変更**：フラグメントのサムネイル画像を変更します。

    **エクスポート**：フラグメントを`.zip`ファイルとしてダウンロードします。

    **削除**：フラグメントを削除します。

```{important}
ユーザーは[保存されたフラグメント構成](./saving-fragment-compositions.md)を編集またはコピーすることはできません。
```

## デフォルトのフラグメントのコピー

> 利用可能：Liferay DXP 7.2 SP1以降およびLiferay Portal 7.2 GA2以降

[デフォルトのページフラグメント](./default-fragments-reference.md)は直接編集できません。 ただし、デフォルトのフラグメントをカスタムセットにコピーして、そこで編集することができます。

次の手順を実行します：

1. *サイトメニュー* (![Site Menu](../../../../images/icon-product-menu.png)) を開き、 *［Design］* &rarr; *［Fragments］*に移動します。

    ```{note} Liferay DXP/Portal 7.3以前の場合は、*［プロダクトメニュー］* &rarr; *［サイトメニュー］* &rarr; *［サイトビルダー］* &rarr; *［ページ フラグメント］*の下にあります。
    ```

1. **Fragments Sets** リストで目的のデフォルトセットを選択します。

1. 目的のフラグメントの **アクション** ボタン (![Actions](../../../../images/icon-actions.png))をクリックし、 ［**Copy To**］ を選択します。

   ![フラグメントのアクションボタンをクリックして、［コピー先］を選択します。](./managing-fragments/images/03.png)

1. デフォルトのフラグメントをコピーするセットを選択します。

## 追加情報

* [フラグメントの使用](../using-fragments.md)
* [フラグメントの設定](./configuring-fragments.md)
* [デフォルトのフラグメントリファレンス](./default-fragments-reference.md)
