# マスターページテンプレートの作成

{bdg-secondary}`Liferay DXP/Portal 7.3以降で利用可能`

サイトのページのヘッダーとフッターのルック＆フィールを定義するために使用できるデフォルトのマスターページテンプレートがありますが、よりカスタムなソリューションが必要な場合もあります。 このためにカスタムマスターページテンプレートを作成することができます。

以下の手順に従って、マスターページのテンプレートを作成してください：

1. **サイトメニュー**(![Site Menu](../../../images/icon-product-menu.png)) を開き、 **デザイン** &rarr; **ページテンプレート** に移動します。

1. マスター]タブで、 **追加**(![追加](./../../../images/icon-add.png))をクリックし、新しいマスターページテンプレートを作成します。

1. 新しいマスターページテンプレートの **Name** 。

1. サイドバーの「フラグメントとウィジェット」(![Fragments and Widgets](./../../../images/icon-add-widget.png))に、必要な共通要素のフラグメントを追加します。

   ![フッターとナビゲーションバーのセクションからマスターページテンプレートの共通要素を追加します。](./creating-a-master-page-template/images/01.png)

1. (オプション）ドロップゾーンをレイアウト内の新しい場所にドラッグ＆ドロップします。 例えば、2つのモジュールを持つグリッドを追加し、ドロップゾーンを1つのモジュールに移動させることで、ユーザーはグリッドのその部分にのみページフラグメントを追加することができます。

   ![ドロップゾーンを移動して、ユーザーがページの断片を追加できる場所をコントロールできます。](./creating-a-master-page-template/images/02.gif)

1. (オプション)**Configure Allowed Fragments** ボタンをクリックして、ドロップゾーンに追加できるページフラグメントを指定します。

   このマスターページテンプレートで許可したいページフラグメントをチェックしてください。

   ［**Select New Fragments Automatically**］ にチェックを入れると、新しいフラグメントタイプが許可されるリストに含まれるようになります。

   ![このマスターページテンプレートを使用するページにフラグメントを追加できるかどうかを指定するために、許可されたフラグメントダイアログでフラグメントのチェックを入れたり外したりします。](./creating-a-master-page-template/images/03.png)

   **Save** をクリックして Allowed Fragments ダイアログを閉じる。

1. (オプション）コンテンツページをプレビューするには、右上の **オプション**(![Options](../../../images/icon-options.png)) &rarr; **新しいタブでプレビュー** をクリックします。

1. 
**Publish Master** をクリックし、マスターページテンプレートを作成します。

**元に戻す**(![Undo icon](../../../images/icon-undo.png)) や **やり直す**(![Redo icon](../../../images/icon-redo.png)) ボタンで任意の操作を元に戻したり、 **履歴**(![History icon](../../../images/icon-time.png))で以前のバージョンの編集に戻ったりすることができます。

```{note}
カスタムマスターページテンプレートがページに使用されている場合、ページのテーマはマスターページテンプレートを通して定義され、ページの設定で変更することはできません。 詳しくは [マスターページテンプレートのデザインを変更する](./managing-master-page-templates.md#changing-a-master-page-templates-design) を参照してください。
```

## 関連トピック

[マスターページテンプレートの管理](./managing-master-page-templates.md)

[マスターページテンプレート](./master-page-templates.md)
