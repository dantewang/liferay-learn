# パブリッシングツールの比較

Liferayは、コンテンツ作成とサイト構築のための2つのパブリッシングツールを提供します。パブリケーションとステージングです。 パブリケーションは、優れたコラボレーション体験を提供し、他のLiferay機能との統合性が高いため、ほぼすべてのユースケースでステージングよりも推奨されています。 ただし、作業環境と本番環境を別々のサーバーでホストする必要がある場合は、例外となります。 そのためには、リモートライブステージングを使用する必要があります。

[$LIFERAY_LEARN_YOUTUBE_URL$]=https://www.youtube.com/embed/xPVWyMrTa3k

## 変更リスト

Publicationsは、サイトやコンテンツを編集するための変更履歴管理ツールです。 これにより、コントリビューターは **publications** という作業環境を作成し、本番環境の公開サイトに影響を与えることなく編集を行うことができるようになります。 各パブリケーションは企業単位で、複数のサイトやアセットライブラリにまたがる変更をグループ化することができます。 プロジェクトやチームのために、必要な数だけ出版物を作成することができます。

デフォルトでは、出版物へのアクセスはその作成者に限定されています。 ただし、クリエイターは他のメンバーを招待し、各出版物に固有の役割を割り当てることができます。 出版物は独立しているため、投稿者は互いに影響を与えることなく変更を加え、出版することができます。 出版物の投稿者は、自分のタイムラインで作業し、準備ができ次第、変更内容を公開することができます。

公開プロセス中、Liferayはプロダクションとのコンフリクトをチェックし、ユーザーにレビューと解決するよう促します。 コンフリクトは自動的に解決できるものもあれば、手作業で解決しなければならないものもあります。 一度公開された変更は、競合がなければ他の出版物に伝搬されます。 Publicationsは、公開された変更の詳細な履歴を維持するので、必要に応じて変更をすばやく確認したり、元に戻したりすることができます。

これらの機能を組み合わせることで、優れた編集・コラボレーション体験を提供します。 [パブリケーションの有効化](./publications/enabling-publications.md) を参照して、お使いのインスタンスのPublicationsを設定してください。

```{important}
Liferay 7.4 U44/GA44から、Publicationsは [ワークフロー](../../process-automation/workflow.md) と完全に統合されているので、 Publicationsで追跡するエンティティに対してワークフローを有効にすることができます。
```

## ステージング

Staging では、コントリビューターは共有の **staging** 環境で作業してから、 **live** 環境に変更を公開します。 サイトとアセットライブラリのステージングをユーザーが個別に有効にすることができます。 有効にすると、Liferayはオリジナルのサイトやライブラリの別コピーを作成し、それらを同じサーバー([Local Live Staging](./staging/configuring-local-live-staging.md))または別々のサーバー([Remote Live Staging](./staging/configuring-remote-live-staging.md))でホストします。

すべての変更は、サイトまたはアセットライブラリを対象としています。 サイトまたはアセットライブラリ内で、ステージングしたいページとアプリケーションデータを正確に決定することができます。 明示的にステージングされたデータへの変更のみが追跡されます。 ライブ環境でユーザーからのトラフィックを処理しながら、個別に、またはまとめて、準備ができ次第、変更を公開することができます。

ステージングよりもパブリケーションを推奨しますが、デプロイメントモデルに多層アーキテクチャを使用している場合や、作業環境と本番環境で異なるセキュリティ要件がある場合は、リモートライブステージングが必要になります。 これは、現在、Publicationsがリモートオプションを提供していないためです。 それ以外の使用例では、Publicationsを使用します。

```{important}
どうしてもStagingを使いたい場合は、開発開始時に有効にしておくとよいでしょう。 この機能を有効にすると、環境間でデータのコピーが直ちに開始されます。このため、すでに多くのデータが存在する場合は、エラーが発生する可能性があります。 ステージングは、データを小さなブロックに分割して頻繁に公開することで効果を発揮します。 変更を段階的に公開することで、公開時のエラーを回避することができます。
```

## 機能比較

| 機能                                      | 変更リスト    | ステージング   |
|:--------------------------------------- |:-------- |:-------- |
| 作業環境と本番環境を同じサーバーでホスティングできる              | &#10004; | &#10004; |
| 作業環境と本番環境を別々のサーバーでホスティングする。             | &#10008; | &#10004; |
| アセットライブラリに対応                            | &#10004; | &#10004; |
| プロジェクトやチームごとに別々の作業環境を構築・管理              | &#10004; | &#10008; |
| 変更点ブロックのコメント                            | &#10004; | &#10008; |
| カスタムワークフローの利用                           | &#10004; | &#10004; |
| 公開前の変更点のプレビュー                           | &#10004; | &#10004; |
| 作業環境と生産環境の違いを見直す                        | &#10004; | &#10008; |
| 同じ作業環境にある複数のサイトやアセットライブラリからの変更を含めることが可能 | &#10004; | &#10008; |
| 変更を公開するタイミングを予定する                       | &#10004; | &#10004; |
| イベント公開時の通知・アラートの自動送信                    | &#10004; | &#10004; |
| 公開されたすべての変更点の詳細な履歴を管理する                 | &#10004; | &#10008; |
| ページに対する公開された変更の取り消し                     | &#10004; | &#10004; |
| 公開されたコンテンツの変更を元に戻す                      | &#10004; | &#10008; |

### 対応するページとコンテンツタイプ

Liferayのパブリッシングツールは、以下のようなタイプのページやコンテンツをサポートしています。

| 機能          | 変更リスト    | ステージング   |
|:----------- |:-------- |:-------- |
| ブログ         | &#10004; | &#10004; |
| コマース事業体     | &#10008; | &#10008; |
| コンテントページ    | &#10004; | &#10008; |
| カスタムオブジェクト  | &#10008; | &#10008; |
| ドキュメントとメディア | &#10004; | &#10004; |
| フォーム        | &#10004; | &#10004; |
| ナレッジベース（管理） | &#10004; | &#10004; |
| 掲示板         | &#10004; | &#10004; |
| ページテンプレート   | &#10004; | &#10004; |
| サイトテンプレート   | &#10004; | &#10008; |
| Webコンテンツ    | &#10004; | &#10004; |
| ウィジェットページ   | &#10004; | &#10004; |
| Wikiノード     | &#10004; | &#10004; |

```{important}
コンテンツページは、ステージングの [ページバリエーション](./staging/page-versioning.md) 機能をサポートしていません。
```

## 追加情報

* [公開ツール](../publishing-tools.md)
* [変更リスト](./publications.md)
* [ステージング](./staging.md)
