# パブリッシングツールの比較

Liferayは、コンテンツ作成とサイト構築のために2つのパブリッシングツールを提供しています。PublicationsとStagingです。 Publicationsは、優れたコラボレーション体験と他のLiferay機能との統合を提供するため、ほぼすべてのユースケースでStagingよりも推奨されています。 ただし、作業環境と本番環境を別々のサーバーでホストする必要がある場合は、例外となります。 そのためには、リモートライブステージングを使用する必要があります。

[$LIFERAY_LEARN_YOUTUBE_URL$]=https://www.youtube.com/embed/xPVWyMrTa3k

## 変更リスト

Publicationsは、サイトやコンテンツを編集するための変更履歴管理ツールです。 これにより、投稿者は **publications** という作業環境を作成し、本番環境の公開サイトに影響を与えることなく編集を行うことができます。 各パブリケーションは企業単位で、複数のサイトやアセットライブラリにまたがる変更をグループ化することができます。 プロジェクトやチームのために必要な数の出版物を作成することができます。

デフォルトでは、出版物へのアクセスはそのクリエイターに限定されます。 ただし、クリエイターは他のメンバーを招待し、各出版物に固有の役割を割り当てることができます。 出版物は独立しているため、投稿者は互いに影響し合うことなく変更を加え、出版することができます。 出版物への貢献者は、自分のタイムラインで作業し、準備ができたら変更を公開することができます。

公開プロセスにおいて、Liferayはプロダクションとのコンフリクトをチェックし、ユーザーにレビューと解決するよう促します。 コンフリクトには、自動的に解決できるものと、手作業で解決しなければならないものがあります。 出版されると、競合がなければ、変更は他の出版物に伝搬されます。 Publicationsは、公開された変更の詳細な履歴を維持するため、必要に応じて変更をすばやく確認し、元に戻すことができます。

これらの機能を組み合わせることで、優れた編集・コラボレーション体験を提供します。 インスタンスのPublicationsを設定するには、 [パブリケーションの有効化](./publications/enabling-publications.md) を参照してください。

```{important}
Liferay 7.4 U44/GA44から、Publicationsは [ワークフロー](../../process-automation/workflow.md) と完全に統合されているので、Publicationsで追跡されるエンティティに対してワークフローを有効にすることができます。
```

## ステージング

ステージングでは、貢献者は共有の **ステージング** 環境で作業してから、 **ライブ** 環境に変更を公開します。 ユーザーがサイトやアセットライブラリーのステージングを個別に有効にします。 有効にすると、Liferayは元のサイトやライブラリの別コピーを作成し、同じサーバー（[Local Live Staging](./staging/configuring-local-live-staging.md)）または別々のサーバー（[Remote Live Staging](./staging/configuring-remote-live-staging.md)）のいずれかにホストします。

すべての変更は、サイトまたはアセットライブラリーの範囲内で行われます。 サイトまたはアセットライブラリ内で、ステージ化したいページやアプリケーションデータを正確に決定することができます。 明示的にステージングされたデータへの変更のみが追跡される。 ライブ環境でユーザーのトラフィックを処理しながら、個別に、またはまとめて、準備ができたら変更を公開します。

StagingよりもPublicationを推奨しますが、デプロイメントモデルに多層アーキテクチャを使用している場合や、作業環境と本番環境に異なるセキュリティ要件がある場合は、リモートライブステージングが必要です。 これは、現在、Publicationsがリモートオプションを提供していないためです。 それ以外の使用例では、Publicationsを使用します。

```{important}
どうしてもStagingを使いたい場合は、開発開始時に有効にしておくとよいでしょう。 有効化すると、Stagingは環境間のデータコピーを直ちに開始します。これは、すでに多くのデータが存在する場合にエラーを引き起こす可能性があります。 ステージングは、小さなブロック単位で頻繁にデータを公開することで効果を発揮します。 変更を段階的に公開することで、公開ミスを防ぐことができます。
```

## 機能比較

| 機能                                        | 変更リスト    | ステージング   |
|:----------------------------------------- |:-------- |:-------- |
| 作業環境と本番環境を同じサーバーでホストする                    | &#10004; | &#10004; |
| 作業環境と本番環境を別々のサーバーでホスティングできる               | &#10008; | &#10004; |
| アセットライブラリに対応                              | &#10004; | &#10004; |
| プロジェクトやチームごとに別々の作業環境を作り、管理する。             | &#10004; | &#10008; |
| 変更点ブロックのコメント                              | &#10004; | &#10008; |
| カスタムワークフローの利用                             | &#10004; | &#10004; |
| 公開前に変更点をプレビュー                             | &#10004; | &#10004; |
| 作業環境と生産環境の違いを見直す                          | &#10004; | &#10008; |
| 同じ作業環境にある複数のサイトやアセットライブラリーからの変更も含めることができる | &#10004; | &#10008; |
| 変更を公表するタイミングをスケジュールする                     | &#10004; | &#10004; |
| パブリッシングイベントの通知/アラートを自動的に送信する。             | &#10004; | &#10004; |
| 公開されたすべての変更点の詳細な履歴を維持する                   | &#10004; | &#10008; |
| 公開した変更をページに反映させる                          | &#10004; | &#10004; |
| 公開した変更をコンテンツに戻す                           | &#10004; | &#10008; |

### 対応するページとコンテンツタイプ

Liferayのパブリッシングツールは、次のようなタイプのページやコンテンツをサポートしています。

| 機能          | 変更リスト    | ステージング   |
|:----------- |:-------- |:-------- |
| ブログ         | &#10004; | &#10004; |
| コマース事業者     | &#10008; | &#10008; |
| コンテントページ    | &#10004; | &#10008; |
| カスタムオブジェクト  | &#10008; | &#10008; |
| ドキュメントとメディア | &#10004; | &#10004; |
| フォーム        | &#10004; | &#10004; |
| ナレッジベース（管理） | &#10008; | &#10004; |
| 掲示板         | &#10004; | &#10004; |
| ページテンプレート   | &#10004; | &#10004; |
| サイトテンプレート   | &#10004; | &#10008; |
| Webコンテンツ    | &#10004; | &#10004; |
| ウィジェットページ   | &#10004; | &#10004; |
| Wikiノード     | &#10008; | &#10004; |

```{important}
コンテンツページは、Stagingの[ページバリエーション](./staging/page-versioning.md)機能には対応していません。
```

## 追加情報

* [公開ツール](../publishing-tools.md)
* [変更リスト](./publications.md)
* [ステージング](./staging.md)
