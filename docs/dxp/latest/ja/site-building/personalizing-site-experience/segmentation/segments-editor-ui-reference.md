# セグメントエディターUIリファレンス

セグメントを使用して、ユーザーを共通のプロパティを持つ異なるグループに編成することができます。 セグメントエディターのUIにアクセスするには、以下の手順に従ってください。

1. **サイト管理** に移動し、セグメントを作成したいサイトを選択します。

1. **サイトメニュー**(![サイトメニュー](../../../images/icon-product-menu.png))を開き、 **People** &rarr; **Segments** に移動します。

1. **追加**(![Add](../../../images/icon-add.png)) をクリックして、新しいユーザーセグメントを追加します。

エディターの上部で、名前を設定し、セグメントを **保存** するか、変更を破棄するために **キャンセル** するかを選択できる。 Conditions（条件）セクションでは、定義されたセグメントの現在のメンバーを見ることができる。

ページの右側には、これらのオプションがある **プロパティ** メニューがあります：

- ユーザー
- 組織
- セッション
- セグメント

![You use the segment editor to create new segments.](./segments-editor-ui-reference/images/01.png)

演算と論理積をプロパティと組み合わせて基準を定義します。

## 演算と論理積

ユーザーセグメントインターフェイスでは、いくつかのタイプの情報を収集できます。 テキストボックスに入力されるデータもあれば、セレクターを使用して特定の条件や日付選択などのツールを選択するデータもあります。 フィールドによっては演算子を使用し、特定のコンテキストに応じて、ユーザまたはエージェントのデータと基準の関係を選択することができます。

* **等しい**

* **イコールではない**

* **次の値より大きい**

* **より大きいか等しい**

* **次の値より小さい**

* **以下または同等**

* **が以下を含む**

* **含まない**

基準の性質によっては、演算子の選択にさまざまな組み合わせが含まれる場合があります。 例えば、以下に説明する **Date** 選択項目には、 **contains** と **does not contain** を除く、先に挙げたすべてのオプションが含まれていますが、 **Email Address** 選択項目には、 **equals** 、 **not equals** 、 **contains** 、 **does not contain** があります。

各基準と各カテゴリーの間には、 **And/Or** 接続詞を定義することができます。 And **の場合、基準を満たすためにはすべての基準が真でなければならない。 Or** の場合、定義された基準のいずれかが真であれば真となる。 演算子を混合して複雑なケースを作成することもできます。

## ユーザープロパティ

ユーザ・プロパティは、キャプチャしたいユーザ属性です。 これは、アカウントで定義されたユーザーメタデータで構成されていますが、特定のグループメンバーシップ（ロールやユーザーグループなど）や、ユーザープロファイルの最終更新日などの情報も含まれています。 これらのユーザー・プロパティが利用できる：

| プロパティ    | 説明                                             |
| :------- | :--------------------------------------------- |
| 変更日      | ユーザー情報が最後に変更された日付を選択するための日付ピッカーと関係セレクターを提供します. |
| メールアドレス  | ユーザーのプロファイルに記載されているEメールを入力するためのテキストボックスを提供します。 |
| 名        | ユーザーのプロファイルで提供される名を入力します。                      |
| 役職       | ユーザーのプロファイルで提供される役職を入力します。                     |
| 姓        | ユーザーのプロファイルで提供される姓を入力します。                      |
| 標準ロール    | ユーザーが所属するロールを選択します。                            |
| スクリーン名   | ユーザーのスクリーンネームを入力してください。                        |
| サイト      | ユーザーがメンバーになっているサイトを選択します。                      |
| チーム      | ユーザーが所属するチームを選択します。                            |
| ユーザー     | リストから特定のユーザーを選択する。                             |
| ユーザーグループ | ユーザーが所属するユーザーグループを選択します。                       |
| 名前       | ユーザーのフルネーム。                                    |

!!! note
セグメントを通じてゲスト・ユーザーのコンテンツを表示するには、 **Signed In** セッション・プロパティを選択し、その値を **False** に設定します。 このアクションは効果的に匿名ユーザーを表し、guestロールと同じ目的を果たす。

Liferay DXP 7.2 SP2+ 以降、これらのプロパティはユーザーも利用できます：

| プロパティ | 説明                                           |
| :---- | :------------------------------------------- |
| 誕生日   | ユーザーの生年月日を選択するための日付ピッカーとリレーションシップセレクタを提供します。 |
| タグ    | ユーザーに適用されるタグを入力します。                          |

## 組織プロパティ

組織のプロパティは、セグメントに含める組織の選択可能なリストです。 これらは、 **名前** や **更新日** のような、ユーザー選択と同様の条件を含んでいます。 これらの組織特性が利用できる：

| プロパティ   | 説明                            |
| :------ | :---------------------------- |
| 変更日     | 組織情報が最後に変更された日付を入力します。        |
| 名前ツリーパス | 先祖の組織名を入力する。                  |
| 名前      | 組織名を入力してください。                 |
| 組織      | 特定の組織を選択する。                   |
| 親組織     | 特定の親団体を選択する。                  |
| 種類      | 組織の種類が定義されている場合は、組織の種類を選択します。 |

Liferay DXP 7.2 SP2+から、これらのプロパティは組織でも利用できるようになりました：

| プロパティ    | 説明                     |
| :------- | :--------------------- |
| 国        | 組織に関連する特定の国を選択します。     |
| 地域(都道府県) | 組織に接続されている特定の地域を選択します。 |
| タグ       | 組織に適用されるタグを入力します。      |

## セッションプロパティ

セッション・プロパティには、ユーザーのアクティビティ、ブラウザ、およびシステム情報に基づく基準が含まれています。 これを使用して、ユーザーのデバイスまたはOSをターゲットにしたり、ユーザーが特定のキャンペーン主導のランディングページからWebサイトにアクセスした場合などのアクティビティベースの基準に使用したりできます。 これらのセッション・プロパティが利用できる：

| プロパティ          | 説明                       |
| :------------- | :----------------------- |
| ブラウザ           | ブラウザからプロパティを入力します。       |
| Cookie         | ブラウザのCookieの名前を入力します。    |
| デバイスのブランド      | 使用しているデバイスのブランド名を入力します。  |
| デバイスのモデル       | 使用しているデバイスのモデル名を入力します。   |
| デバイスの画面解像度（高さ） | 画面解像度の高さの値を入力します。        |
| デバイスの画面解像度（幅）  | 画面解像度の幅の値を入力します。         |
| 言語             | 現在の言語を選択します。             |
| 最終ログイン日        | ユーザーの最終サインイン日を選択します。     |
| 現地時間           | ユーザーがいる現在の日付を選択します。      |
| リファラーURL       | ユーザーが最後にアクセスしたURLを入力します。 |
| ログイン済み         | ユーザーがログインしているかどうかを選択します。 |
| URL            | 現在のURLを入力します。            |
| ユーザーエージェント     | ユーザーエージェントプロパティを入力します。   |

Liferay DXP 7.2 SP2+ 以降、これらのプロパティはセッションでも使用できます：

| プロパティ      | 説明                     |
| :--------- | :--------------------- |
| ホスト名       | 仮想ホスト名を入力します。          |
| リクエストパラメータ | リクエストパラメータの名前と値を入力します。 |

Liferay DXP 7.4 U42+/GA42+ からは、以下のプロパティもセッションで使用できるようになりました：

| プロパティ          | 説明                       |
| :------------- | :----------------------- |
| IP Geocoder の国 | ユーザーのIPアドレスと一致する国を選択します。 |

## セグメントプロパティ

> 対応可能：Liferay DXP/Portal 7.3以降

segments プロパティを使うと、既存のセグメントを組み合わせて新しい複合セグメントを作ることができます。 複合セグメントは、ベースとなるセグメントからプロパティを継承し、自動的にメンバを更新します。 詳細は、 [Compound Segments](./creating-and-managing-user-segments.md#compound-segments) を参照してください。

## 関連トピック

* [ユーザーセグメントの作成と管理](./creating-and-managing-user-segments.md)
* [ジオロケーション別セグメント](./segmentation-by-geolocation.md)
* [経験の創造と管理](../experience-personalization/creating-and-managing-experiences.md)
