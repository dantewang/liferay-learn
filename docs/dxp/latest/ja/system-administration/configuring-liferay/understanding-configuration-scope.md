# 設定スコープについて

Liferay DXPのサービスとアプリケーションの設定は、4つのレベルのいずれか、または _スコープ_（システム、仮想インスタンス、サイト、またはウィジェット）で適用されます。 システム設定で行われた設定は、システムスコープレベルで設定されます。 システム以外のラベルが付いたスコープの場合、システム設定値がデフォルトとして機能します。 つまり、システム全体の設定がオーバーライドされる場所を特定します。 真のシステムスコープの設定（カテゴリの _システムスコープ_ 見出しの下にあるもの）は、どこでもオーバーライドされません。


<!-- Ideally, I think it would be more helpful for the below image to be a diagram that represents the relationship scopes have to one another. --> ![一部のシステム設定カテゴリは、複数のスコープのエントリを保持します。](./understanding-configuration-scope/images/02.png)

## スコープ定義

**システムスコープ：** システムスコープのエントリに対して行われた設定は、システム全体でのアプリケーションの最終的な値です。 それらはシステム全体に影響を及ぼし、他の場所ではオーバーライドされません。

![一部のシステム設定エントリーは、システムスコープです。](./understanding-configuration-scope/images/01.png)

**仮想インスタンススコープ：** 仮想インスタンスレベルでの設定は、インスタンス設定でオーバーライドされます。

![一部のシステム設定は仮想インスタンススコープです。](./understanding-configuration-scope/images/05.png)

**サイトスコープ：** このスコープでの設定は、各サイトでオーバーライドされます。

![一部のシステム設定はサイトスコープです。](./understanding-configuration-scope//images/03.png)

**ウィジェットスコープ：** このスコープでの設定は、各ウィジェットインスタンスでオーバーライドされます。

![一部のシステム設定エントリはウィジェットスコープです。](./understanding-configuration-scope/images/04.png)

## 例：ブログのコメントの設定とオーバーライド

システム設定で変更された設定が別のスコープでも設定可能な場合、システム設定値はオーバーライド可能なデフォルトです。 より詳細なスコープで設定の変更が行われると、システムレベルでの変更は何もしません。

たとえば、コメントの許可はブログウィジェットごとに設定できます。

1. ［コントロールパネル］&rarr;［設定］&rarr;［システム設定］&rarr;［Blogs］（コンテンツおよびデータカテゴリ内）でデフォルトの動作を設定します。
1. ウィジェットスコープの下のブログエントリで、［ *コメントを有効にする* ］チェックボックスをオフにします。
1. サイトの［コンテンツ&データ］&rarr;［Blogs］アプリケーションにブログエントリーを追加します。
1. パブリックページに移動し、ブログウィジェットをページに追加します。
1. ウィジェットの［オプション］ボタン（![Options](../../images/icon-app-options.png)）をクリックし、［ *構成*］を選択します。

同じ［Enable Comments］チェックボックスが表示され、デフォルトはfalse（オフ）になっています。 ポートレット設定のボックスをチェックすると、システム設定エントリーがオーバーライドされます。 システム設定の設定を変更しても、このウィジェットには影響がありません。

![ウィジェット自体からウィジェットスコープのシステム設定をオーバーライドします。](./understanding-configuration-scope/images/06.png)

## システム設定とインスタンス設定

インスタンス設定システム設定に似ていますが、仮想インスタンススコープでアプリケーションとサービスを設定します。 システム設定と同様に、インスタンス設定の設定エントリーに、 *デフォルト値にリセット* するオプションがあります。 これにより、インスタンス設定で、指定したカスタム構成が削除され、システムスコープの現在の値（デフォルトまたはカスタム）が仮想インスタンススコープのデフォルトになります。