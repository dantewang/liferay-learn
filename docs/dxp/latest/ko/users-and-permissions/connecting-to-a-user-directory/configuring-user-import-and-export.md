# 사용자 가져오기 및 내보내기 구성

가져오기/내보내기 설정은 LDAP와 Liferay 간의 매핑을 구성하여 두 시스템 간의 사용자를 일치시킵니다.

## LDAP 디렉토리에서 사용자 찾기

**인증 검색 필터:** 이 검색 필터 상자를 사용하여 사용자 로그인에 대한 검색 기준을 결정합니다. 기본적으로 Liferay는 로그인 이름으로 사용자의 이메일 주소를 사용합니다. 여기서 값은 사용하는 [인증 유형](../../../installation-and-upgrades/securing-liferay/authentication-basics.md#authentication-types) 을 사용해야 합니다. 예를 들어 이메일 주소 대신 화면 이름을 사용하도록 Liferay의 인증 방법을 변경한 경우 입력한 로그인 이름과 일치하도록 검색 필터를 수정해야 합니다.

```
(cn=@screen_name@)
```

**검색 필터 가져오기:** LDAP 스키마에 따라 사용자를 식별하는 방법이 다릅니다. 기본 설정은 일반적으로 좋습니다.

```
(객체 클래스=inetOrgPerson)
```

LDAP 개체 클래스가 다른 사용자 또는 사용자의 하위 집합만 검색하려는 경우 이를 변경할 수 있습니다.

## Liferay 필드에 LDAP 사용자 속성 매핑

다음으로 LDAP 속성에서 Liferay 필드로의 매핑을 정의할 수 있습니다. LDAP 사용자 속성은 LDAP 서버마다 다를 수 있지만 사용자를 인식하기 위해 Liferay가 매핑해야 하는 5개의 필드가 있습니다.

* *화면 이름* (예: `uid` 또는 `cn`)
* *비밀번호* (예: `userPassword`)
* *이메일 주소* (예: `메일` 또는 `이메일`)
* *이름* (예: `이름` 또는 `givenName`)
* *성* (예: `sn`)

```{note}
이메일 주소가 없는 사용자를 생성하거나 가져오려면 `portal-ext.properties`에서 `users.email.address.required=false`를 설정해야 합니다. 이 설정을 사용하면 Liferay는 사용자 ID와 `users.email.address.auto.suffix=` 속성에 정의된 접미사를 결합한 이메일 주소를 자동으로 생성합니다. 마지막으로 Liferay 및 LDAP 인증을 이메일 주소가 아닌 다른 것으로 설정해야 합니다.
```

LDAP 그룹을 Liferay 사용자 그룹으로 가져오려면 구성원 정보가 보존되도록 Liferay 그룹 필드에 대한 매핑을 정의해야 합니다.

* *그룹* (예: *멤버*)

다른 LDAP 사용자 매핑 필드는 선택 사항입니다.

제어판은 일반적으로 사용되는 LDAP 속성에 대한 기본 매핑을 제공합니다. 고유한 매핑을 추가할 수도 있습니다.

**테스트 LDAP 사용자:** 속성 매핑을 설정했으면(위 참조) *테스트 LDAP 사용자* 버튼을 클릭하면 Liferay가 LDAP 사용자를 끌어와 매핑과 미리 보기로 일치시키려고 시도합니다.

![Test LDAP Users 버튼을 클릭하면 사용자 목록이 표시되어야 합니다.](./configuring-user-import-and-export/images/01.png)

## Liferay 사용자 그룹에 LDAP 그룹 매핑

이 섹션에는 LDAP 그룹을 Liferay 사용자 그룹에 매핑하기 위한 설정이 포함되어 있습니다.

**검색 필터 가져오기:** LDAP 그룹을 Liferay 사용자 그룹에 매핑하기 위한 필터입니다. 예를 들어,

```
(objectClass=groupOfNames)
```

이 매핑에 대해 검색하려는 LDAP 그룹 속성을 입력합니다. 다음 특성을 매핑할 수 있습니다. *그룹 이름* 및 *사용자* 필드는 필수이며 *설명* 는 선택 사항입니다.

* *그룹 이름* (예: `cn` 또는 `o`)
* *설명* (예: `설명`)
* *사용자* (예: `멤버`)

**LDAP 그룹 테스트:** *LDAP 그룹 테스트* 버튼을 클릭하여 검색 필터에서 반환된 그룹 목록을 표시합니다.

## 내보내기

이 섹션에는 Liferay 사용자 데이터를 LDAP로 내보내기 위한 설정이 포함되어 있습니다.

**사용자 DN:** 사용자가 저장된 LDAP 트리의 위치를 입력합니다. Liferay는 사용자를 이 위치로 내보냅니다.

**사용자 기본 개체 클래스:** 나열된 기본 개체 클래스와 함께 사용자를 내보냅니다. 기본 개체 클래스가 무엇인지 알아보려면 Apache Directory Studio와 같은 LDAP 브라우저 도구를 사용하여 사용자를 찾고 해당 사용자에 대해 LDAP에 저장된 개체 클래스 속성을 봅니다.

**그룹 DN:** 그룹이 저장된 LDAP 트리의 위치를 입력합니다. Liferay는 내보내기를 수행할 때 그룹을 이 위치로 내보냅니다.

**그룹 기본 개체 클래스:** 그룹을 내보내면 나열된 기본 개체 클래스로 그룹이 생성됩니다. 기본 객체 클래스가 무엇인지 알아보려면 [Apache Directory Studio](https://directory.apache.org/studio) 과 같은 LDAP 브라우저 도구를 사용하여 그룹을 찾고 해당 그룹에 대해 LDAP에 저장된 객체 클래스 속성을 봅니다.

모든 옵션을 설정하고 연결을 테스트했으면 *저장*을 클릭합니다.

```{note}
사용자가 Liferay에서 암호와 같은 값을 변경하면 Liferay가 변경할 수 있는 충분한 스키마 액세스 권한이 있는 경우 해당 변경 사항이 LDAP 서버로 전달됩니다.
```

이제 LDAP 서버를 Liferay에 연결하는 방법과 사용자 가져오기 동작, 내보내기 동작 및 기타 LDAP 설정을 구성하는 방법을 알게 되었습니다. 다른 구성 가능한 옵션이 있습니다. [LDAP 구성](./ldap-configuration-reference.md) 에 설명되어 있습니다.
