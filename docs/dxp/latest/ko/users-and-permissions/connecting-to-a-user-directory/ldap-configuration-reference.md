# LDAP 구성 참조

LDAP 구성 설정에 액세스하려면 **제어판 &rarr; 구성** &rarr; **인스턴스 설정** &rarr; **보안** &rarr; **LDAP** 로 이동합니다. 왼쪽에는 내보내기, 일반, 가져오기 및 서버의 네 가지 범주가 있습니다.

## 내보내기

**내보내기 활성화:** 사용자 계정을 LDAP로 내보내려면 이 상자를 선택합니다. 리스너는 `사용자` 개체에 대한 변경 사항을 추적하고 `사용자` 개체가 수정될 때마다 LDAP 서버에 업데이트를 푸시합니다. 기본적으로 로그인할 때마다 `lastLoginDate` 과 같은 필드가 업데이트됩니다. 내보내기가 활성화되면 사용자가 로그인할 때마다 사용자 내보내기가 발생합니다. `portal-ext.properties` 파일에서 다음 특성을 설정하여 사용자의 `lastLoginDate` 필드 업데이트가 LDAP 사용자 내보내기를 트리거하지 않도록 할 수 있습니다.

```properties
users.update.last.login=false
```

**그룹 내보내기 활성화:** 그룹을 LDAP로 내보냅니다.

![내보내기 탭.](./ldap-configuration-reference/images/01.png)

## 일반

**활성화됨:** LDAP 인증을 활성화하려면 이 상자를 선택합니다.

**필수:** LDAP 인증이 필요한 경우 이 상자를 선택하십시오. 사용자는 LDAP 디렉터리에 성공적으로 바인딩할 수 없으면 로그인할 수 없습니다. Liferay 계정이 있지만 LDAP 계정이 없는 사용자가 로그인할 수 있는 경우 이 상자를 선택 취소하십시오.

**LDAP 암호 정책 사용:** Liferay는 기본적으로 자체 암호 정책을 사용합니다. 이는 제어판의 암호 정책 페이지에서 구성할 수 있습니다. LDAP 디렉토리에서 정의한 비밀번호 정책을 사용하려면 **LDAP 비밀번호 정책** 사용 상자를 선택하십시오. 이 기능이 활성화되면 암호 정책 탭에 로컬 암호 정책을 사용하고 있지 않다고 표시됩니다. 이제 비밀번호 정책을 설정하기 위해 LDAP 디렉토리의 메커니즘을 사용해야 합니다. Liferay는 이러한 정책을 시행할 수 없습니다. 할 수 있는 최선은 LDAP 서버에서 반환된 메시지를 통과하는 것입니다. 서버가 반환하는 LDAP 컨트롤의 메시지를 구문 분석하여 이를 수행합니다. Liferay의 기본 구성은 Fedora Directory Server에서 반환된 메시지를 구문 분석합니다. 다른 LDAP 서버를 사용하는 경우 **시스템 설정** &rarr; **보안** &rarr; **LDAP** &rarr; **연결** 에서 메시지를 사용자 지정해야 합니다.

**방법:** 선택 **바인드**(기본값) 또는 **암호 비교** . 바인딩은 표준 LDAP 바인딩을 수행합니다. 비밀번호 비교는 아래 필드에 지정된 암호화 알고리즘을 사용하여 Liferay와 LDAP 비밀번호를 비교하려고 시도합니다. 비밀번호 비교는 거의 사용되지 않습니다.

**암호 암호화 알고리즘:** 암호 비교 바인드 방법을 사용하는 경우 비교할 수 있도록 LDAP 서버가 암호를 암호화하는 데 사용하는 암호 암호화 알고리즘을 선택합니다. 이것은 거의 사용되지 않습니다.

![일반 구성 탭.](./ldap-configuration-reference/images/02.png)

## 가져오기

다음 옵션을 사용하여 LDAP 디렉토리에서 사용자 데이터를 가져올 수 있습니다.

**가져오기 사용:** LDAP 디렉토리에서 대량 가져오기를 수행하려면 이 상자를 선택하십시오. 그렇지 않으면 로그인할 때 사용자를 가져옵니다.

![Ziltoid와 Rex는 로그인했기 때문에 가져왔습니다.](./ldap-configuration-reference/images/03.png)

**시작 시 가져오기 활성화:** Liferay가 시작될 때 대량 가져오기를 수행하려면 이 상자를 선택합니다. 참고: 이 상자는 위에서 설명한 대로 **가져오기** 활성화 를 선택한 경우에만 나타납니다. Liferay 클러스터가 있는 경우 반드시 선택하지 않은 상태로 두십시오. 그렇지 않으면 각 노드가 시작될 때 모든 노드가 대량 가져오기를 수행합니다.

**가져오기 간격:** 사용자를 대량으로 가져올 때 X분마다 사용자를 가져옵니다.

**가져오기 방법:** 사용자 또는 그룹을 설정합니다. 이것을 사용자로 설정하면 Liferay는 서버 연결에 지정된 사이트에서 모든 사용자를 가져옵니다. 이것을 그룹으로 설정하면 Liferay는 모든 그룹을 검색하고 각 그룹의 사용자를 가져옵니다. 어떤 그룹에도 속하지 않은 사용자가 있는 경우 가져오지 않습니다.

**잠금 만료 시간:** LDAP 사용자 가져오기에 대한 계정 잠금 만료 시간을 설정합니다. 기본값은 하루입니다.

**사용자 동기화 전략 가져오기:** 사용자 계정을 동기화하는 데 사용되는 전략을 설정합니다. 옵션은 인증 유형(예: 화면 이름과 같은 사용자 인증 방식)과 UUID(LDAP에서 UUID 속성 필요)입니다.

**가져올 때 사용자 비밀번호 활성화:** LDAP에서 사용자를 가져올 때 기본 비밀번호를 지정합니다. 이 암호는 자동으로 생성될 수 있습니다(아래 참조).

**가져오기 시 사용자 암호 자동 생성:** 사용자 가져오기 시 임의 암호를 생성합니다.

**기본 사용자 암호:****가져오기** 에서 사용자 암호 활성화 및 **가져오기** 에서 사용자 암호 자동 생성이 비활성화된 경우 여기에 입력된 암호를 사용합니다.

**가져올 때 그룹 캐시 활성화:** 가져오기가 데이터베이스 액세스로 인해 느려지지 않도록 가져온 그룹을 캐시합니다.

**가져오기 시 그룹당 역할 만들기:** 모든 LDAP 그룹에 대해 해당 Liferay 역할을 만듭니다.

![가져오기 화면에는 위의 옵션이 포함되어 있습니다.](./ldap-configuration-reference/images/04.png)

## 서버

**LDAP 서버:** Liferay는 여러 LDAP 서버에 대한 연결을 지원합니다. **추가** 버튼을 사용하여 LDAP 서버를 추가합니다.

**서버 이름:** LDAP 서버의 이름을 입력합니다.

**기본값:** 여러 공통 디렉토리 서버가 여기에 나타납니다. 이 중 하나를 사용하는 경우 이를 선택하여 나머지 양식을 해당 디렉터리의 기본값으로 채웁니다.

이러한 설정은 LDAP에 대한 연결을 다룹니다.

**기본 공급자 URL:** LDAP 서버에 대한 링크입니다. Liferay 서버가 LDAP 서버와 통신할 수 있는지 확인하십시오. 두 시스템 사이에 방화벽이 있는 경우 적절한 포트가 열려 있는지 확인하십시오.

**기본 DN:** 일반적으로 조직을 따라 모델링된 LDAP 디렉토리의 기본 고유 이름입니다. 다음과 같을 수 있습니다. `dc=companynamehere,dc=com`.

**프린시펄:** 기본 LDAP 관리자 사용자 ID가 여기에 채워집니다. 관리자 ID가 다른 경우 해당 자격 증명을 대신 사용하십시오. Liferay는 이 ID를 사용하여 LDAP와 사용자 계정을 동기화하기 때문에 관리 자격 증명이 필요합니다.

**자격 증명:** LDAP 관리 사용자의 비밀번호를 입력합니다.

![새 LDAP 서버를 추가하려면 몇 가지 옵션만 정의하면 됩니다.](./ldap-configuration-reference/images/05.png)

LDAP 구성을 마치면 **저장** 버튼을 클릭합니다.

### 시스템 설정에서 사용할 수 있는 LDAP 옵션

대부분의 LDAP 구성은 인스턴스 설정에서 수행할 수 있지만 시스템 설정에서만 사용할 수 있는 몇 가지 매개변수가 있습니다. 인스턴스 설정의 설정과 중복된 설정도 있습니다. 이는 새 가상 인스턴스에 대한 **기본** 설정을 변경합니다(아래 참고 참조).

```{note}
시스템 설정을 변경하면 현재 가상 인스턴스에 영향을 미칩니다. 설정을 변경한 후 새 가상 인스턴스를 생성하면 해당 가상 인스턴스는 생성된 가상 인스턴스의 설정을 기본값으로 상속합니다. 예를 들어 A, B, C라는 가상 인스턴스가 있다고 가정합니다. A에서 *오류 암호 기록 키워드*를 수정합니다. 이 변경 사항은 B 또는 C가 아닌 A에만 나타납니다. 그런 다음 A에서 가상 인스턴스 D를 생성합니다. *오류 암호 기록 키워드*에 대한 변경 사항은 D(B 또는 C가 아님)에 나타납니다. A에서 만들었습니다.
```

이러한 옵션을 변경해야 하는 경우 **제어판** &rarr; **구성** &rarr; **시스템 설정** 으로 이동하십시오. **보안** 섹션으로 이동하여 제목에 LDAP가 있는 항목을 찾으십시오. 여기서 유일한 새 설정은 **연결** 항목에 있습니다.

**연결** 항목을 사용하여 LDAP 서버에서 반환될 수 있는 오류 메시지의 구문 목록을 설정할 수 있는 **오류 암호 수명 키워드** 과 같은 오류 속성을 관리합니다. 사용자가 LDAP에 바인딩하면 서버는 성공 또는 실패에 대한 응답과 함께 **컨트롤** 을 반환합니다. 이러한 컨트롤에는 오류를 설명하는 메시지 또는 응답과 함께 반환되는 정보가 포함됩니다. 컨트롤은 LDAP 서버 전체에서 동일하지만 메시지는 다를 수 있습니다. 여기에 설명된 속성에는 해당 메시지의 단어 스니펫이 포함되어 있으며 Red Hat의 Fedora Directory Server와 함께 작동합니다. 해당 서버를 사용하지 않는 경우 단어 스니펫이 LDAP 서버에서 작동하지 않을 수 있습니다. 그렇지 않은 경우 이러한 속성의 값을 서버 오류 메시지의 구문으로 바꿀 수 있습니다. 이를 통해 Liferay가 이를 인식할 수 있습니다.
