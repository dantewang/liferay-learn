# 감사 구성 참조

감사에 대한 구성 설정은 시스템 범위에서 사용할 수 있습니다. 이러한 설정은 **글로벌 메뉴**(![Global Menu](../../images/icon-applications-menu.png))를 열고 **제어판** &rarr; **시스템 설정** &rarr; **감사** 로 이동하여 찾을 수 있습니다.

## 감사

![인스턴스에 대한 감사 로깅을 완전히 사용하거나 사용하지 않도록 설정합니다.](./audit-configuration-reference/images/01.png)

이 확인란을 사용하여 Liferay 인스턴스에 대한 감사를 완전히 활성화 또는 비활성화할 수 있습니다. 감사를 사용하도록 설정한 경우 **메시지 최대 대기열 크기 감사** 필드를 기본값에서 조정할 수 있습니다.

## CSV 로깅 메시지 포맷

![내보낸 CSV 파일의 열 수를 제어합니다.](./audit-configuration-reference/images/02.png)

이를 사용하여 감사 이벤트의 CSV 내보내기에 있는 열을 정의할 수 있습니다. 새 열은 추가할 수 없습니다. 존재하는 항목만 제거하거나 제거한 후 다시 추가할 수 있습니다.

## 로깅 메시지 감사 메시지 프로세서

![Liferay DXP의 로그 및 콘솔에 이벤트 로깅을 활성화합니다.](./audit-configuration-reference/images/03.png)

다음 단계에 따라 Liferay DXP의 로그 및 콘솔에서 로그 이벤트 보고를 구성합니다:

1. **활성화됨** 확인란을 선택하여 Liferay DXP 로그에서 감사 이벤트를 보고합니다.

1. **콘솔로 출력** 확인란을 선택하여 콘솔에서 감사 이벤트를 보고합니다.

1. **로그 메시지 형식** 드롭다운에서 감사 이벤트의 형식(CSV 또는 JSON)을 선택합니다.

1. **저장** 을 클릭합니다.

## 영구 메시지 감사 메시지 프로세서

![감사 로그를 데이터베이스에 기록하려면 이 설정을 활성화합니다.](./audit-configuration-reference/images/04.png)

감사 메시지를 데이터베이스에 기록하려면 이 설정을 활성화합니다. 인터페이스는 데이터베이스의 데이터를 사용하여 감사 메시지를 렌더링합니다. 이 기능을 비활성화하면 인터페이스가 비어 있습니다.

## 감사 로그 컨텍스트

![Log4J 로그에 추가 감사 정보를 추가합니다.](./audit-configuration-reference/images/05.png)

이를 사용하여 Log4J에서 작성된 모든 로그 메시지에 감사 정보를 JSON 형식으로 추가할 수 있습니다. 이를 활성화하고 XML 파일을 통해 Log4J 로깅을 구성해야 합니다.

**수신 X- 요청 ID 사용** 을 활성화하면 클라이언트는 `X- 요청 ID` 헤더를 보낼 수 있으며, Liferay는 모든 로그 문에 이 값을 태그합니다. 이를 통해 여러 시스템을 통해 특정 요청을 추적할 수 있습니다.

## 예약된 작업에 대한 감사 이벤트 구성하기

기본적으로 Liferay의 예약된 작업은 감사 이벤트를 트리거하지 않습니다. 변경하려면,

1. **글로벌 메뉴**(![Global Menu](../../images/icon-applications-menu.png))를 열고 **제어판** &rarr; **시스템 설정** 으로 이동합니다.

1. **플랫폼** 섹션에서 **인프라** 을 선택합니다.

1. 왼쪽의 **시스템 범위** 에서 **스케줄러 엔진 도우미** 를 선택합니다.

1. **감사 스케줄러 작업 사용** 확인란을 활성화합니다.

1. **저장** 을 클릭합니다.

## 관련 주제

* [감사 이벤트 검색 및 내보내기](./searching-and-exporting-audit-events.md)
