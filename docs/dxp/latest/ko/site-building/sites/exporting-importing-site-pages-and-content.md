# 사이트 페이지 및 콘텐츠 내보내기/가져오기

Liferay 사이트에는 사이트 데이터를 추출하여 Liferay 아카이브(LAR) 파일로 전송하기 위한 내보내기/가져오기 애플리케이션이 포함되어 있습니다. 사이트 수준에서 이러한 도구에 액세스할 수 있습니다.

```{note}
또한 개별 사이트 애플리케이션 및 [페이지 위젯](../페이지 만들기/페이지 조각 및 위젯/위젯 사용/위젯 구성/위젯 내보내기/위젯 데이터 가져오기) 에 대한 내보내기 및 가져오기 기능에 액세스할 수도 있습니다.
```

## 사이트 LAR 속성 및 요구 사항

LAR에는 이러한 속성과 요구 사항이 있습니다:

* LAR은 버전에 따라 다릅니다. 각 서버의 Liferay 버전이 동일하다면 다른 Liferay 서버에 있는 사이트로 가져올 수 있습니다.

* 일부 이름 충돌은 자동으로 처리됩니다. 예를 들어 가져오려는 LAR과 사이트에 모두 동일한 친숙한 URL을 가진 페이지가 있는 경우, 친숙한 URL에 숫자가 추가되고 충돌이 더 이상 발생하지 않을 때까지 숫자가 증가합니다. 카테고리 이름도 마찬가지입니다.

* LAR을 사용하여 사이트를 복원할 수 있지만 사이트를 완전히 삭제한 다음 같은 이름으로 새 사이트를 만들어 LAR을 가져와야 합니다. 이렇게 하면 LAR과 사이트에 모두 존재하는 콘텐츠 간의 잠재적인 데이터 충돌을 방지할 수 있습니다.

```{important}
주기적으로 LAR을 내보내는 것은 백업 솔루션이 아니며, 두 환경 간에 데이터를 마이그레이션하는 용도로만 사용해야 합니다. Liferay 포털 설치 백업하기](../../설치-업그레이드/유지관리/백업.md)를 참조하여 Liferay 설치 백업에 대해 알아보세요.
```

## 사이트 페이지 및 콘텐츠 내보내기

사이트 페이지와 콘텐츠를 내보내려면 다음 단계를 따르세요:

1. **제품 메뉴**(![Product Menu](../../images/icon-product-menu.png))를 열고 **게시** 를 확장한 다음 **내보내기** 를 클릭합니다.

1. **추가**(![Add Button](../../images/icon-add.png))를 클릭하여 새 내보내기 프로세스를 만듭니다.

   내보내기 템플릿이 열립니다.

   ![내보내기 템플릿의 이름을 지정하고 구성합니다.](./exporting-importing-site-pages-and-content/images/01.png)

1. 내보내기 프로세스의 제목을 입력합니다.

1. 내보내려는 사이트 페이지와 콘텐츠를 선택하여 내보내기 프로세스를 구성합니다.

   **페이지** 에서 내보내기에 포함할 페이지 및 페이지 세트를 선택할 수 있습니다. 테마 설정, 로고, 사이트 페이지 설정, 사이트 템플릿 설정의 포함 여부도 결정할 수 있습니다.

   **콘텐츠** 에서 내보내기에 포함할 애플리케이션을 선택할 수 있습니다. 선택한 애플리케이션의 모든 데이터를 내보낼지, 아니면 포함된 애플리케이션 데이터를 날짜 또는 시간별로 필터링할지 결정할 수도 있습니다.

   **권한** 에서 내보내기에 페이지 및 콘텐츠 권한을 포함할지 여부를 결정합니다.

1. **내보내기** 를 클릭하여 내보내기 프로세스를 시작합니다.

완료되면 **다운로드** 버튼(![Download Button](../../images/icon-download.png))을 클릭하여 생성된 LAR 파일을 다운로드합니다. 이제 LAR을 다른 Liferay 사이트로 가져올 수 있습니다.

![LAR 파일을 다운로드합니다.](./exporting-importing-site-pages-and-content/images/02.png)

```{note}
생성된 LAR에는 내보내기 구성 중에 선택한 모든 데이터가 포함됩니다. 개인 정보 또는 민감한 정보가 포함된 경우, LAR 파일을 안전한 사이트에 저장해야 합니다.
```

## 사이트 페이지 및 콘텐츠 가져오기

```{important}
내보낸 사이트에서 템플릿을 사용하는 경우 사이트를 가져오기 전에 먼저 사이트 템플릿을 내보낸 후 Liferay 설치로 가져와야 합니다. 자세한 내용은 [사이트 템플릿 내보내기 및 가져오기](./site-templates/exporting-importing-site-templates.md)를 참조하세요.
```

사이트 페이지와 콘텐츠를 가져오려면 다음 단계를 따르세요:

1. **제품 메뉴**(![Product Menu](../../images/icon-product-menu.png))를 열고 **게시** 를 확장한 다음 **가져오기** 를 클릭합니다.

1. **추가** 버튼(![Add Button](../../images/icon-add.png))을 클릭하여 새 가져오기 프로세스를 생성합니다.

1. 원하는 LAR 파일을 추가하고 **계속하기** 을 클릭합니다.

   ![LAR 파일을 추가하고 계속을 클릭합니다.](./exporting-importing-site-pages-and-content/images/03.png)

1. 가져오기 프로세스를 검토하고 구성합니다.

1. **가져오기** 를 클릭하여 가져오기를 시작합니다.

   ![가져오기 프로세스를 구성하고 시작합니다.](./exporting-importing-site-pages-and-content/images/04.png)

## 내보내기 템플릿 만들기

사이트 페이지 콘텐츠를 내보낼 때마다 내보내기 프로세스를 수동으로 만드는 대신 내보내기 템플릿을 만들어 내보내기 설정을 저장하고 재사용할 수 있습니다. 내보내기 템플릿을 만들려면 다음 단계를 따르세요:

1. **제품 메뉴**(![Product Menu](../../images/icon-product-menu.png))를 열고 **게시** 를 확장한 다음 **내보내기** 를 클릭합니다.

1. 애플리케이션 바에서 **옵션** ![Options Icon](../../images/icon-options.png) 을 클릭하고 **템플릿 내보내기** 를 선택합니다.

   ![애플리케이션 표시줄에서 작업 버튼을 클릭하고 템플릿 내보내기를 선택합니다.](./exporting-importing-site-pages-and-content/images/05.png)

1. **클릭** 추가 (![Add Button](../../images/icon-add.png)).

1. 내보내기 템플릿의 이름을 지정하고 구성합니다.

1. **저장** 을 클릭합니다.

이제 [새 내보내기 프로세스를 생성할 때 템플릿을 선택할 수 있습니다](#exporting-site-pages-and-content) .

## 내보내기/가져오기 프로세스 구성

Liferay는 내보내기/가져오기 프로세스를 구성하고 특정 기능을 스테이징하기 위한 설정을 제공합니다. 이러한 설정은 스테이징 및 사이트 템플릿 전파에 영향을 줍니다.

| 설정              | 묘사                                                                                                                                                                     |
|:--------------- |:---------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 모든 자산 링크 포함     | 이 옵션을 선택하면 지정된 날짜 범위 내의 사이트에서 모든 자산 링크가 포함됩니다. 이 옵션을 선택하지 않으면 콘텐츠에 연결된 에셋 링크만 포함됩니다.                                                                                   |
| 기본적으로 개별 삭제 복제  | 이 옵션을 선택하면 콘텐츠 유형에 대해 수행된 삭제 작업이 기본적으로 항상 대상 사이트에 복제됩니다.                                                                                                               |
| 기본으로 권한 퍼블리싱    | 이 옵션을 선택하면 내보낸 페이지 및 개별 포틀릿 창에 할당된 권한이 항상 기본적으로 포함됩니다.                                                                                                                 |
| 파일 항목 확인        | 이 옵션을 선택하면 텍스트가 포함된 콘텐츠 유형을 게시하거나 가져오면 Liferay가 콘텐츠에 문서 링크가 있는지 확인하고 유효한 문서를 가리키는지 확인합니다.                                                                              |
| 저널 피드 참조 유효성 검사 | 이 옵션을 선택하면 텍스트가 포함된 콘텐츠 유형을 게시하거나 가져오면 Liferay에서 콘텐츠에 웹 콘텐츠 피드에 대한 참조가 있는지 확인하고 유효한 피드를 가리키는지 확인합니다.                                                                   |
| 레이아웃 참조 유효성 검사  | 이 옵션을 선택하면 텍스트가 포함된 콘텐츠 유형을 게시하거나 가져오면 Liferay가 콘텐츠에서 포털의 가상 호스트 중 하나에 대한 링크를 확인하고 해당 링크가 유효한 Liferay 페이지를 가리키는지 확인합니다. 가상 호스트에 Liferay에 없는 페이지가 있는 경우 이 옵션을 선택 취소합니다. |
| 누락된 참조 유효성 검증   | 이 옵션을 선택하면 게시 및 가져오기 프로세스에서 Liferay가 누락된 참조가 있는지 확인합니다. 이 옵션을 선택하지 않으면 누락된 참조 유효성 검사가 건너뜁니다. 따라서 기존 타깃이 없는 참조를 대상 사이트에 게시하거나 가져올 수 있습니다.                               |

## 관련 주제

* [사이트 추가](./adding-a-site.md)
* [사이트 템플렛](./site-templates.md)
* [사이트 템플릿 내보내기/가져오기](./site-templates/exporting-importing-site-templates.md)
