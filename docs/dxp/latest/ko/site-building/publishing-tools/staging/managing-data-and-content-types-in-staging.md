# 스테이징에서 데이터 및 콘텐츠 유형 관리

Liferay DXP의 스테이징 도구는 초기 구성 및 게시 프로세스 중에 사용 가능한 애플리케이션 데이터 및 콘텐츠 유형을 관리하는 방법을 제공합니다. 응용 프로그램과 콘텐츠 유형 간에는 많은 관계가 있을 수 있으므로 범주를 준비하거나 준비 해제하기로 결정하기 전에 데이터베이스에서 서로를 참조하는 방법을 고려해야 합니다.

```{important}
Liferay Commerce는 스테이징을 지원하지 않습니다. 게시 프로세스 중에 Commerce의 엔터티는 준비되지 않습니다. 
```

## 데이터 및 콘텐츠 유형 준비

스테이징 구성의 일부로 스테이징할 애플리케이션 데이터 및 콘텐츠 유형을 선택할 수 있습니다. 스테이징된 경우 선택한 데이터 및 콘텐츠는 포함된 모든 엔터티와 함께 스테이징 환경에서 관리되며 Live에서 직접 편집하지 못할 수 있습니다.

![준비할 애플리케이션 데이터 및 콘텐츠 유형을 선택합니다.](./managing-data-and-content-types-in-staging/images/01.png) 스테이징으로 작업할 때 사이트에서 사용 중인 애플리케이션과 스테이징에 적합한지 여부를 고려해야 합니다.

* 준비되지 않은 데이터는 사이트의 라이브 환경에만 존재합니다. 준비된 데이터는 두 환경 모두에 존재합니다.
* 게시할 때까지 게시물이 라이브 사이트에 표시되지 않기 때문에 블로그, 게시판 및 Wiki와 같은 공동 작업 응용 프로그램은 준비되지 않아야 합니다.
* 사이트 범위 콘텐츠만 준비할 수 있습니다.
* 페이지 범위 데이터는 게시된 페이지에서만 준비할 수 있습니다. 해당 데이터는 페이지와 함께 게시됩니다.
* 사이트에서 애플리케이션을 비활성화/제거했지만 스테이징 구성에서 여전히 선택되어 있는 경우 여전히 게시되며 Asset Publisher와 같은 집계 앱에 나타날 수 있습니다.
* Staged Site의 Asset Publisher는 Unstaged 앱의 데이터에 액세스할 수 없습니다. 해당 데이터는 Live Site에만 존재하기 때문입니다. 자산 게시자의 구성이 스테이징된 앱과 스테이징되지 않은 앱 모두의 데이터를 표시하는 경우 스테이징된 사이트와 라이브 사이트 모두에서 동일하게 보이지 않습니다.

**스테이징 및 스테이징되지 않은 애플리케이션의 콘텐츠 오리진**

| 컨텐츠 유형              | 단계        | 무대화되지 않은 | 데이터 오리진 스테이징됨 | 데이터 오리진 라이브 |
|:------------------- |:--------- |:-------- |:------------- |:----------- |
| 협업                  |           | &#10004; |               | &#10004;    |
| 사이트 범위              | &#10004;  |          | &#10004;      |             |
| 페이지 범위 앱            | &#10004;* |          | &#10004;      |             |
| 스테이징 구성에서 선택되지 않은 앱 |           | &#10004; |               | &#10004;    |
| 스테이징 구성에서 선택된 앱     | &#10004;  |          | &#10004;      |             |

\ ****페이지가 게시될 때만 게시됨**

```{important}
구성 후 사용자는 애플리케이션 데이터 또는 콘텐츠 유형의 준비 여부를 변경할 수 없습니다. 이는 이 데이터와 콘텐츠를 스테이징 및 언스테이징하면 스테이징 환경과 라이브 환경 간에 불일치가 발생할 수 있기 때문입니다. 이러한 설정을 변경하려면 스테이징을 끄고 새 구성으로 다시 활성화해야 합니다.
```

## 데이터 및 콘텐츠 유형 게시

게시 프로세스 중에 스테이징에서 라이브로 게시되는 애플리케이션 데이터 및 콘텐츠 유형을 구성할 수도 있습니다. **Live에 게시** 메뉴의 **고급** 탭에서 관련 데이터 및 콘텐츠와 함께 각 유형을 볼 수 있습니다.

![스테이징에서 라이브로 게시되는 애플리케이션 데이터 및 콘텐츠 유형을 구성합니다.](./managing-data-and-content-types-in-staging/images/02.png)

여기에서 게시 또는 내보내기 중에 일부 데이터 및 콘텐츠 유형을 제외하여 프로세스 속도를 높일 수 있습니다.

### 버전 전적

웹 콘텐츠는 자주 업데이트되는 경향이 있어 버전 수가 많고 게시 시간이 길어질 수 있습니다. **버전 기록** 을 게시하지 않도록 선택할 수 있습니다. 이 기능을 비활성화하면 각 웹 콘텐츠 기사의 마지막 승인 버전만 Live에 게시됩니다. 이렇게 하면 게시 프로세스의 속도를 크게 높일 수 있습니다.

기본적으로 게시를 위해 버전 기록이 선택되어 있으므로 웹 콘텐츠의 최신 승인 버전만 게시하려면 이 설정을 수동으로 비활성화해야 합니다. 이렇게 하려면 **Control Panel** &rarr; **Configuration** &rarr; **System Settings** &rarr; **Web Content** &rarr; **Virtual Instance Scope** &rarr; **Web Content** 으로 이동하여 **Version History by Default Enabled** 확인란을 토글합니다.

### 미리보기 및 썸네일

문서에 대한 미리보기 및 축소판이 자동으로 생성됩니다. 그러나 사이트에 많은 수의 이미지나 문서가 포함되어 있는 경우 게시 속도를 높이고 사용되는 디스크 공간을 제한하려면 이 기능을 비활성화하는 것이 가장 좋습니다.

파일 미리 보기 및 썸네일 게시 여부는 환경에 따라 다릅니다. 이를 게시하는 것은 무거운 작업이며 원격 스테이징을 사용하는 경우 네트워크를 통해 LAR 파일도 전송해야 합니다. 라이브 사이트에서 미리 보기를 생성하기로 결정한 경우 CPU를 많이 사용하는 작업이므로 시간이 다소 걸릴 수 있음을 이해하십시오.

### 어휘

사이트 내에서 작업할 때 현재 사이트와 글로벌 사이트 모두에서 어휘를 선택할 수 있습니다. 콘텐츠를 만들 때는 문제가 되지 않지만 게시할 때는 문제가 발생할 수 있습니다.

글로벌 및 로컬 어휘를 모두 사용하는 환경의 경우 글로벌 사이트 준비를 통해 글로벌 어휘를 라이브 사이트에 게시해야 합니다. 어휘 혼동을 피하는 한 가지 방법은 모든 어휘를 지역적 또는 전역적으로 유지하는 것입니다. 두 가지를 모두 사용해야 하는 경우 종속성이 로컬인지 글로벌인지 여부에 관계없이 종속성(예: 범주 및 어휘)에 종속된 사이트를 게시하기 전에 종속성(예: 범주 및 어휘)이 게시되었는지 확인하여 문제를 해결할 수 있습니다.

```{note}
태그, 범주, 구조, 템플릿, 위젯 템플릿, 문서 유형 및 동적 데이터 목록과 같은 자산을 상위 사이트에서 하위 사이트로 공유할 수도 있습니다. 이 경우 상위 종속 항목이 문제의 사이트보다 먼저 게시되었는지 확인하십시오.
```

### 삭제

스테이징 프레임워크는 사이트에서 삭제 항목(휴지통에 있는 엔터티 포함)을 수집합니다. 이러한 삭제를 게시하여 라이브 사이트를 정리할 수 있습니다. 나중에 처리할 계획이거나 Live에 남아 있는 데이터가 문제가 되지 않는 경우 처리 중에 실행 시간을 절약하기 위해 이 기능을 끌 수도 있습니다.

## 추가 정보

* [스테이징 개요](../staging.md)
* [게시 프로세스 이해](./understanding-the-publishing-process.md)
* [사이트 준비 UI 참조](./site-staging-ui-reference)
