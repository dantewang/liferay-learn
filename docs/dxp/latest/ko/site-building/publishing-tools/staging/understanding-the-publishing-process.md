# 게시 프로세스 이해

게시는 스테이징 환경에서 변경한 내용을 라이브 환경으로 전송하는 프로세스입니다. 이 프로세스를 이해하면 효율성을 개선하고 원활한 게시 환경을 달성하기 위해 미리 계획하는 데 도움이 됩니다.

* [스테이징 프로세스](#the-staging-process)
* [준비를 위한 사전 계획](#planning-ahead-for-staging)

## 스테이징 프로세스

낮은 수준의 관점에서 스테이징은 동일한 엔터티가 미러링되는 두 사이트 또는 자산 라이브러리 간의 관계입니다. 높은 수준의 관점에서 스테이징에는 내보내기, 유효성 검사 및 가져오기의 세 가지 순차적 단계로 실행되는 게시 프로세스가 포함됩니다.

```{important}
원격 라이브 스테이징과 함께 [사용자 지정 필드](../../../users-and-permissions/users/adding-custom-fields-to-users.md)를 사용하는 경우 새 사용자 지정 필드를 수동으로 내보내고 가져와야 합니다. 게시하기 전에 라이브 환경에. 이는 사용자 정의 필드가 사이트 범위가 아니며 콘텐츠 변경과 함께 자동으로 내보내거나 가져올 수 없기 때문입니다.
```

### 내보내기 단계

내보내기 중에 게시 구성이 처리되고 필요한 참조 엔터티가 수집됩니다. 그런 다음 모든 것이 인스턴스 고유의 파일 형식으로 처리되고 로컬에 저장되거나 원격 라이브 DXP 인스턴스로 전송됩니다.

### 검증 단계

유효성 검사 중에 가져오기 프로세스를 시작할 수 있는지 여부를 결정하기 위해 모든 것을 확인합니다. 여기에는 파일 버전 및 무결성 확인, 추가 시스템 정보(예: 언어 설정) 확인, 파일이 누락된 콘텐츠를 참조하지 않는지 확인이 포함됩니다.

게시 프로세스 중에 확인되지 않은 항목이 있으면 트랜잭션 데이터베이스는 사이트 또는 자산 라이브러리를 원래 상태로 되돌리고 현재 게시 프로세스를 삭제합니다. 이는 불완전한 정보가 게시되지 않도록 보호하기 위해 필요합니다.

그러나 문서 라이브러리의 파일 시스템이 데이터베이스에 저장되지 않은 경우(예: [DBStore](../../../system-administration/file-storage/other-file-store-types/dbstore.md)) 트랜잭션이 아니며 스테이징 오류가 발생해도 되돌려지지 않습니다. 이로 인해 파일과 데이터베이스의 해당 참조 간에 불일치가 발생할 수 있습니다. 데이터 무결성을 유지하려면 문서 라이브러리를 준비하기 전에 데이터베이스와 파일 시스템 모두의 정기적인 백업을 유지해야 합니다.

### 가져오기 단계

가져오기 중에 게시 매개변수에 따라 사이트의 콘텐츠, 레이아웃 및 앱에 필요한 모든 업데이트 또는 추가가 이루어집니다. 모든 것이 확인되고 정확하면 준비된 콘텐츠가 라이브 사이트에 게시됩니다. 자산 라이브러리도 마찬가지입니다.

## 준비를 위한 사전 계획

스테이징은 유연하고 확장 가능한 복잡한 하위 시스템입니다. 사이트 또는 자산 라이브러리에 사용하기 전에 미리 계획하고 원활한 프로세스를 위한 몇 가지 팁을 기억하는 것이 중요합니다. 평가할 몇 가지 요소가 있습니다.

### 콘텐츠 유형

사이트 및 자산 라이브러리의 콘텐츠에 따라 초기 설정 중에 필요한 콘텐츠 유형에 대해서만 스테이징을 켤 수 있습니다. 특정 유형의 콘텐츠만 포함하도록 게시 프로세스를 구성할 수도 있습니다. 이 두 가지 조치 모두 불필요한 작업을 피하는 데 도움이 될 수 있습니다.

```{important}
기본적으로 다음 위젯을 사용하여 표시되는 콘텐츠는 게시 프로세스에 항상 포함됩니다. 동적 데이터 목록 표시, 양식, 웹 콘텐츠 표시 및 Wiki 표시. Liferay DXP/Portal 7.4+의 경우 표시된 콘텐츠가 게시 프로세스의 구성에 명시적으로 포함된 경우에만 게시되도록 이 동작을 비활성화할 수 있습니다. 자세한 내용은 [표시된 콘텐츠의 자동 게시 구성](./configuring-automatic-publishing-of-displayed-content.md)을 참조하십시오.
```

### 하드웨어 환경

콘텐츠 유형에 따라 환경을 계획하십시오. 사이트 또는 자산 라이브러리가 대용량 이미지 및 비디오 파일을 사용하는 경우 공유 네트워크 드라이브가 최선의 선택인지 결정하십시오. 문서 라이브러리에 많은 대용량 이미지를 저장하려면 일반적으로 더 빠른 네트워크 또는 로컬 저장소가 필요합니다. 그러나 웹 콘텐츠를 다루는 경우 일반적으로 크기가 작고 디스크 공간을 거의 차지하지 않습니다.

### 스테이징 환경을 위한 사용자 정의 및 사용자 정의 로직

조직의 비즈니스 논리는 앱에서 구현될 가능성이 높으며 해당 앱에 대한 스테이징을 지원하려면 이를 수행하기 위한 일부 코드를 작성해야 합니다. 스테이징 환경의 모양과 느낌을 변경하려는 경우 새 JSP 코드를 작성하여 기본 UI 설정 변경을 고려할 수도 있습니다.

### 게시 대기 시간

사이트 또는 자산 라이브러리 생성 초기에 스테이징을 활성화하여 실행하는 데 오랜 시간이 걸릴 수 있는 대규모 게시 프로세스를 방지합니다. 작고 점진적인 변화는 거대한 재구상보다 훨씬 더 효과적입니다.

### JVM/네트워크 구성

스테이징을 위해 JVM/네트워크는 최소 4GB 메모리와 20MB/s 전송 속도(디스크)로 구성되어야 합니다.

## 추가 정보

* [로컬 라이브 스테이징 구성](./configuring-local-live-staging.md)
* [원격 라이브 스테이징 구성](./configuring-remote-live-staging.md)
