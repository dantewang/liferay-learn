# 모바일 장치 규칙 만들기

> 모바일 장치 규칙은 Liferay Mobile Device Detection Lite가 7.3에서 더 이상 사용되지 않기 때문에 Liferay 7.2 이하에서만 사용할 수 있습니다.

전제 조건으로 Liferay Marketplace에서 [Liferay Mobile Device Detection Lite(LMDD)](https://web.liferay.com/marketplace/-/mp/application/92831494) 앱을 설치해야 합니다. 이 앱은 액세스하는 모바일 장치를 감지하는 데 필요한 장치 감지 데이터베이스를 제공합니다.

## 모바일 장치 제품군 만들기

모바일 장치 제품군은 장치 유형을 기반으로 하는 모바일 장치 작업 그룹입니다. [모바일 장치 작업](#adding-mobile-device-actions) 을 생성하기 전에 모바일 장치 제품군을 생성하십시오. 예를 들어 모든 Android 장치에 대한 그룹을 만듭니다. Liferay가 Android 장치를 감지하면 방문자를 모바일 친화적인 페이지로 리디렉션할 수 있습니다.

모바일 장치 제품군을 만들려면

1. 원하는 사이트로 이동합니다.
1. (![Menu](../../../images/icon-menu.png)) 아이콘을 클릭합니다.
1. *구성* &rarr; *모바일 장치 제품군*로 이동합니다.
1. *추가* 버튼(![Add Family](../../../images/icon-add.png))을 클릭하여 *새 장치 제품군을 추가합니다.*.
1. *이름* 및 *설명*을 입력합니다.
1. *저장*을 클릭합니다.

모바일 장치 제품군 페이지에는 정의된 제품군이 나열됩니다.

![규칙을 만들 수 있도록 모바일 장치 제품군을 만듭니다.](./creating-mobile-device-rules/images/01.png)

모든 사이트에 제품군을 추가하려면 사이트 선택기(![Go to Site](../../../images/icon-compass.png)) &rarr; *내 사이트* &rarr; *글로벌* 을 클릭하여 글로벌 사이트로 이동한 다음 새 장치 제품군을 추가하십시오.

패밀리에 대해 정의된 규칙은 특정 사이트 또는 페이지에 대해 선택된 패밀리의 우선 순위와 함께 주어진 요청에 적용되는 패밀리의 작업을 결정합니다. 새 규칙은 운영 체제, 규칙 유형, 물리적 화면 크기 및 화면 해상도를 지정할 수 있습니다. 조치를 취하고자 하는 장치를 분류하기 위해 필요한 만큼의 규칙을 패밀리에 추가할 수 있습니다.

1. *모바일 장치 제품군* 페이지에서 모바일 장치 제품군의 이름을 클릭하십시오. 분류 규칙 페이지가 나타납니다.
1. *추가* 버튼(![Add Classification Rule](../../../images/icon-add.png))을 클릭하여 새 규칙을 추가합니다.
1. *이름* 및 *설명*을 입력합니다.
1. *운영 체제 및 유형*, *물리적 화면 크기*및 *화면 해상도*에서 이 규칙에 대해 원하는 분류를 선택하십시오.

    ![모바일 장치 규칙을 추가합니다.](creating-mobile-device-rules/images/02.png)

1. *저장*을 클릭합니다.

## 모바일 장치 규칙 적용

각 구성 페이지에서 사이트, 개별 페이지 또는 페이지 세트에 패밀리를 추가할 수 있습니다. 페이지 집합에 대해 수행하려면

1. 사이트에서 *Site Builder* &rarr; *Pages* 로 이동합니다.
1. 공개 페이지의 (![Configure](../../../images/icon-cog.png)) 아이콘을 클릭합니다.
1. *고급* 탭을 클릭합니다.
1. *모바일 장치 규칙* 섹션을 확장합니다.
1. *을 클릭하고* 을 선택하여 가족 목록을 엽니다.
1. 신청할 가족을 선택합니다.

    ![사이트에 대한 모바일 장치 규칙을 구성합니다.](./creating-mobile-device-rules/images/03.png)

1. 완료되면 *저장* 을 클릭합니다.

### 페이지에 모바일 장치 규칙 적용

상위 사이트에서 모바일 장치 규칙을 상속하도록 각 페이지를 구성하거나 특정 페이지에 다른 규칙을 적용할 수 있습니다.

특정 페이지에 대한 모바일 장치 규칙을 구성하려면

1. 사이트에서 *Site Builder* &rarr; *Pages* 로 이동합니다.
1. 원하는 페이지 옆에 있는 ![Options](../../../images/icon-options.png) 아이콘을 클릭한 다음 *구성*을 클릭하십시오.
1. *고급* 탭을 클릭합니다.
1. *모바일 장치 규칙* 섹션을 확장합니다.
1. 상위 사이트에서 다른 모바일 장치 규칙을 선택하려면 토글을 *아니오* 로 슬라이드합니다.
1. *을 클릭하고* 을 선택하여 가족 목록을 엽니다.
1. 신청할 가족을 선택합니다.

    ![페이지에서 상위 사이트와 다른 모바일 장치 규칙을 사용하십시오.](./creating-mobile-device-rules/images/04.png)

1. 완료되면 *저장* 을 클릭합니다.

## 모바일 장치 작업 추가

일부 모바일 장치 제품군을 만들고 일부 규칙을 추가했으면 모바일 장치 작업을 추가합니다. 제품군에 대해 정의된 이러한 조치는 장치가 감지되고 적용할 제품군이 발견되었을 때 요청에 발생하는 작업을 결정합니다.

```{tip}
세분화 및 개인화에는 사용자가 특정 장치 제품군을 사용하여 콘텐츠에 액세스하는지 여부를 평가하는 *장치* 규칙이 있습니다. 이 규칙은 Mobile Device Families 앱과 통합됩니다.
```

페이지 집합 또는 특정 페이지에 모바일 장치 작업을 추가할 수 있습니다.

사이트에서 모바일 장치 규칙에 작업을 추가하려면

1. Liferay 게스트 사이트에 대한 *사이트 관리* 메뉴를 엽니다.
1. *사이트 빌더* &rarr; *페이지*를 클릭합니다.
1. *Public Pages*옆에 있는 (![Gear icon](../../../images/icon-cog.png)) 아이콘을 클릭합니다.
1. *고급* 탭을 클릭합니다.
1. *모바일 장치 규칙* 섹션을 확장합니다.
1. 조치를 추가하려는 장치 제품군 옆에 있는 *옵션* (![Options](../../../images/icon-actions.png)) &rarr; *조치 관리* 를 클릭하십시오.
1. *작업 추가*을 클릭합니다.
1. *이름* 및 *설명*을 입력합니다.
1. *유형* (예: *사이트*으로 리디렉션 )을 선택합니다. 유형에 대해 알아보려면 옆에 있는 [모바일 장치 작업 참조](#mobile-device-actions-reference) 을 참조하십시오.
1. 방문자가 리디렉션될 원하는 사이트를 선택합니다.
1. 사이트에서 기본 랜딩 페이지를 선택합니다.

    ![기존 모바일 장치 규칙에 작업을 추가합니다.](./creating-mobile-device-rules/images/05.png)

1. 완료되면 *저장* 을 클릭합니다.

모바일 장치 작업이 이 사이트에 추가되었습니다.

## 모바일 장치 작업 참조

모바일 장치 제품군에 대해 정의된 모바일 장치 작업은 장치가 감지되고 적용할 제품군이 발견되었을 때 요청에 발생하는 작업을 결정합니다.

기본적으로 모바일 가족에 대해 구성할 수 있는 네 가지 종류의 작업이 있습니다.

![사이트, 페이지 집합 또는 페이지에 모바일 장치 작업을 추가합니다.](./creating-mobile-device-rules/images/06.png)

| 휴대기기 작업         | 묘사                                                                                                                                                    |
|:--------------- |:----------------------------------------------------------------------------------------------------------------------------------------------------- |
| **레이아웃 템플릿 수정** | 모바일 장치에 전달된 페이지에서 포틀릿이 정렬되는 방식을 변경합니다. 예를 들어 해상도가 이론적으로 표준 레이아웃을 지원할 만큼 충분히 높은 경우에도 더 복잡한 레이아웃이 있는 페이지가 모바일 장치를 감지하면 자동으로 더 단순한 템플릿으로 전환되도록 할 수 있습니다. |
| **테마 수정**       | 다양한 모바일 장치 제품군에 대한 특정 테마를 선택합니다. 장치가 페이지를 방문할 때 자동으로 적용되는 사이트 테마의 모바일 버전이 있어야 합니다.                                                                    |
| **URL 리디렉션**    | 모바일 사용자를 모든 URL로 보냅니다. 이는 모바일 사용자를 모바일 앱 다운로드 또는 페이지의 모바일 버전으로 안내하는 데 사용할 수 있습니다.                                                                     |
| **사이트 리디렉션**    | 모바일 사용자를 포털의 다른 사이트로 보냅니다. 경우에 따라 사이트의 미러에 모바일 콘텐츠가 생성될 수 있습니다.                                                                                       |

```{tip}
Liferay는 처음부터 액세스할 수 있는 모든 장치에 반응하고 적응하도록 설계되었습니다. 새 테마를 만들거나 레이아웃 템플릿을 강제로 변경하기 전에 사이트가 기본적으로 어떻게 작동하는지 테스트해야 합니다. URL 리디렉션과 같은 특정 기능은 부적절하게 사용하면 방해가 되고 좌절감을 줄 수 있습니다.
```

## 추가 정보

* [반응형 사이트 구축](./building-a-responsive-site.md)
