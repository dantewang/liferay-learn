# 모바일 장치 규칙 만들기

> Liferay 모바일 장치 감지 라이트가 7.3에서 더 이상 사용되지 않기 때문에 모바일 장치 규칙은 Liferay 7.2 이하에서만 사용할 수 있습니다.

전제 조건으로 Liferay Marketplace에서 [Liferay LMDD(모바일 장치 감지 라이트)](https://web.liferay.com/marketplace/-/mp/application/92831494) 앱을 설치해야 합니다. 이 앱은 어떤 모바일 장치가 액세스하는지 감지하는 데 필요한 장치 감지 데이터베이스를 제공합니다.

## 모바일 장치 제품군 만들기

모바일 장치 제품군은 장치 유형을 기반으로 하는 모바일 장치 작업 그룹입니다. [모바일 장치 작업](#adding-mobile-device-actions) 생성하기 전에 모바일 장치 제품군을 생성하십시오. 예를 들어 모든 Android 장치에 대한 그룹을 만듭니다. Liferay가 Android 장치를 감지하면 방문자를 모바일 친화적인 페이지로 리디렉션할 수 있습니다.

모바일 장치 제품군을 생성하려면,

1. 원하는 사이트로 이동합니다.
1. (![메뉴](../../../images/icon-menu.png)) 아이콘을 클릭하세요.
1. _구성_ &rarr; _모바일 장치 제품군_으로 이동합니다.
1. _새 장치 제품군_을 추가하려면 _추가_ 버튼(![제품군 추가](../../../images/icon-add.png))을 클릭하세요.
1. _이름_과 _설명_을 입력합니다.
1. _저장_을 클릭하세요.

모바일 장치 제품군 페이지에는 정의된 제품군이 나열됩니다.

![Create a Mobile Device Family so you can create rules.](./creating-mobile-device-rules/images/01.png)

모든 사이트에 대한 제품군을 추가하려면 사이트 선택기(![사이트로 이동](../../../images/icon-compass.png)) &rarr; _내 사이트_ &rarr; _를 클릭하여 글로벌 사이트로 이동합니다. 글로벌_을 선택한 다음 새 장치 제품군을 추가합니다.

특정 사이트 또는 페이지에 대해 선택된 제품군의 우선순위와 함께 제품군에 대해 정의된 규칙에 따라 특정 요청에 적용되는 제품군의 작업이 결정됩니다. 새 규칙은 운영 체제, 규칙 유형, 물리적 화면 크기 및 화면 해상도를 지정할 수 있습니다. 작업을 수행하려는 장치를 분류하기 위해 필요한 만큼 많은 규칙을 제품군에 추가할 수 있습니다.

1. _모바일 장치 제품군_ 페이지에서 모바일 장치 제품군의 이름을 클릭합니다. 분류 규칙 페이지가 나타납니다.

1. _추가_ 버튼(![분류 규칙 추가](../../../images/icon-add.png))을 클릭하여 새 규칙을 추가하세요.

1. _이름_과 _설명_을 입력합니다.

1. _운영 체제 및 유형_, _물리적 화면 크기_ 및 _화면 해상도_ 중에서 이 규칙에 대해 원하는 분류를 선택합니다.

   ![Add a Mobile Device Rule.](creating-mobile-device-rules/images/02.png)

1. _저장_을 클릭하세요.

## 모바일 장치 규칙 적용

해당 구성 페이지에서 사이트, 개별 페이지 또는 페이지 집합에 제품군을 추가할 수 있습니다. 페이지 세트에 대해 이 작업을 수행하려면

1. 사이트의 _사이트 빌더_ &rarr; _페이지_로 이동하세요.

1. 공개 페이지에 대한 (![구성](../../../images/icon-cog.png)) 아이콘을 클릭합니다.

1. _고급_ 탭을 클릭하세요.

1. _모바일 장치 규칙_ 섹션을 확장합니다.

1. _선택_을 클릭하여 가족 목록을 엽니다.

1. 적용할 가족을 선택하세요.

   ![Configure the Mobile Device Rule for a site.](./creating-mobile-device-rules/images/03.png)

1. 완료되면 _저장_을 클릭하세요.

### 페이지에 모바일 장치 규칙 적용

상위 사이트에서 모바일 장치 규칙을 상속하도록 각 페이지를 구성하거나 특정 페이지에 다른 규칙을 적용할 수 있습니다.

특정 페이지에 대한 모바일 장치 규칙을 구성하려면,

1. 사이트의 _사이트 빌더_ &rarr; _페이지_로 이동하세요.

1. 원하는 페이지 옆에 있는 ![옵션](../../../images/icon-options.png) 아이콘을 클릭한 다음 _구성_을 클릭하세요.

1. _고급_ 탭을 클릭하세요.

1. _모바일 장치 규칙_ 섹션을 확장합니다.

1. 상위 사이트와 다른 모바일 장치 규칙을 선택하려면 토글을 _NO_로 슬라이드하세요.

1. _선택_을 클릭하여 가족 목록을 엽니다.

1. 적용할 가족을 선택하세요.

   ![Use a different Mobile Device Rule on a page than the parent Site.](./creating-mobile-device-rules/images/04.png)

1. 완료되면 _저장_을 클릭하세요.

## 모바일 장치 작업 추가

일부 모바일 장치 제품군을 만들고 규칙을 추가한 후 모바일 장치 작업을 추가합니다. 제품군에 대해 정의된 이러한 작업은 장치가 감지되고 제품군이 적용되는 것으로 확인될 때 요청에 어떤 일이 발생하는지 결정합니다.

```{tip}
세분화 및 개인화에는 사용자가 특정 장치 제품군을 사용하여 콘텐츠에 액세스하는지 여부를 평가하는 *장치* 규칙이 있습니다. 이 규칙은 모바일 장치 제품군 앱과 통합됩니다.
```

페이지 세트 또는 특정 페이지에 모바일 장치 작업을 추가할 수 있습니다.

사이트의 모바일 장치 규칙에 작업을 추가하려면,

1. Liferay 게스트 사이트의 _사이트 관리_ 메뉴를 엽니다.

1. _사이트 빌더_ &rarr; _페이지_를 클릭하세요.

1. _공개 페이지_ 옆에 있는 (![톱니바퀴 아이콘](../../../images/icon-cog.png)) 아이콘을 클릭하세요.

1. _고급_ 탭을 클릭하세요.

1. _모바일 장치 규칙_ 섹션을 확장합니다.

1. 작업을 추가하려는 장치 제품군 옆에 있는 _옵션_ (![옵션](../../../images/icon-actions.png)) &rarr; _작업 관리_를 클릭합니다.

1. _작업 추가_를 클릭하세요.

1. _이름_과 _설명_을 입력합니다.

1. _유형_(예: _사이트로 리디렉션_)을 선택합니다. 유형에 대해 알아보려면 옆에 있는 [모바일 디바이스 작업 참조](#mobile-device-actions-reference) 참조하세요.

1. 방문자를 리디렉션할 원하는 사이트를 선택합니다.

1. 사이트의 기본 방문 페이지를 선택합니다.

    ![Add an action to the existing Mobile Device Rule.](./creating-mobile-device-rules/images/05.png)

1. 완료되면 _저장_을 클릭하세요.

모바일 장치 작업이 이 사이트에 추가되었습니다.

## 모바일 장치 작업 참조

모바일 장치 제품군에 대해 정의된 모바일 장치 작업은 장치가 감지되고 해당 제품군이 적용되는 것으로 확인될 때 요청에 어떤 일이 발생하는지 결정합니다.

기본적으로 모바일 가족에 대해 구성할 수 있는 작업에는 네 가지 종류가 있습니다.

![Add a Mobile Device Action to a Site, Page Set, or Page.](./creating-mobile-device-rules/images/06.png)

| 모바일 장치 작업       | 묘사                                                                                                                                                   |
| :-------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------- |
| **레이아웃 템플릿 수정** | 모바일 장치에 전달되는 페이지에서 포틀릿이 배열되는 방식을 변경합니다. 예를 들어, 해상도가 이론적으로 표준 레이아웃을 지원할 만큼 충분히 높더라도 모바일 장치를 감지하면 더 복잡한 레이아웃이 있는 페이지가 자동으로 더 간단한 템플릿으로 전환되도록 할 수 있습니다. |
| **테마 수정**       | 다양한 모바일 장치 제품군에 대한 특정 테마를 선택합니다. 장치가 페이지에 접속할 때 자동으로 적용되는 사이트 테마의 모바일 버전이 있어야 합니다.                                                                   |
| **URL 리디렉션**    | 모바일 사용자를 모든 URL로 보냅니다. 이는 모바일 사용자를 모바일 앱 다운로드 또는 모바일 버전 페이지로 안내하는 데 사용할 수 있습니다.                                                                      |
| **사이트 리디렉션**    | 모바일 사용자를 포털의 다른 사이트로 보냅니다. 어떤 경우에는 사이트의 미러에서 모바일 콘텐츠가 생성될 수 있습니다.                                                                                    |

```{tip}
Liferay는 처음부터 액세스할 수 있는 모든 장치에 반응하고 적응하도록 설계되었습니다. 새 테마를 생성하거나 레이아웃 템플릿을 강제로 변경하기 전에 사이트가 기본적으로 어떻게 작동하는지 테스트해야 합니다. URL 리디렉션과 같은 특정 기능은 부적절하게 사용하면 방해가 되고 실망스러울 수 있습니다.
```

## 관련 주제

* [반응형 사이트 구축](../building-a-responsive-site.md)
