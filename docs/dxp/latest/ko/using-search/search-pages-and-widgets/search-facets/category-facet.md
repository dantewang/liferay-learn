---
uuid: f25e9daa-89c4-4444-a177-8686c5fbbede
---

# 분류 페이셋

카테고리 패싯은 검색 쿼리 키워드와 일치하는 분류된 자산에 대한 검색 결과의 범위를 좁힙니다. 각 일치 결과의 범주는 패싯 용어로 집계됩니다.

![카테고리 패싯 결과의 예.](./category-facet/images/02.png)

## 범주 패싯 구성

카테고리 패싯을 구성하려면 패싯의 **옵션** 메뉴(![Options](../../../images/icon-app-options.png))를 열고 **구성** 클릭하십시오.

![구성 옵션을 클릭합니다.](./category-facet/images/03.png)

디스플레이 설정이 먼저 나타납니다.

**디스플레이 템플릿:** **기본** , **클라우드 레이아웃** , **컴팩트 레이아웃** , **라벨 레이아웃** 및 **어휘 레이아웃** 중에서 선택합니다(7.4 업데이트/GA 48+에서 사용 가능). 기본 레이아웃은 각 용어 옆에 체크박스를 표시하지만 압축 레이아웃은 그렇지 않습니다. 레이블 레이아웃은 각 용어에 대해 클릭할 수 있는 작은 레이블을 표시합니다. [Vocabulary Layout](#display-facet-terms-categories-by-vocabulary) 은 어휘별로 정리된 패싯 용어(카테고리)를 보여줍니다.

고급 구성 섹션에는 다음과 같은 추가 옵션이 있습니다.

**범주 매개변수 이름:** 패싯에 대한 URL에서 매개변수 이름을 변경합니다. 기본값은 **범주** 입니다.

```{important}
패싯 위젯 간에 AND 스타일 선택을 달성하려면 각 위젯에 대해 서로 다른 범주 매개변수 이름을 구성해야 합니다. 기본적으로 모든 범주 패싯 위젯에는 이 필드가 _category_로 설정되어 있습니다. [아래 예](#example-creating-a-hierarchic-filtering-experience-in-the-category-facet-using-vocabularies) 는 사용 사례를 보여줍니다. 
```

**최대 용어:** 패싯에 대해 발견된 일치 용어 수에 관계없이 표시할 패싯 용어의 최대 수를 설정합니다.

**빈도 임계값:** 패싯 용어 목록에 나타나는 용어에 필요한 최소 빈도를 설정합니다. 예를 들어 패싯의 빈도 임계값이 3으로 설정된 경우 두 개의 일치하는 결과가 있는 용어는 용어 결과 목록에 표시되지 않습니다.

**빈도 표시:** 용어 빈도를 표시할지 여부를 선택합니다.

**용어 주문 기준:** Liferay 7.4 U56+/GA56+의 경우 용어 빈도 내림차순(기본값), 용어 빈도 오름차순, 용어 값 오름차순 또는 용어 값 내림차순과 같은 패싯 용어 정렬 전략을 선택할 수 있습니다. 기본 정렬 순서는 패싯 용어가 가장 많이 일치하는 것부터 가장 적게 일치하는 것까지입니다. 용어 값 옵션은 패싯 용어를 사전순으로 정렬합니다.

### 어휘로 패싯 용어 표시 및 필터링

{bdg-secondary}`7.4 U48+ 및 GA48+`

기본적으로 카테고리 패싯 위젯은 사이트의 모든 어휘에서 일치하는 결과의 카테고리를 수집하여 일반 목록에 표시합니다. 업데이트 48의 향상된 기능을 통해 새로운 표시 및 필터링 동작을 얻을 수 있습니다.

#### 어휘로 패싯 용어(카테고리) 표시

Category Facet의 구성 화면에서 Vocabulary Layout을 선택하여 해당 어휘 아래에 범주를 표시합니다.

![범주는 해당 어휘 아래에 표시됩니다.](./category-facet/images/04.png)

#### 어휘로 패싯 용어(카테고리) 필터링

패싯에 표시할 어휘 및 범주를 선택합니다. 이를 활성화하려면 System Settings &rarr; Search &rarr; Category Facet Field의 구성을 기본 필드인 `assetCategoryIds`에서 `assetVocabularyCategoryIds` 필드로 전환합니다. 이 설정은 범주 패싯에서 집계를 만드는 데 사용되는 필드를 지정합니다. `assetVocabularyCategoryIds` 설정하면 카테고리 패싯 위젯의 구성 화면 내에서 어휘 설정이 활성화됩니다.

```{important}
Liferay 버전에서 업그레이드하거나 7.4 업데이트/GA 48 이전에 업데이트하고 시스템에 이미 분류된 자산이 있는 경우 검색 문서에 필요한 'assetVocabularyCategoryIds' 필드를 포함하도록 전체 재색인을 수행하십시오.
```

![어휘를 선택합니다.](./category-facet/images/06.png)

이 동작을 통해 강력한 검색 패싯 환경을 제공할 수 있습니다. 하나의 사용 사례에 대한 [아래 예](#example-creating-a-hierarchic-filtering-experience-in-the-category-facet-using-vocabularies) 를 참조하세요.

## 예: 어휘를 사용하여 범주 패싯에서 계층적 필터링 경험 만들기

자동차 부품 구매를 위한 상거래 포털을 고려하십시오. 각 부분은 별개의 어휘로 분류된 상거래 제품입니다.

- 어휘: 차량 시스템
  
  분류: 
  
   - 브레이크 시스템 
   - 엔진
   - 배기 시스템
   - 보류
   - 전염
   - 터보차저
- 어휘: 품질
  
  분류:
  
     - 프리미엄
   - 기준

사용자가 엔진 및 배기 시스템을 선택할 때 두 카테고리 중 하나와 일치하는 제품이 표시될 것으로 기대합니다. 그런 다음 품질 어휘에서 프리미엄 범주를 선택하면 결과가 엔진 및 배기 시스템용 프리미엄 자동차 부품으로 좁혀질 것으로 기대합니다. 이는 7.4 업데이트/GA 48부터 기본적으로 수행할 수 있습니다.

위의 사용 사례를 구성하려면

1. 전역 메뉴 &rarr; 제어판 &rarr; 사이트에서 새 사이트를 만듭니다. 메시지가 표시되면 Minium 사이트 템플릿을 선택합니다.
1. 사이트 이름을 Foo로 지정하고 **추가** 클릭합니다.
1. 글로벌 사이트의 메뉴 &rarr; 분류 &rarr; 분류로 이동합니다. Quality라는 어휘를 추가하고 Premium 및 Standard라는 두 가지 범주를 만듭니다. 

   ```{important}
   Foo 사이트에 사이트 카테고리가 아닌 글로벌 사이트에 글로벌 카테고리를 만들어야 합니다.
   ```

   ```{note}
   사이트를 초기화하는 동안 사이트 템플릿에 의해 생성된 기존 어휘(사이트 이름을 따서 Foo로 지정됨)가 있습니다. 빌드하고 있는 예제와 일치하고 범주를 더 잘 특성화하려면 _Vehicle Systems_라는 이름이 더 좋습니다(예: 브레이크 시스템). 그러나 Foo 어휘의 카테고리는 기존 Commerce 제품에서 참조하므로 편집할 수 없습니다. 
   ```

![글로벌 사이트에서 품질 어휘를 만듭니다.](./category-facet/images/07.png)

1. Global Menu &rarr; Commerce &rarr; Products(제품 관리 섹션 아래)에서 기존 Commerce 제품 중 일부를 분류합니다.
   
   에 프리미엄 카테고리 추가

   - 프리미엄 브레이크액
   - 프리미엄 브레이크 패드
     
     다음과 같은 여러 추가 제품에 Standard 카테고리를 추가하십시오.

   - ABS 센서

   - 브레이크 액
   - 마모 센서
   - 브레이크 패드
   - 브레이크 로터
     
     ![일부 기존 제품을 Premium 또는 Standard로 분류합니다.](./category-facet/images/09.png)

1. Foo 사이트의 홈페이지로 이동합니다. 기본적으로 Miniium 사이트의 홈 페이지는 기본적으로 빈 검색 허용이 활성화된 검색 페이지인 제품 카탈로그입니다.
   
   Category Facet 위젯을 보십시오. 두 어휘의 범주가 하나의 플랫 목록에 표시됩니다. 여러 패싯 용어(예: Suspension 및 Standard)를 선택하면 페이지의 결과가 확장됩니다. 이는 패싯 용어 간의 OR 연산자 동작을 보여줍니다.
   
   ![사용 가능한 모든 어휘의 범주가 집계됩니다.](./category-facet/images/08.png)
   
   페이지의 일부 위젯은 상거래 관련 위젯(예: 사양 패싯)이지만 범주 패싯은 표준 검색 위젯입니다.

1. `assetVocabularyCategoryIds` 필드를 사용하여 집계를 생성하도록 Category Facet 위젯을 변경합니다. 시스템 설정 &rarr; 검색으로 이동합니다. 카테고리 패싯 필드 항목의 카테고리 패싯 필드 선택기에서 `assetVocabularyCategoryIds` 선택하고 구성을 업데이트하십시오.

1. Foo 사이트의 홈 페이지에서 Foo 어휘의 범주만 표시하도록 구성된 범주 패싯 위젯을 추가합니다. 

   - 페이지 상단에 있는 **더하기 아이콘** 을 클릭합니다(![Plus](../../../images/icon-plus.png)).
   - **카테고리 패싯** 위젯을 기존 위젯 바로 위 또는 아래로 드래그합니다.
   - **위젯 구성** 화면(![App Options](../../../images/icon-app-options.png))을 엽니다.
   - 디스플레이 템플릿 선택기를 열고 **Vocabulary Layout** 선택합니다.
   - 범주 매개변수 이름을 **foocategories** 로 변경하십시오.
   - **어휘 선택** 라디오 버튼을 클릭합니다. **Global** 확장하고 **Foo** 선택합니다.
   - **저장** 클릭합니다.

1. 유사한 절차를 사용하여 품질 어휘의 범주만 표시하고 어휘 레이아웃 템플릿을 사용하도록 원래 범주 패싯 위젯을 구성합니다. 새 카테고리 패싯 위젯의 카테고리 매개변수 이름을 이미 변경했으므로 기존 위젯에 기본값을 그대로 둘 수 있습니다.

1. 페이지를 새로 고칩니다. Foo 어휘를 표시하는 카테고리 패싯 위젯에서 브레이크 시스템 및 서스펜션 카테고리를 선택하면 표시된 제품이 브레이크 시스템 또는 서스펜션 카테고리와 일치하는지 확인할 수 있습니다.
   
   품질 범주를 표시하는 범주 패싯에서 표준을 선택하면 브레이크 시스템 또는 서스펜션 및 표준으로 분류된 제품으로만 결과가 좁혀집니다.

![범주 패싯에서 계층적 필터링을 구성합니다.](./category-facet/images/10.png)
