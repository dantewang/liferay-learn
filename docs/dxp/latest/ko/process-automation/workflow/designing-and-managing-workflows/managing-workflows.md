# 워크플로 관리

워크플로 프레임워크를 사용하여 사용자는 맞춤형 워크플로 프로세스에서 자산 게시를 관리합니다. 제어판에서 워크플로 프로세스 정의에 액세스할 수 있는 권한이 있는 사용자는 새 워크플로 정의를 업로드하고, 기존 정의를 편집하고, 더 이상 사용하지 않는 프로세스 정의를 삭제할 수 있습니다.

## 워크플로 정의 게시 권한

워크플로 정의를 편집하거나 게시할 권한이 있는 사용자는 [Groovy 스크립트](../../../system-administration/using-the-script-engine.md)를 워크플로에 추가할 수 있습니다. 스크립팅 엔진에 대한 액세스는 서버의 JVM(Java Virtual Machine)에 대한 액세스를 의미합니다. 따라서 게시(또는 편집) 권한이 있는 사용자는 별도의 [가상 인스턴스](../../../system-administration/configuring-liferay/ 가상 인스턴스/이해 가상 가상 인스턴스.md) Liferay DXP.

이 광범위한 액세스로 인해 워크플로 정의를 생성하거나 편집할 수 있는 권한은 기본 가상 인스턴스의 일반 관리자로 제한됩니다. Liferay DXP 고객의 경우 사용자(예: 사이트 관리자)는 Kaleo Designer 및 Kaleo Forms Admin 애플리케이션에 대한 액세스 권한으로 워크플로우를 편집하고 게시할 수도 있습니다.

이러한 역할을 가진 사용자에게 추가 가상 인스턴스에서 워크플로 게시 액세스 권한을 부여하려면

1. [이 관리자에게 부여하는 액세스 권한](../../../users-and-permissions/roles-and-permissions/understanding-roles-and-permissions.md)을 이해해야 합니다.
1. 제어판 &rarr; 시스템 설정 &rarr; 워크플로 &rarr; 워크플로 정의로 이동합니다.
1. 제어판으로 이동합니다. 시스템 설정 &rarr; 작업 흐름 &rarr; 워크플로우 정의.
![관리자가 워크플로 정의를 게시하고 편집하려면 먼저 명시적 권한을 부여해야 합니다.](./managing-workflows/images/06.png)

이는 시스템에 추가된 가상 인스턴스에만 적용됩니다. 기본 가상 인스턴스는 Control Panel &rarr; Workflow &rarr; Process Builder를 통해 일반 관리자에게, Kaleo Forms Admin 애플리케이션을 통해 Liferay DXP 가입자에게 즉시 사용 가능한 워크플로 게시 액세스를 제공합니다.

## 새 워크플로 정의 업로드

워크플로 프로세스 정의는 [Liferay에 내장](./building-workflows.md)하거나 `XML` 형식으로 업로드할 수 있습니다. DXP 작업 흐름 정의는 `XML` 형식으로 작성됩니다. 자세한 내용은 [XML 워크플로 정의 만들기 소개](../developer-guide/crafting-xml-workflow-definitions.md)를 참조하세요.

새 정의를 업로드하려면:

1. **제어판** &rarr; **워크플로** &rarr; **프로세스 빌더** 로 이동합니다.
1. **새 워크플로** 버튼(![Add](../../../images/icon-add.png))을 클릭합니다.
1. 포함된 워크플로를 기반으로 하는 로컬 XML 정의 파일이 있는 경우 DXP에 업로드할 수 있습니다. **소스** 탭을 클릭합니다.
1. 새 정의의 이름을 입력합니다.
1. XML 파일의 내용을 복사하고 샘플 코드를 덮어쓰거나 " **파일 가져오기** "을 클릭하여 파일을 업로드합니다.
   
   ![정의를 업로드하여 새 정의 추가](./managing-workflows/images/01.png)

1. **저장** 버튼을 클릭합니다.

1. **게시** 버튼을 클릭합니다.

새로 추가된 정의는 워크플로 프로세스로 사용할 준비가 되었습니다.

## 워크플로우 정의 편집

워크플로우 편집하기:

1. **제어판** &rarr; **워크플로** &rarr; **프로세스 빌더** 로 이동합니다.
1. 워크플로에 대해 **작업** 버튼(![Actions](../../../images/icon-actions.png))을 클릭한 다음 **편집** 를 클릭합니다.
   
   ![정의 편집](./managing-workflows/images/03.png)

워크플로 정의에 대한 변경 사항은 **세부 정보** 및 **개정 내역** 메뉴에서 추적됩니다.

### 워크플로우 개정 보기 및 복원

워크플로우 정의 세부 정보 및 개정 내역을 보려면 다음을 수행하십시오.

1. **정보** 버튼(![Information](../../../images/icon-information.png))을 클릭합니다.
1. **개정 내역** 탭의 이전 버전 옆에 있는 **작업** 버튼(![Actions](../../../images/icon-actions.png))을 클릭하고 **미리보기** 또는 **복원** 을 선택합니다.
   
   ![워크플로의 이전 버전을 보고 복원합니다.](./managing-workflows/images/02.png)

1. **복원** 을 클릭하고 성공 메시지를 보면 이전 버전이 워크플로의 현재 버전입니다. 이제 워크플로의 복원된 버전을 편집할 수 있습니다.

1. 편집이 필요한 경우 편집하고 **업데이트** 을 클릭합니다. 이렇게 하면 워크플로의 다른 버전이 생성됩니다.

## 워크플로 정의 삭제

워크플로에는 두 가지 상태가 있습니다.

* **게시됨:** 유효성 검사가 완료되었으며 워크플로를 자산에 할당할 수 있습니다.
* **게시되지 않음:** 게시되지 않은 워크플로에서 유효성 검사가 수행되지 않으며 게시될 때까지 자산에 할당할 수 없습니다.

**게시되지 않은** 워크플로만 삭제할 수 있습니다.

**게시됨** 워크플로 정의는 현재 자산 유형과 연결된 경우 삭제할 수 없습니다. 사용자는 먼저 워크플로 프로세스를 비활성화한 다음 워크플로를 **게시되지 않음** 상태로 설정해야 합니다.

1. 자산 유형의 워크플로를 비활성화하려면 각 자산 유형에 대해 [워크플로 활성화](../using-workflows/activating-workflow.md) 문서에 있는 단계를 반대로 하고 **워크플로 없음** 을 선택합니다.
1. **제어판** &rarr; **워크플로** &rarr; **프로세스 빌더** 로 이동합니다.
1. 워크플로에 대해 **작업** 버튼(![Actions](../../../images/icon-actions.png))을 클릭한 다음 **게시 취소** 를 클릭합니다.
   
   ![워크플로 게시 취소](./managing-workflows/images/04.png)

1. 선택한 정의는 이제 **Unpublished** 섹션에 있습니다. 워크플로에 대해 **작업** 버튼(![Actions](../../../images/icon-actions.png))을 클릭한 다음 **삭제** 를 클릭합니다.
   
   ![워크플로우 삭제](./managing-workflows/images/05.png)

## 관련 주제

* [XML 워크플로 정의 만들기](../developer-guide/crafting-xml-workflow-definitions.md)
* [워크플로 디자이너 개요(구독)](./workflow-designer/workflow-designer-overview.md)
