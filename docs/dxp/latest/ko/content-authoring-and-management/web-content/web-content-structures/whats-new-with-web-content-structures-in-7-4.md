# 7.4에서 웹 콘텐츠 구조의 새로운 기능은 무엇입니까?

Liferay 7.4부터는 웹 콘텐츠 구조가 DDM(Dynamic Data Mapping)을 사용하여 양식 작성을 위한 백엔드 프레임워크로 Data Engine(DE)으로 마이그레이션되었습니다.

![웹 콘텐츠 구조는 데이터 엔진 프레임워크가 지원하는 양식 작성기를 사용하여 구축됩니다.](./whats-new-with-web-content-structures-in-7-4/images/04.png)

데이터 엔진 프레임워크는 웹 콘텐츠 구조에 대한 새로운 변경 사항 및 향상된 기능을 제공합니다.

## 새롭고 향상된 필드 유형

데이터 엔진으로의 이동의 일부로 필드 유형이 추가 및 개선되었습니다.

- 목록에서 선택 필드의 옵션은 사전순으로 정렬할 수 있습니다(목록에서 선택 필드의 고급 설정 사용).
- 숫자 필드를 정수 또는 소수 필드로 구성합니다.
- 그리드 필드는 웹 콘텐츠와 문서 및 미디어의 새로운 필드 유형입니다. [양식 필드 유형 참조](../../../process-automation/forms/creating-and-managing-forms/forms-field-types-reference.md)을 참조하십시오.
- HTML 필드는 편리한 도구 모음이 포함된 서식 있는 텍스트 필드로 대체되었습니다.

```{warning}
**부울 필드 대 다중 선택 필드:** 데이터 엔진은 초기에 부울 필드를 포함하지 않았습니다. 대신 업그레이드된 구조의 부울 필드는 동일한 레이블과 단 하나의 옵션을 사용하여 데이터 엔진의 다중 선택 필드를 사용하도록 마이그레이션되었습니다. 예를 들어 템플릿이 부울 필드가 있는 구조에 구축된 경우 일부 문제가 발생할 수 있습니다. Liferay 7.4 업데이트/GA 23에서 데이터 엔진에 부울 필드 유형이 추가되었습니다. 업데이트 23 이후 업그레이드된 구조는 웹 콘텐츠 구조에서 7.3 DDM 부울 필드를 7.4 DE 부울 필드로 성공적으로 변환합니다. 이 변경 전에 설치가 업그레이드된 경우 영향을 받는 구조를 편집하여 이러한 단일 옵션 다중 선택 필드를 부울 필드로 수동으로 변경해야 합니다. 
```

## 하위 구조가 구조 필드 세트로 대체됨

DDM이 지원하는 구조에는 모든 상위 필드 및 설정을 상속한 하위 구조가 포함될 수 있습니다. 이 관계는 Liferay 7.4에 더 이상 존재하지 않습니다. 이제 구조에 대해 재사용 가능한 필드 세트를 생성할 수 있는 필드 세트를 생성할 수 있기 때문입니다. 필드 세트는 편집할 때 구조가 어떻게 보이는지 볼 수 있으므로 편집 환경을 개선합니다.

```{warning}
- fieldset은 여러 구조에서 재사용할 수 있습니다. 단일 구조 내에서 편집하면 모든 구조가 한 번에 변경됩니다.

- 필드 세트 또는 구조가 웹 콘텐츠에서 사용되고 있는 경우 편집 시 사용자에게

   가 생성됩니다. -7-4/images/09.png)
```

필드셋으로 작업하려면

1. 웹 컨텐츠 구조 양식 작성기 보기에서 **Fieldsets** 탭을 클릭하십시오.
1. **Create New Fieldset** 을 클릭합니다. 필드셋의 이름을 지정합니다.
1. 해당 필드를 추가하고 구성합니다. **저장** 을 클릭합니다.

![구조에서 구조 또는 전용 필드 세트를 사용하십시오.](./whats-new-with-web-content-structures-in-7-4/images/07.png)

새 구조 생성을 시작할 때 기존 필드 세트 또는 구조를 필드 세트 탭에서 선택할 수 있습니다. 기본 웹 컨텐츠 구조는 즉시 사용 가능한 필드 세트로 포함됩니다.

## 구조 정의 소스 변경

DE의 구조는 JSON으로 표시됩니다(DDM에서는 XML이었습니다). 웹 콘텐츠 구조 UI에서 코드를 편집하는 대신 이제 구조 정의를 가져오고 내보내서 구조의 소스 JSON을 로컬에서 사용할 수 있습니다.

```{warning} 
언뜻 보기보다 더 복잡할 수 있으므로 JSON 구조 소스로 작업할 때 주의하십시오. 예를 들어 구조에 필드를 추가할 때 `dataDefinitionFields` 배열과 `defaultDataLayout` 요소를 모두 업데이트해야 합니다. 
```

### 구조의 JSON 내보내기

1. 사이트 메뉴 &rarr; 콘텐츠 및 데이터 &rarr; 웹 콘텐츠로 이동합니다.
1. **구조** 탭을 클릭합니다.
1. 기존 구조가 없으면 새로 만들고 저장합니다.
1. 기본 구조 목록 보기에서 조치 메뉴를 열고 **JSON으로 내보내기** 을 클릭하십시오.

### 기존 구조를 덮어쓰도록 구조의 JSON 가져오기

기존 구조의 JSON을 덮어쓰려면

1. 사이트 메뉴 &rarr; 콘텐츠 및 데이터 &rarr; 웹 콘텐츠로 이동합니다.
1. **구조** 탭을 클릭합니다.
1. 기본 구조 목록 보기에서 구조의 작업 메뉴를 열고 **가져오기 및 재정의** 를 클릭합니다.
1. JSON 파일을 업로드합니다.

![웹 콘텐츠 구조의 JSON을 내보내고 가져옵니다.](./whats-new-with-web-content-structures-in-7-4/images/01.png)

### 새 구조를 만들기 위해 구조의 JSON 가져오기

새 구조를 가져오려면

1. 사이트 메뉴 &rarr; 콘텐츠 및 데이터 &rarr; 웹 콘텐츠로 이동합니다.
1. **구조** 탭을 클릭합니다.
1. 화면 오른쪽 상단에서 웹 콘텐츠에 대한 옵션 메뉴를 엽니다.
1. **구조 가져오기** 을 클릭합니다.

   ![JSON 구조 파일을 가져옵니다.](./whats-new-with-web-content-structures-in-7-4/images/02.png)

## 유연한 구조 레이아웃

이전에는 구조 필드를 양식에 정렬하고 중첩하여 양식의 계층적 보기를 만들 수 있었습니다. 구조의 데이터 엔진 표현은 열을 정의하는 기능을 추가합니다.

![행당 두 개의 열이 있는 구조를 만듭니다.](./whats-new-with-web-content-structures-in-7-4/images/08.png)

Structure Builder에서 서로 옆에 있는 두 개의 양식 필드를 추가하고 필드 가장자리를 드래그하여 열 크기를 조정합니다.

열 외에도 필드 그룹을 사용하여 쉽게 관리할 수 있도록 구조 필드의 하위 집합을 함께 잠급니다. 다른 필드 위에 필드를 놓아 필드 그룹을 만듭니다.

## 웹 콘텐츠 구조 키 설정

```{warning}
새 구조를 만들 때(아래 설명 참조) 또는 [JSON을 새 구조로 가져올 때](#importing-a-structure-s-json-to-create-a-new-structure) 구조 키를 수동으로 설정할 수 있습니다. [기존 구조를 가져와서 덮어쓰는](#importing-a-structure-s-json-to-overwrite-an-existing-structure) 경우에도 기존 구조의 키를 업데이트할 수 없습니다.
```

1. 시스템 설정 &rarr; 웹 콘텐츠(콘텐츠 및 데이터 아래) &rarr; 관리로 이동합니다. **Autogenerate Structure Key** 의 선택을 취소하십시오.

1. 사이트 메뉴 &rarr; 콘텐츠 & 데이터 &rarr; 웹 콘텐츠로 이동합니다. 구조 탭을 열고 새 구조를 추가합니다.

1. 필드를 추가하고 구조 이름을 지정합니다. 구조 키를 수동으로 설정하려면 구성 아이콘(![Configuration](../../../images/icon-cog3.png))을 클릭하여 속성 사이드바를 엽니다.

1. **구조 키** 필드를 편집하여 사용자 지정 값(예: `MY_STRUCTURE_KEY`)을 추가합니다.

1. 구조를 저장합니다.

새로운 데이터 엔진 지원 구조를 사용하면 내보내기 프로세스가 JSON에서 구조 키를 제거합니다. 즉, 정의를 가져오면(예: 새 사이트로) 새 구조 키가 생성됩니다. 내보내기-가져오기 프로세스에서 구조 키를 유지하거나 새 사용자 지정 키를 제공하려는 경우 내보낸 JSON을 편집해야 합니다.

[내보낸 JSON](#structure-definition-source-changes) 에 사용자 정의 구조 키를 추가하려면,

1. 내보낸 JSON 파일을 엽니다(예: `Structure_my structure_42153_20220721144913685.json`).
1. `"dataDefinitionField"` 요소 앞에 `"dataDefinitionKey"` 요소를 추가합니다.
   ```json
   {
      "availableLanguageIds": ["en_US"],
      "contentType": "journal",
      "dataDefinitionKey": "MY_STRUCTURE_KEY",
      "dataDefinitionFields": [{"..."}]
   }
   ```

1. [구조 정의 파일을 가져오고](#structure-definition-source-changes) 속성 탭을 확인하여 키를 가져왔는지 확인합니다.

   ![속성 탭에는 사용자 지정 키이든 Liferay에서 자동 생성한 구조 키이든 관계없이 구조 키가 표시됩니다.](./whats-new-with-web-content-structures-in-7-4/images/11.png)
