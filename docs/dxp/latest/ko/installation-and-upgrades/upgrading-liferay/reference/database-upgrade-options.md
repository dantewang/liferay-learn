# 데이터베이스 업그레이드 옵션

릴리스, 업데이트 또는 수정 팩에 데이터베이스 스키마가 변경된 경우 변경 사항을 적용하기 위한 옵션을 알고 있으면 도움이 됩니다. 여기서 각 스키마 변경 수준에 대한 데이터베이스 업그레이드 옵션을 찾고 DXP/Portal 설치 유형과 함께 각 업그레이드 옵션을 사용하기 위한 일반적인 단계를 알아봅니다.

데이터베이스 업그레이드 옵션은 다음과 같습니다.

* [Docker 이미지](../upgrade-basics/upgrading-via-docker.md): 새로운 DXP/Portal Docker 이미지를 실행할 때 다음 환경 변수를 사용하여 구성된 데이터베이스에서 Database Upgrade Tool을 자동 실행합니다.

    ```bash
    -e LIFERAY_UPGRADE_PERIOD_DATABASE_PERIOD_AUTO_PERIOD_RUN=true
    ```

* [Gogo Shell](../upgrade-stability-and-performance/upgrading-modules-using-gogo-shell.md): 서버가 실행되는 동안 Gogo Shell 명령을 실행하여 모듈 업그레이드를 나열하고 호출할 수 있습니다. 핵심 데이터베이스를 업그레이드하려면 Docker 이미지 또는 데이터베이스 업그레이드 도구를 사용해야 합니다.

* [Database Upgrade Tool](../upgrade-basics/using-the-database-upgrade-tool.md): 서버가 오프라인인 동안 Database Upgrade Tool을 사용하여 코어 및 모듈 데이터베이스 업그레이드를 실행할 수 있습니다.

```{important}
이것은 DXP/Portal 데이터베이스 업그레이드를 위한 추가 정보입니다. 전체 DXP/Portal 업그레이드 지침의 시작점으로 [업그레이드 기본 사항](../upgrade-basics.md)을 참조하고 [Liferay 설치 유지 관리](../../maintaining-a-liferay-installation. md) DXP/Portal 업데이트 및 수정 팩 적용에 대한 전체 지침을 참조하십시오.
```

## 스키마 변경 수준에 대한 데이터베이스 업그레이드 옵션

다음은 릴리스, 업데이트 또는 수정 팩이 가질 수 있는 데이터베이스 스키마 변경 유형과 이러한 변경 사항을 적용하기 위한 데이터베이스 업그레이드 옵션입니다.

| 데이터베이스 스키마 변경                   | 데이터베이스 업그레이드 옵션                                                 |
|:------------------------------- |:--------------------------------------------------------------- |
| 모듈 마이크로 버전<br>(선택적 업그레이드) | **Docker 이미지<br>** Gogo Shell<br> * 데이터베이스 업그레이드 도구 |
| 모듈 주/부 버전<br>(업그레이드 필요)   | **Docker 이미지<br>** Gogo Shell<br> * 데이터베이스 업그레이드 도구 |
| 핵심 데이터 스키마<br>(업그레이드 필요)  | **Docker 이미지<br>** 데이터베이스 업그레이드 도구                        |

데이터베이스 업그레이드는 대상으로 하는 새 설치 또는 데이터베이스 업그레이드에 더 편리한 별도의 설치에서 수행할 수 있습니다. 예를 들어 앱 서버 + Liferay WAR + 종속성을 사용하는 경우 새 Liferay Docker 이미지를 사용하여 데이터베이스를 업그레이드하고 새 Liferay WAR 및 종속성을 앱 서버에 설치한 다음 앱 서버를 다시 시작하여 새 라이프레이 버전.

DXP/Portal 설치에는 세 가지 유형이 있습니다.

1. [Liferay 도커 이미지](../../installing-liferay/using-liferay-docker-images.md)
1. [라이프레이 톰캣 번들](../../installing-liferay/installing-a-liferay-tomcat-bundle.md)
1. [애플리케이션 서버(앱 서버) + Liferay WAR(WAR) + 종속성](../../installing-liferay/installing-liferay-on-an-application-server/installing-on-tomcat.md)

다음은 각 설치 유형에서 데이터베이스 업그레이드 옵션을 사용하기 위한 일반적인 단계입니다.

## Liferay Docker 이미지용 데이터베이스 업그레이드

다음은 Docker 이미지 또는 Tomcat 번들을 사용하여 새로운 Liferay Docker 이미지에 대한 데이터베이스 업그레이드를 수행하기 위한 프로세스 요약입니다.

| 도커 이미지 옵션 | Tomcat 번들 옵션 | 업그레이드 프로세스 요약                                                                                                                             |
|:--------- |:------------ |:----------------------------------------------------------------------------------------------------------------------------------------- |
| &#10004;  |              | 1. 새 이미지를 구성합니다.<br>2. 업그레이드 환경 변수를 활성화한 상태에서 실행하십시오.<br>3. 업그레이드가 성공적으로 완료되면 새 이미지의 새 컨테이너에서 데이터베이스를 구성합니다(업그레이드를 활성화하지 않음). |
|           | &#10004;     | 1. Liferay Tomcat 번들을 구성합니다.<br>2. 번들에서 Database Upgrade Tool을 실행합니다.<br>3. 업그레이드가 성공적으로 완료되면 새 Docker 이미지에서 데이터베이스를 구성하십시오.  |

## Liferay Tomcat 번들용 데이터베이스 업그레이드

다음은 Docker 이미지 또는 Tomcat 번들을 사용하여 새 Liferay Tomcat 번들에 대한 데이터베이스 업그레이드를 수행하기 위한 프로세스 요약입니다.

| 도커 이미지 옵션 | Tomcat 번들 옵션 | 업그레이드 프로세스 요약                                                                                                                          |
|:--------- |:------------ |:-------------------------------------------------------------------------------------------------------------------------------------- |
| &#10004;  |              | 1. 새 Docker 이미지를 구성합니다.<br>2. 업그레이드 환경 변수를 활성화한 상태에서 실행하십시오.<br>3. 업그레이드가 성공적으로 완료되면 새 Liferay Tomcat 번들에서 데이터베이스를 구성하십시오. |
|           | &#10004;     | 1. 새 Liferay Tomcat 번들을 구성합니다.<br>2. 데이터베이스 업그레이드 도구를 실행합니다.                                                                     |

## 애플리케이션 서버 설치를 위한 데이터베이스 업그레이드

다음은 애플리케이션 서버에서 새로운 Liferay DXP/Portal 설치를 위한 데이터베이스 업그레이드를 수행하기 위해 Docker 이미지 또는 Tomcat 번들을 사용하는 프로세스 요약입니다.

| 도커 이미지 옵션 | Tomcat 번들 옵션 | 업그레이드 프로세스 요약                                                                                                                                            |
|:--------- |:------------ |:-------------------------------------------------------------------------------------------------------------------------------------------------------- |
| &#10004;  |              | 1. 새 Docker 이미지를 구성합니다.<br>2. 업그레이드 환경 변수를 활성화한 상태에서 실행하십시오.<br>3. 업그레이드가 성공적으로 완료되면 응용 프로그램 서버에 새 Liferay WAR 및 OSGi 종속성을 설치합니다.            |
|           | &#10004;     | 1. 새 Liferay Tomcat 번들을 구성합니다.<br>2. 번들에서 Database Upgrade Tool을 실행합니다.<br>3. 업그레이드가 성공적으로 완료되면 응용 프로그램 서버에 새 Liferay WAR 및 OSGi 종속성을 설치합니다. |

## 추가 정보

* [업그레이드 기본 사항](../upgrade-basics.md)
* [Liferay 설치 유지](../../maintaining-a-liferay-installation.md)
