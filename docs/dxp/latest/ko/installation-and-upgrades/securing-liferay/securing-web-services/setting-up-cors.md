# CORS 설정

CORS는 Cross-Origin Resource Sharing의 약자입니다. Origin은 다른 도메인에 있는 웹 서버이고 Resource는 이미지, PDF 또는 HTML 파일과 같이 서버에 저장된 일부 자산입니다. 경우에 따라 다른 오리진에 저장된 리소스를 요청해야 합니다. 이를 교차 출처 요청이라고 하며 웹 서버에는 이러한 요청을 허용하거나 거부하는 정책이 있습니다.

예를 들어 브라우저 자체는 [교차 사이트 스크립팅](https://en.wikipedia.org/wiki/Cross-site_scripting) 공격을 완화하는 데 도움이 되는 스크립트의 교차 출처 AJAX 스타일 요청을 허용하지 않습니다. 이러한 API는 **동일한 출처** 정책을 따릅니다. 그러나 특정 리소스의 경우 Liferay DXP가 다른 출처에 서비스를 제공하도록 허용하는 것이 편리할 수 있습니다.

예를 들어 Docs & Media에서 이미지를 관리하는 경우 교차 원본 요청을 허용할 수 있습니다. Liferay Portal 또는 JAX-RS 애플리케이션 리소스에서 일치하는 URL에 대해 CORS를 활성화할 수 있습니다.

## Liferay DXP 서비스용 CORS 활성화

구성 &rarr; 시스템 설정 &rarr; 보안 &rarr; 보안 도구 &rarr; 포털 CORS(Cross Resource Origin Sharing)에서 설정을 찾을 수 있습니다.

1. **추가** 을 클릭하여 구성 항목을 만듭니다.
1. 양식의 필드를 작성하십시오. 완료되면 **저장** 을 클릭합니다.
   
   ![그림 1: CORS 시스템 설정은 Liferay 서비스용 CORS 헤더를 구성하는 방법을 제공합니다.](./setting-up-cors/images/01.png)

### 포털 CORS 구성 참조

| 설정             | 묘사                                                                                                                                                                                                                          |
|:-------------- |:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **가능하게 하는** | 항목을 활성화하려면 이 상자를 선택하십시오.                                                                                                                                                                                                    |
| **이름** | 구성 항목에 이름을 지정하십시오.                                                                                                                                                                                                          |
| **URL 패턴** | 더하기 버튼을 사용하여 필요한 만큼 패턴을 추가하세요. 공유하려는 리소스에 대한 URL과 일치하는 패턴을 정의합니다. 예를 들어 지식 기반 응용 프로그램에 많은 첨부 파일이 있는 경우 다음 패턴을 정의할 수 있습니다. <br> `/knowledge_base/*` <br> 이는 아래 응답 헤더에서 설정한 정책에 적용 가능한 것으로 지식 기반에 저장된 리소스를 정의합니다. |
| **CORS 응답 헤더** | 더하기 버튼을 사용하여 필요한 만큼 헤더를 추가하십시오. 여기에서 [CORS 헤더](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers#CORS) 에 대한 정책을 정의합니다.                                                                                              |


구성 파일을 사용할 수도 있습니다. <!-- future link required --> CORS를 구성합니다.



## JAX-RS 애플리케이션용 CORS 활성화

구성 &rarr; 시스템 설정 &rarr; 보안 &rarr; 보안 도구 &rarr; 웹 컨텍스트 리소스 원본 공유(CORS)에서 설정을 찾을 수 있습니다.

1. **추가** 을 클릭하여 구성 항목을 만듭니다.
1. 양식의 필드를 작성하십시오. 완료되면 **저장** 을 클릭합니다.
   
   ![그림 2: CORS 웹 컨텍스트에 대한 별도의 시스템 설정 범주가 있습니다.](./setting-up-cors/images/02.png)

### JAX-RS CORS 구성 참조

| 설정                    | 묘사                                                                                                                                                                                                                                                                                                                                                    |
|:--------------------- |:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **동적 웹 컨텍스트 OSGi 필터** | LDAP 스타일 [필터](https://osgi.org/specification/osgi.cmpn/7.0.0/service.http.whiteboard.html) 을 정의하여 이 항목의 CORS 헤더가 적용되는 JAX-RS 화이트보드 애플리케이션을 정의합니다. 이것은 기본 필터입니다. <br> `(&(!(liferay.cors=false))(osgi.jaxrs.name=*))` <br> `없이 배포된 모든 JAX-RS 화이트보드 애플리케이션에 CORS 헤더를 적용합니다. =거짓` 속성. 이는 개발 중에 도움이 되지만 프로덕션에서는 가능한 한 가장 좁은 구성을 사용해야 합니다. |
| **URL 패턴** | 더하기 버튼을 사용하여 필요한 만큼 패턴을 추가하세요. 액세스하려는 웹 서비스의 URL과 일치하는 패턴을 정의합니다.                                                                                                                                                                                                                                                                                     |
| **CORS 응답 헤더** | 더하기 버튼을 사용하여 필요한 만큼 헤더를 추가하십시오. 여기에서 [CORS 헤더](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers#CORS) 에 대한 정책을 정의합니다.                                                                                                                                                                                                                        |


JAX-RS<!-- future link required --> 개발자는 `@CORS` 주석을 사용하여 배포된 애플리케이션에 대한 정책을 설정할 수 있습니다.

## 관련 주제

* [라이프레이 확보](../../securing-liferay.md)
* [보안 웹 서비스 소개](../securing-web-services.md)
