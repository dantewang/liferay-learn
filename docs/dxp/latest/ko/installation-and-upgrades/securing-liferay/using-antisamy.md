# 안티사미

Liferay DXP에는 사용자가 입력한 악성 코드로부터 보호하는 [AntiSamy](https://www.owasp.org/index.php/Category:OWASP_AntiSamy_Project)  모듈이 포함되어 있습니다. 사이트에서 사용자가 게시판, 블로그 또는 기타 애플리케이션에 콘텐츠를 게시할 수 있도록 허용하는 경우 이러한 게시물에 악성 코드가 포함될 수 있습니다. AntiSamy 모듈은 HTML/CSS 조각을 필터링하고 의심스러운 JavaScript 코드를 제거합니다.

이 모듈은 강력한 [OWASP AntiSamy 라이브러리](https://www.owasp.org/index.php/Category:OWASP_AntiSamy_Project) 를 활용하여 경매 사이트 [eBay](https://www.ebay.com) 에 효과적인 콘텐츠 정책을 시행합니다. AntiSamy 모듈은 설치의 기존 새니타이저 구현 목록에 OWASP AntiSamy 구현을 추가합니다. Liferay DXP는 AntiSamy 새니타이저와 기존에 구성된 새니타이저를 사용하여 블로그 항목, 캘린더 이벤트, 게시판 게시물, Wiki 페이지 및 웹 콘텐츠 기사에 대한 사용자 입력을 제거합니다.

AntiSamy는 기본적으로 활성화되어 있습니다.

![Liferay DXP의 AntiSamy 구성 옵션에는 블랙리스트와 화이트리스트가 모두 포함됩니다.](./using-antisamy/images/01.png)

## AntiSamy 구성

AntiSamy는 블랙리스트와 화이트리스트를 모두 사용하므로 삭제해야 하거나 삭제하지 않아야 하는 엔터티의 하위 집합을 정의할 수 있습니다. 화이트리스트는 해당 유형의 콘텐츠가 필터링되는 것을 방지하고 블랙리스트는 해당 유형의 콘텐츠를 필터링합니다.

기본적으로 `JournalArticle`, `BlogsEntry`및 `FragmentEntry`를 제외한 모든 항목이 삭제됩니다. 이러한 종류의 콘텐츠를 게시하는 사용자는 신뢰할 수 있는 반면 게시판이나 Wiki 기사를 게시하는 사용자는 신뢰할 수 없다고 가정합니다. 원하는 구성이 아닌 경우 다음과 같이 변경할 수 있습니다.

1. **제어판** &rarr; **시스템 설정** &rarr; **보안 도구** &rarr; **AntiSamy Sanitizer** 으로 이동합니다.

1. 삭제하려는 패키지 경로를 **블랙리스트** 필드에 입력하십시오.

1. 필요한 경우 더하기(+) 버튼을 사용하여 블랙리스트 필드를 추가하십시오.

1. **블랙리스트** 필드에 삭제하려는 개체의 정규화된 클래스 이름을 입력합니다.

1. 필요한 경우 더하기(+) 버튼을 사용하여 화이트리스트 필드를 추가하십시오.

1. **화이트리스트** 필드에 정리하지 않으려는 개체의 정규화된 클래스 이름을 입력합니다.

1. 구성에서 패키지 경로를 제거하려면 빼기(-) 아이콘을 클릭하십시오.

1. 완료되면 **저장** 을 클릭합니다.

## 와일드카드 사용

구성에서 와일드카드를 사용할 수 있습니다. 예를 들어 게시판 게시물만 삭제하고 다른 것은 삭제하지 않으려면 다음을 수행할 수 있습니다.

1. 허용 목록을 다음으로 구성 `*`

1. 블랙리스트를 `com.liferay.message.boards.*`로 구성합니다.

화이트리스트와 블랙리스트는 함께 작동합니다. 블랙리스트가 없으면 위 구성의 화이트리스트에는 `com.liferay.message.boards`을 제외한 모든 콘텐츠 유형이 포함되어야 하며 이는 구성하기 어려운 작업입니다.

AntiSamy를 사용하여 사용자 생성 콘텐츠를 다른 사용자가 볼 수 있도록 안전하게 유지하십시오.

## 클래스 이름별 AntiSamy Sanitizer

**Class Name** 로 AntiSamy Sanitizer 라는 AntiSamy 를 구성하는 또 다른 방법을 알 수 있습니다. 이는 개발자가 각 모델 클래스 이름에 대한 AntiSamy 구성 XML 파일을 지정하여 보다 미묘한 AntiSamy 구성을 생성할 수 있는 방법입니다. 그러나 이때 개발자는 AntiSamy 구성 파일을 Liferay AntiSamy 모듈에 삽입한 다음 다시 배포하거나 조각 번들 프로젝트를 생성하여 제공해야 합니다.

이에 대한 튜토리얼이 곧 나올 예정이지만 지금은 [개발자 티켓](https://issues.liferay.com/browse/LPS-112978) 에서 자세한 정보를 찾을 수 있습니다. 
