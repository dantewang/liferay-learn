# 포틀릿

Liferay DXP는 *포틀릿* ( [JSR 168](https://jcp.org/en/jsr/detail?id=168), [JSR-286](https://jcp.org/en/jsr/detail?id=286)및 [JSR-362](https://jcp.org/en/jsr/detail?id=362)참조)이라는 Java 기반 웹 애플리케이션용 포털 서버로 시작했습니다. 포틀릿은 다른 웹 애플리케이션과 마찬가지로 요청을 처리하고 응답을 생성합니다. 그러나 포틀릿과 다른 웹 앱 간의 주요 차이점 중 하나는 포틀릿이 웹 페이지의 일부에서 실행된다는 것입니다. 포틀릿 애플리케이션을 작성할 때 해당 애플리케이션에 대해서만 걱정하면 됩니다. 페이지의 나머지 부분(내비게이션, 상단 배너 및 인터페이스의 기타 전역 구성 요소)은 다른 구성 요소에서 처리됩니다. 포틀릿은 포털 서버에서만 실행됩니다. 이들은 사용자 관리, 인증, 권한, 페이지 관리 등에 대한 포털의 기존 지원을 사용합니다. 이렇게 하면 포틀릿의 핵심 기능 개발에 집중할 수 있습니다. 여러 면에서 애플리케이션을 포틀릿으로 작성하는 것이 독립형 애플리케이션을 작성하는 것보다 쉽습니다.

사용자(권한이 있는 경우) 또는 포털 관리자가 여러 포틀릿을 단일 페이지에 배치할 수 있습니다. 예를 들어 페이지에는 커뮤니티 이벤트에 대한 일정 포틀릿, 중요한 공지에 대한 공지 포틀릿 및 커뮤니티 관심 링크에 대한 책갈피 포틀릿이 있을 수 있습니다. 포틀릿 코드를 변경하지 않고 끌어서 놓기를 통해 페이지에서 포틀릿의 위치를 변경하고 크기를 조정할 수 있습니다. 포럼이나 Wiki와 같은 단일 포틀릿은 해당 페이지에 필요한 유일한 앱인 경우 전체 페이지를 차지할 수 있습니다. 요컨대, 포틀릿은 Java 기반 웹 앱 개발과 관련된 많은 기존 문제점을 완화합니다.

![단일 페이지에 여러 포틀릿을 배치할 수 있습니다.](./portlets/images/01.png)

## 포틀릿 단계

포틀릿은 여러 단계로 요청을 처리합니다. 이는 포틀릿을 서블릿보다 훨씬 더 유연하게 만듭니다. 각 포틀릿 단계는 다른 작업을 실행합니다.

**렌더링:** 현재 상태를 기반으로 포틀릿의 컨텐츠를 생성합니다. 이 단계가 하나의 포틀릿에서 실행되면 페이지의 다른 모든 포틀릿에서도 실행됩니다. 렌더링 단계는 페이지의 모든 포틀릿이 해당 작업 또는 이벤트 단계를 완료한 후에 실행됩니다.

**조치:** 사용자 조치에 대한 응답으로 조치 단계는 포틀릿의 상태를 변경하는 조작을 수행합니다. Action 단계는 Event 단계에서 처리되는 이벤트를 트리거할 수도 있습니다. 조치 단계 및 선택적 이벤트 단계에 이어 렌더링 단계는 포틀릿의 컨텐츠를 재생성합니다.

**Event:** Action 단계에서 발생한 이벤트를 처리합니다. 이벤트는 포틀릿 간 통신(IPC)에 사용됩니다. 포틀릿이 모든 이벤트를 처리하면 포털은 페이지의 모든 포틀릿에서 렌더링 단계를 호출합니다.

**리소스 제공:** 페이지의 모든 포틀릿에서 렌더링 단계를 실행하지 않고도 포틀릿이 동적 콘텐츠를 제공할 수 있도록 나머지 수명 주기와 독립적으로 리소스를 제공합니다. 리소스 제공 단계는 AJAX 요청을 처리합니다.

**헤더:** 렌더링 단계 전에 CSS와 같은 리소스 종속성을 지정할 수 있습니다.

## 포틀릿 모드

포틀릿은 또한 고유한 모드와 창 상태를 갖는다는 점에서 서블릿과 다릅니다. 모드 이름은 포틀릿의 현재 기능을 구별하지만 대부분의 최신 애플리케이션은 보기 모드만 사용합니다.

**보기 모드:** 기본 기능이 구현되는 포틀릿의 기본 모드입니다.

**편집 모드:** 포틀릿의 구성 모드. 예를 들어 날씨 포틀릿은 편집 모드를 사용하여 날씨 보고서의 위치를 정의할 수 있습니다.

**도움말 모드:** 도움말 정보 또는 문서를 표시하는 모드입니다.

포틀릿 창 상태는 페이지에서 포틀릿이 차지하는 공간의 양을 제어합니다. 창 상태는 기존 데스크톱 환경의 창 동작을 모방합니다.

**일반:** 포틀릿은 다른 포틀릿을 포함하는 페이지에 있을 수 있습니다. 이것이 기본 창 상태입니다.

**최대화됨:** 포틀릿이 전체 페이지를 차지합니다.

**최소화됨:** 포틀릿의 제목 표시줄만 표시됩니다.

## 서블릿과의 더 많은 차이점

포틀릿은 페이지의 일부만 렌더링하므로 `<html>`, `<head>`및 `<body>` 과 같은 전역 태그는 허용되지 않습니다. 그리고 포틀릿의 페이지를 미리 알지 못하기 때문에 포틀릿 URL을 직접 생성할 수 없습니다. 대신 포틀릿 API에는 프로그래밍 방식으로 포틀릿 URL을 생성하는 메서드가 포함되어 있습니다. 또한 포틀릿은 `javax.servlet.ServletRequest`에 직접 액세스할 수 없기 때문에 URL에서 직접 쿼리 매개변수를 읽을 수 없습니다. 포틀릿은 대신 `javax.portlet.PortletRequest` 객체에 액세스합니다. 포틀릿 사양은 포틀릿이 자체 URL 매개변수 또는 공용 렌더링 매개변수로 선언된 매개변수만 읽을 수 있는 메커니즘을 제공합니다. 그러나 Liferay DXP는 `ServletRequest` 및 쿼리 매개변수에 액세스할 수 있는 유틸리티 메서드를 제공합니다. 포틀릿에는 포틀릿 수명 주기의 각 단계에 사용할 수 있는 *포틀릿 필터* 도 있습니다. 포틀릿 필터는 즉시 요청 및 응답 수정을 허용한다는 점에서 서블릿 필터와 유사합니다.

Liferay DXP에서 웹 프런트 엔드를 개발하는 모든 방법에는 포틀릿이 포함됩니다. JavaScript 기반 위젯은 배후에서 Liferay의 JS Portlet Extender를 사용하고 Java 기반 웹 프런트 엔드는 명시적으로 포틀릿입니다. 모든 웹 프런트 엔드 유형은 포틀릿 3.0, DI(종속성 주입), MVC(모델 뷰 컨트롤러) 및 모듈성을 지원하여 포틀릿 개발을 위한 많은 좋은 옵션을 제공합니다.

다음은 포틀릿 개발을 시작하는 몇 가지 방법입니다.

* [MVC 사용](../using-mvc.md)
* [스프링 사용](../using-spring.md)
* [JSF 사용](../using-jsf.md)
* [Bean 포틀릿 사용](../using-bean-portlet.md)
