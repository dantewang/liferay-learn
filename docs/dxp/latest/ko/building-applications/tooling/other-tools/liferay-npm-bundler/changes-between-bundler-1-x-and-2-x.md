---
uuid: d3f64d45-b095-4f4d-84c5-098dbb8e2e5b
---

# 번들러 1.x와 2.x 간의 변경 사항

이 문서에서는 liferay-npm-bundler 버전 1.x와 2.x 간의 주요 변경 사항에 대해 설명합니다.

## AMD용 자동 포맷 모듈

번들러의 버전 시리즈 1.x에서 AMD `define()` 호출에서 프로젝트 모듈을 래핑하는 것은 개발자의 책임이었습니다. 그러나 2.x부터는 번들러가 이를 수행하므로 프로젝트의 코드가 CommonJS 모듈 모델( `require()` 호출을 사용하는 Node.js의 모듈 처리를 위한 표준 모델)용으로 트랜스파일/작성되는 것이 유일한 필수 조건입니다. 모듈을 로드합니다).

## 프로젝트 종속성 격리

번들러 버전 2.0.0부터 패키지 이름에 번들 이름이 붙지만 이전 버전에서는 그대로 유지되었습니다. 이 전략은 다른 번들에서 패키지를 격리하는 데 사용됩니다. 여전히 번들러 1.x 패키지(접두사 없이)를 배포할 수 있으며 이전 버전의 번들러에서와 마찬가지로 작동합니다.

## 향상된 피어 종속성 지원

번들러 1.x에서는 위젯 간에 사용할 수 있는 공유 피어 종속성 패키지가 하나만 있었습니다. 위젯별로 독립된 종속성을 사용하면 피어 종속성을 완벽하게 준수하기가 쉽습니다. 이름에 프로젝트 이름이 접두사로 붙기 때문에 피어 종속성은 프로젝트에 명시된 대로 정확하게 해결할 수 있습니다. 이는 [liferay-npm-bundler-plugin-inject-peer-dependencies](https://github.com/liferay/liferay-npm-build-tools/tree/master/packages/liferay-npm- bundler-plugin-inject-peer-dependencies) 플러그인. `require` 호출을 위해 모든 JS 모듈을 스캔합니다. 번들러가 `main.js` 파일에서 필요한 패키지를 찾았지만 `package.json`에 선언되지 않은 경우 `node_modules` 폴더에 있는 적절한 버전으로 해결합니다. 그런 다음 플러그인은 필요한 패키지의 출력 `package.json`에 새 종속성을 삽입합니다.

삽입된 종속성 버전 제약 조건은 캐럿이나 다른 의미적 버전 연산자 없이 필요한 특정 버전 번호입니다. 이는 프로젝트에서 발견된 정확한 피어 종속성을 존중하기 위한 것입니다. 보다 편안한 시맨틱 버전 식을 주입하면 불안정한 결과가 발생할 수 있습니다.

## 가져오기를 통한 수동 중복 제거

네임스페이스는 각 위젯이 자체 종속성을 갖는다는 것을 의미합니다. 이러한 방식으로 번들러를 사용해야만 webpack 또는 Browserify와 같은 표준 번들러와 동일한 기능을 얻을 수 있으므로 liferay-npm-bundler와 같은 특정 도구가 필요하지 않습니다. Liferay Portal은 위젯 기반 아키텍처이므로 서로 다른 위젯 간에 종속성을 공유하는 것이 매우 유용할 것입니다.

번들러 1.x에서는 중복 제거가 자동으로 수행되었지만 제어할 수 없었습니다. 그러나 버전 2.x에서는 이제 자체 OSGi 번들을 사용하는 대신 외부 OSGi 번들에서 패키지를 가져올 수 있습니다. 이렇게 하면 하나의 프로젝트에 공유 종속성을 넣고 나머지에서 참조할 수 있습니다. 이 새로운 중복 제거 방법은 자동은 아니지만 각 패키지가 해결되는 방식을 완전히 제어할 수 있습니다(빌드 시간 동안).

이제 liferay-npm-bundler 버전 1.x와 2.x 사이에 변경된 사항을 이해했으므로 [liferay-npm-bundler 프로젝트를 1.x에서 2.x로 마이그레이션](./bundler-migration-guide/migrating-bundler-projects-intro.md) 의 단계에 따라 마이그레이션할 수 있습니다. 1.x는 2.x로 프로젝트합니다.
