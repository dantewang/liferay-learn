# 데이터베이스 사용자 이름 변경

MySQL 사용자 이름은 `lcp-secret-database-user` secret으로 정의되며 언제든지 변경할 수 있습니다. 이 값이 변경되면 새 자격 증명을 가진 사용자가 데이터베이스에 생성되고 서비스가 다시 시작되면 이전 사용자 이름이 제거됩니다.

그러나 암호 값을 변경하기 전에 `LCP_DATABASE_USER_WHITELIST` 변수를 사용하여 유지된 사용자 목록에 현재 사용자 이름을 추가할 수 있습니다. 이러한 방식으로 추가된 사용자 자격 증명은 유지되며 서비스가 새 암호 값으로 업데이트된 후에도 데이터베이스와 연결된 상태로 유지됩니다.

사용자 이름을 변경하면 `liferay` 및 `backup` 서비스와 같이 데이터베이스에 연결된 다른 서비스에 영향을 미칠 수 있습니다. 이러한 서비스는 작업을 계속하려면 데이터베이스 사용자 이름이 변경된 경우에도 다시 시작해야 합니다.

```{note}
데이터베이스 사용자 이름 암호가 없으면 프로젝트 서비스는 `LCP_MASTER_USER_NAME` 변수를 사용합니다. 이 변수는 `LCP.json` 파일에 정의되어 있으며 `dxpcloud`를 기본값으로 사용합니다.
```

## 데이터베이스 사용자 이름 유지

유지된 사용자 목록에 추가하여 현재 사용자 이름을 유지하려면 다음 단계를 따르십시오.

1. 원하는 프로젝트 환경에서 전용 데이터베이스 서비스 페이지로 이동합니다.

1. *환경 변수* 탭을 클릭합니다.

1. *일반 변수*아래에 `LCP_DATABASE_USER_WHITELIST` 을 입력하고 *값*로 유지하려는 사용자 이름을 입력합니다. 공백 및/또는 쉼표로 구분하여 여러 사용자 이름을 입력할 수 있습니다.

1. *변경 사항 저장*을 클릭하십시오.

일단 저장되면 데이터베이스 서비스가 자동으로 다시 시작되고 현재 자격 증명을 유지된 사용자 목록에 추가합니다. 서비스 재시작이 완료되면 `lcp-secret-database-user` secret 변경을 진행합니다.

## 데이터베이스 사용자 이름을 변경하는 방법

데이터베이스 사용자 이름을 변경하려면 다음 단계를 따르십시오.

1. 원하는 프로젝트 환경으로 이동하여 환경 메뉴에서 *설정* 을 클릭합니다.

1. *비밀* 섹션에서 `lcp-secret-database-user`에 대한 *작업* 버튼을 클릭하고 *편집*을 선택합니다.

1. *값* 섹션에서 *표시* 을 클릭하여 암호 값을 표시하고 편집을 활성화합니다. 그런 다음 새 값을 설정합니다.

   선택적으로 암호 값을 볼 수 있는 사용자와 암호를 사용하는 서비스를 선택할 수 있습니다.

1. *Publish secret* 확인란을 사용하여 변경 사항이 연결된 서비스에 미치는 영향을 확인합니다.

1. *변경 사항 게시*을 클릭합니다.

게시되면 연결된 모든 서비스가 다시 시작되고 몇 분 동안 요청 수신이 중지됩니다. 비밀의 용도에 따라 다르게 작동할 수도 있습니다. 서비스가 시작되면 환경 변수를 읽고 데이터베이스 사용자를 업데이트합니다.

## 추가 정보

* [데이터베이스 서비스](./database-service.md)
* [데이터베이스 비밀번호 변경](./changing-your-database-password.md)
* [보안 비밀로 보안 환경 변수 관리](../../infrastructure-and-operations/security/managing-secure-environment-variables-with-secrets.md)
